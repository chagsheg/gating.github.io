<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5"><title>æ‰‹æŠŠæ‰‹æ•™ä½ å†™ä¸€ä¸ªç¬¦åˆè‡ªå·±éœ€æ±‚çš„å°ç¨‹åºæ—¥å†ç»„ä»¶ | ç£¨è¹­å…ˆç”Ÿ</title><meta name="description" content="å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬ç”Ÿæ´»ä¸­ä¼šæœ‰å„ç§æ‰“å¡çš„æƒ…å†µï¼Œæ¯”å¦‚keepçš„è¿åŠ¨æ‰“å¡ã€å•è¯çš„å­¦ä¹ æ‰“å¡å’Œå„ç§ç­¾åˆ°æ‰“å¡æˆ–è€…é…’åº—çš„å…¥ä½æ—¶é—´é€‰æ‹©ï¼Œè¿™æ—¶å€™å°±éœ€è¦æˆ‘ä»¬ä¹¦å†™ä¸€ä¸ªæ—¥å†ç»„ä»¶æ¥å¤„ç†æˆ‘ä»¬è¿™ç§éœ€æ±‚ã€‚"><meta name="keywords" content="å°ç¨‹åº"><meta name="author" content="gating"><meta name="copyright" content="gating"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/GATING/blog_imgs@master/blog/favicon.ico"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="https://hm.baidu.com"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="æ‰‹æŠŠæ‰‹æ•™ä½ å†™ä¸€ä¸ªç¬¦åˆè‡ªå·±éœ€æ±‚çš„å°ç¨‹åºæ—¥å†ç»„ä»¶"><meta name="twitter:description" content="å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬ç”Ÿæ´»ä¸­ä¼šæœ‰å„ç§æ‰“å¡çš„æƒ…å†µï¼Œæ¯”å¦‚keepçš„è¿åŠ¨æ‰“å¡ã€å•è¯çš„å­¦ä¹ æ‰“å¡å’Œå„ç§ç­¾åˆ°æ‰“å¡æˆ–è€…é…’åº—çš„å…¥ä½æ—¶é—´é€‰æ‹©ï¼Œè¿™æ—¶å€™å°±éœ€è¦æˆ‘ä»¬ä¹¦å†™ä¸€ä¸ªæ—¥å†ç»„ä»¶æ¥å¤„ç†æˆ‘ä»¬è¿™ç§éœ€æ±‚ã€‚"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png"><meta property="og:type" content="article"><meta property="og:title" content="æ‰‹æŠŠæ‰‹æ•™ä½ å†™ä¸€ä¸ªç¬¦åˆè‡ªå·±éœ€æ±‚çš„å°ç¨‹åºæ—¥å†ç»„ä»¶"><meta property="og:url" content="https://gatings.cn/2020-06-08/%E6%89%8B%E6%8A%8A%E6%89%8B%E6%95%99%E4%BD%A0%E5%86%99%E4%B8%80%E4%B8%AA%E7%AC%A6%E5%90%88%E8%87%AA%E5%B7%B1%E9%9C%80%E6%B1%82%E7%9A%84%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%97%A5%E5%8E%86%E7%BB%84%E4%BB%B6/"><meta property="og:site_name" content="ç£¨è¹­å…ˆç”Ÿ"><meta property="og:description" content="å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬ç”Ÿæ´»ä¸­ä¼šæœ‰å„ç§æ‰“å¡çš„æƒ…å†µï¼Œæ¯”å¦‚keepçš„è¿åŠ¨æ‰“å¡ã€å•è¯çš„å­¦ä¹ æ‰“å¡å’Œå„ç§ç­¾åˆ°æ‰“å¡æˆ–è€…é…’åº—çš„å…¥ä½æ—¶é—´é€‰æ‹©ï¼Œè¿™æ—¶å€™å°±éœ€è¦æˆ‘ä»¬ä¹¦å†™ä¸€ä¸ªæ—¥å†ç»„ä»¶æ¥å¤„ç†æˆ‘ä»¬è¿™ç§éœ€æ±‚ã€‚"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>const autoChangeMode="1";var t=Cookies.get("theme");{const e=window.matchMedia("(prefers-color-scheme: dark)").matches,o=window.matchMedia("(prefers-color-scheme: light)").matches,a=window.matchMedia("(prefers-color-scheme: no-preference)").matches,c=!e&&!o&&!a;void 0===t?o?activateLightMode():e?activateDarkMode():(a||c)&&(console.log("You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time."),now=new Date,hour=now.getHours(),isNight=hour<6||hour>=18,isNight?activateDarkMode():activateLightMode()):"light"==t?activateLightMode():activateDarkMode()}function activateDarkMode(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#000")}function activateLightMode(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#fff")}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css"><link rel="canonical" href="https://gatings.cn/2020-06-08/%E6%89%8B%E6%8A%8A%E6%89%8B%E6%95%99%E4%BD%A0%E5%86%99%E4%B8%80%E4%B8%AA%E7%AC%A6%E5%90%88%E8%87%AA%E5%B7%B1%E9%9C%80%E6%B1%82%E7%9A%84%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%97%A5%E5%8E%86%E7%BB%84%E4%BB%B6/"><link rel="prev" title="nodeå®ç°å›¾ç‰‡å››å‘¨å¡«å……é€æ˜åŒºåŸŸ" href="https://gatings.cn/2020-06-10/node%E5%9B%BE%E7%89%87%E5%9B%9B%E5%91%A8%E5%A1%AB%E5%85%85%E9%80%8F%E6%98%8E%E5%8C%BA%E5%9F%9F/"><link rel="next" title="Charlesï¼ˆé’èŠ±ç“·/èŠ±ç“¶ï¼‰çš„åŸºæœ¬ä½¿ç”¨" href="https://gatings.cn/2020-06-04/Charles%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/"><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?914d8fcbdf614fcc92017b47706d7bee";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"search.xml",languages:{hits_empty:"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹:${query}"}},translate:{defaultEncoding:2,translateDelay:0,cookieDomain:"https://gatings.cn/",msgToTraditionalChinese:"ç¹",msgToSimplifiedChinese:"ç®€"},copy:{success:"å¤åˆ¶æˆåŠŸ",error:"å¤åˆ¶é”™è¯¯",noSupport:"æµè§ˆå™¨ä¸æ”¯æŒ"},bookmark:{title:"Snackbar.bookmark.title",message_prev:"æŒ‰",message_next:"é”®å°†æœ¬é¡µåŠ å…¥ä¹¦ç­¾"},runtime_unit:"å¤©",runtime:!0,copyright:void 0,ClickShowText:void 0,medium_zoom:!0,fancybox:!0,Snackbar:{bookmark:{title:"Snackbar.bookmark.title",message_prev:"æŒ‰",message_next:"é”®å°†æœ¬é¡µåŠ å…¥ä¹¦ç­¾"},chs_to_cht:"ä½ å·²åˆ‡æ¢ä¸ºç¹ä½“",cht_to_chs:"ä½ å·²åˆ‡æ¢ä¸ºç®€ä½“",day_to_night:"ä½ å·²åˆ‡æ¢ä¸ºæ·±è‰²æ¨¡å¼",night_to_day:"ä½ å·²åˆ‡æ¢ä¸ºæµ…è‰²æ¨¡å¼",bgLight:"#49b1f5",bgDark:"#2d3035",position:"bottom-left"},baiduPush:!0,isHome:!1,isPost:!0}</script><meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="ç£¨è¹­å…ˆç”Ÿ" type="application/atom+xml">
</head><body><header><div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">ç£¨è¹­å…ˆç”Ÿ</a></span><span class="toggle-menu pull_right close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> å…³äº</span></a></div></div></span><span class="pull_right" id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> æœç´¢</span></a></span></div></header><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="https://cdn.jsdelivr.net/gh/GATING/blog_imgs@master/blog/avatar.png" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length_num">38</div></a></div></div><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length_num">18</div></a></div></div><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length_num">8</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> å…³äº</span></a></div></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">ç›®å½•</div><div class="sidebar-toc__content"><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#å‰è¨€"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">å‰è¨€</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#å‡†å¤‡å·¥ä½œ"><span class="toc_mobile_items-number">2.</span> <span class="toc_mobile_items-text">å‡†å¤‡å·¥ä½œ</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#ç¼–å†™ä»£ç "><span class="toc_mobile_items-number">3.</span> <span class="toc_mobile_items-text">ç¼–å†™ä»£ç </span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#æ€è€ƒä¸€ä¸‹"><span class="toc_mobile_items-number">3.1.</span> <span class="toc_mobile_items-text">æ€è€ƒä¸€ä¸‹</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#å°-tips"><span class="toc_mobile_items-number">3.1.1.</span> <span class="toc_mobile_items-text">å° tips</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#æ­£å¼å¼€å§‹ç¼–å†™ä»£ç "><span class="toc_mobile_items-number">3.2.</span> <span class="toc_mobile_items-text">æ­£å¼å¼€å§‹ç¼–å†™ä»£ç </span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#æ— ç¼æ»‘åŠ¨æ€è€ƒ"><span class="toc_mobile_items-number">3.3.</span> <span class="toc_mobile_items-text">æ— ç¼æ»‘åŠ¨æ€è€ƒ</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#å¦‚ä½•åŒºåˆ†å·¦æ»‘å³æ»‘ï¼ˆä¸Šæ»‘ä¸‹æ»‘ï¼‰"><span class="toc_mobile_items-number">3.4.</span> <span class="toc_mobile_items-text">å¦‚ä½•åŒºåˆ†å·¦æ»‘å³æ»‘ï¼ˆä¸Šæ»‘ä¸‹æ»‘ï¼‰</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#æ­£å¼ä¹¦å†™æˆ‘ä»¬å¯æ»‘åŠ¨çš„æ—¥å†ç»„ä»¶"><span class="toc_mobile_items-number">3.5.</span> <span class="toc_mobile_items-text">æ­£å¼ä¹¦å†™æˆ‘ä»¬å¯æ»‘åŠ¨çš„æ—¥å†ç»„ä»¶</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#æœ€å"><span class="toc_mobile_items-number">4.</span> <span class="toc_mobile_items-text">æœ€å</span></a></li></ol></div></div></div><div id="body-wrap"><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">ç›®å½•</div><div class="sidebar-toc__progress"><span class="progress-notice">ä½ å·²ç»è¯»äº†</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#å‰è¨€"><span class="toc-number">1.</span> <span class="toc-text">å‰è¨€</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#å‡†å¤‡å·¥ä½œ"><span class="toc-number">2.</span> <span class="toc-text">å‡†å¤‡å·¥ä½œ</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ç¼–å†™ä»£ç "><span class="toc-number">3.</span> <span class="toc-text">ç¼–å†™ä»£ç </span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#æ€è€ƒä¸€ä¸‹"><span class="toc-number">3.1.</span> <span class="toc-text">æ€è€ƒä¸€ä¸‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#å°-tips"><span class="toc-number">3.1.1.</span> <span class="toc-text">å° tips</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#æ­£å¼å¼€å§‹ç¼–å†™ä»£ç "><span class="toc-number">3.2.</span> <span class="toc-text">æ­£å¼å¼€å§‹ç¼–å†™ä»£ç </span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#æ— ç¼æ»‘åŠ¨æ€è€ƒ"><span class="toc-number">3.3.</span> <span class="toc-text">æ— ç¼æ»‘åŠ¨æ€è€ƒ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#å¦‚ä½•åŒºåˆ†å·¦æ»‘å³æ»‘ï¼ˆä¸Šæ»‘ä¸‹æ»‘ï¼‰"><span class="toc-number">3.4.</span> <span class="toc-text">å¦‚ä½•åŒºåˆ†å·¦æ»‘å³æ»‘ï¼ˆä¸Šæ»‘ä¸‹æ»‘ï¼‰</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#æ­£å¼ä¹¦å†™æˆ‘ä»¬å¯æ»‘åŠ¨çš„æ—¥å†ç»„ä»¶"><span class="toc-number">3.5.</span> <span class="toc-text">æ­£å¼ä¹¦å†™æˆ‘ä»¬å¯æ»‘åŠ¨çš„æ—¥å†ç»„ä»¶</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#æœ€å"><span class="toc-number">4.</span> <span class="toc-text">æœ€å</span></a></li></ol></div></div></div><main id="content-outer"><div id="top-container" style="background-image:url(https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png)"><div id="post-info"><div id="post-title"><div class="posttitle">æ‰‹æŠŠæ‰‹æ•™ä½ å†™ä¸€ä¸ªç¬¦åˆè‡ªå·±éœ€æ±‚çš„å°ç¨‹åºæ—¥å†ç»„ä»¶</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> å‘è¡¨äº 2020-06-08<span class="post-meta__separator">|</span><i class="fa fa-history fa-fw" aria-hidden="true"></i> æ›´æ–°äº 2020-11-03</time><span class="post-meta__separator">|</span><span><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/%E5%B0%8F%E7%A8%8B%E5%BA%8F/">å°ç¨‹åº</a></span><div class="post-meta-wordcount"><i class="fa fa-file-word-o post-meta__icon fa-fw" aria-hidden="true"></i><span>å­—æ•°æ€»è®¡:</span><span class="word-count">4.9k</span><span class="post-meta__separator">|</span><i class="fa fa-clock-o post-meta__icon fa-fw" aria-hidden="true"></i><span>é˜…è¯»æ—¶é•¿: 20 åˆ†é’Ÿ</span><div class="post-meta-pv-cv"><span class="post-meta__separator">|</span><span><i class="fa fa-eye post-meta__icon fa-fw" aria-hidden="true"> </i>é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"></span></div></div></div></div></div><div class="layout layout_post" id="content-inner"><article id="post"><div class="article-container" id="post-content"><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬ç”Ÿæ´»ä¸­ä¼šæœ‰å„ç§æ‰“å¡çš„æƒ…å†µï¼Œæ¯”å¦‚ keep çš„è¿åŠ¨æ‰“å¡ã€å•è¯çš„å­¦ä¹ æ‰“å¡å’Œå„ç§ç­¾åˆ°æ‰“å¡æˆ–è€…é…’åº—çš„å…¥ä½æ—¶é—´é€‰æ‹©ï¼Œè¿™æ—¶å€™å°±éœ€è¦æˆ‘ä»¬ä¹¦å†™ä¸€ä¸ªæ—¥å†ç»„ä»¶æ¥å¤„ç†æˆ‘ä»¬è¿™ç§éœ€æ±‚ã€‚</p><p>ä½†æ˜¯æ›´å¤šæ—¶å€™ï¼Œæˆ‘ä»¬éƒ½æ˜¯ç½‘ä¸Šæ‰¾ä¸€ä¸ªæ’ä»¶ç›´æ¥å¥—ç”¨äº†ï¼Œæœ‰æ²¡æœ‰æƒ³è¿‡è‡ªå·±å®ç°ä¸€ä¸‹å‘¢ï¼Ÿå¦‚æœæœ‰ï¼Œä½†æ˜¯æ„Ÿè§‰ä¸å¤ªä¼šçš„è¯ï¼Œæ¥ä¸‹æ¥è·Ÿç€æˆ‘ä¸€èµ·å®ç°ç¬¦åˆè‡ªå·±éœ€æ±‚çš„æ—¥å†å§</p><h1 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h1><p>å› ä¸ºæˆ‘ä»¬æ˜¯å°ç¨‹åºæ—¥å†å˜›ï¼Œæ‰€ä»¥å¿…ä¸å¯å°‘çš„è‚¯å®šæ˜¯å¾®ä¿¡å¼€å‘è€…å·¥å…·å•¦ã€‚é¡¹ç›®ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">|-- calendar</span><br><span class="line">    |-- app.js</span><br><span class="line">    |-- app.json</span><br><span class="line">    |-- app.wxss</span><br><span class="line">    |-- project.config.json</span><br><span class="line">    |-- sitemap.json</span><br><span class="line">    |-- components</span><br><span class="line">    |   |-- calendar</span><br><span class="line">    |       |-- index.js</span><br><span class="line">    |       |-- index.json</span><br><span class="line">    |       |-- index.wxml</span><br><span class="line">    |       |-- index.wxss</span><br><span class="line">    |-- pages</span><br><span class="line">        |-- index</span><br><span class="line">            |-- index.js</span><br><span class="line">            |-- index.json</span><br><span class="line">            |-- index.wxml</span><br><span class="line">            |-- index.wxss</span><br></pre></td></tr></table></figure></div><p>ä½¿ç”¨ <code>git</code> ä¸‹è½½ç©ºç™½æ¨¡æ¿:</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">bash</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> -b calendar  https://gitee.com/gating/demo.git</span><br></pre></td></tr></table></figure></div><blockquote><p>ps: ä¸‹é¢æ­¥éª¤æœ‰ç‚¹å•°å—¦ï¼Œå¦‚æœçœ‹ç›®å½•ç»“æ„å°±èƒ½æ‡‚çš„è¯å°±ä¸éœ€è¦è·Ÿç€æ­¥éª¤å•¦</p></blockquote><ol><li><p>æ–°å»ºä¸€ä¸ªåä¸º<code>calendar</code>çš„ç©ºæ–‡ä»¶å¤¹</p></li><li><p>æ‰“å¡<code>å¾®ä¿¡å¼€å‘è€…å·¥å…·</code>ï¼Œæ–°å¢é¡¹ç›®ï¼Œé€‰ä¸­åˆšåˆšåˆ›å»ºçš„<code>calendar</code>æ–‡ä»¶å¤¹ï¼Œå¼€å‘æ¨¡å¼é€‰ä¸­å°ç¨‹åºï¼ŒAppID ä½¿ç”¨æµ‹è¯•å·å³å¯ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š<br><a href="https://cdn.JsDelivr.net/gh/GATING/blog_imgs/2020-06-08/calendar01.jpg" target="_blank" rel="noopener" data-fancybox="group" data-caption="æ–°å»ºcalendaré¡¹ç›®" class="fancybox"><img alt="æ–°å»ºcalendaré¡¹ç›®" title="æ–°å»ºcalendaré¡¹ç›®" data-src="https://cdn.JsDelivr.net/gh/GATING/blog_imgs/2020-06-08/calendar01.jpg" class="lazyload"></a></p></li><li><p>åˆ›å»ºå®Œåï¼Œå¼€å‘è€…å·¥å…·ä¼šé»˜è®¤å¸®æˆ‘ä»¬ç”Ÿæˆé»˜è®¤çš„ä»£ç ï¼Œæˆ‘ä»¬åœ¨å½“å‰æ–‡ä»¶å¤¹æ–°å¢<code>components</code>æ–‡ä»¶å®¶ï¼Œå†åœ¨<code>components</code>æ–‡ä»¶å¤¹ä¸­æ–°å¢<code>calendar</code>æ–‡ä»¶å¤¹ï¼Œå†ä»å½“å‰æ–‡ä»¶å¤¹æ–°å¢åä¸º<code>index</code>çš„ç»„ä»¶ï¼Œå¦‚å›¾ï¼š</p><p><a href="https://cdn.JsDelivr.net/gh/GATING/blog_imgs/2020-06-08/calendar02.jpg" target="_blank" rel="noopener" data-fancybox="group" data-caption="æ–°å»ºcalendarç»„ä»¶" class="fancybox"><img alt="æ–°å»ºcalendarç»„ä»¶" title="æ–°å»ºcalendarç»„ä»¶" data-src="https://cdn.JsDelivr.net/gh/GATING/blog_imgs/2020-06-08/calendar02.jpg" class="lazyload"></a></p></li></ol><blockquote><p>ps:å› ä¸ºå¼€å‘è€…å·¥å…·ä¼šé»˜è®¤ç”Ÿæˆåˆå§‹ä»£ç ï¼Œæ‰€ä»¥ç›´æ¥ä½¿ç”¨ä»–åˆ›å»ºç»„ä»¶æ¯”è¾ƒæ–¹ä¾¿</p></blockquote><ol start="4"><li>åˆ é™¤ä¸€äº›å’Œæœ¬æ¬¡åšæ–‡æ— å…³çš„ä»£ç ï¼Œæ¯”å¦‚<code>app.js</code>ä¸­çš„æœ¬åœ°ç¼“å­˜èƒ½åŠ›ï¼Œå…·ä½“å‚è€ƒç©ºç™½æ¨¡æ¿</li></ol><h1 id="ç¼–å†™ä»£ç "><a href="#ç¼–å†™ä»£ç " class="headerlink" title="ç¼–å†™ä»£ç "></a>ç¼–å†™ä»£ç </h1><p>æ¥ä¸‹æ¥ç¼–å†™ä»£ç éƒ¨åˆ†æˆ‘ä»¬ç›´æ¥åœ¨<code>VSCode</code>ç¼–å†™ï¼Œå› ä¸º<code>å¾®ä¿¡å¼€å‘è€…å·¥å…·</code>å®åœ¨å¤ªã€‚ã€‚ã€‚- -æ‰€ä»¥è¿˜æ˜¯ä½¿ç”¨<code>VSCode</code>ç¼–å†™æ¯”è¾ƒåˆé€‚</p><h2 id="æ€è€ƒä¸€ä¸‹"><a href="#æ€è€ƒä¸€ä¸‹" class="headerlink" title="æ€è€ƒä¸€ä¸‹"></a>æ€è€ƒä¸€ä¸‹</h2><p>æƒ³è¦å®ç°æ—¥å†ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“å‡ ä¸ªå°çŸ¥è¯†ï¼š</p><ol><li><p>æ ¹æ®å¸¸è¯†ï¼Œæˆ‘ä»¬çŸ¥é“ä¸€ä¸ªæœˆæœ€å°‘æœ‰ 28 å¤©ï¼Œæœ€å¤šæœ‰ 31 å¤©ï¼Œä¸€å‘¨æœ‰ 7 å¤©ï¼Œé‚£ä¹ˆå°±å¯ä»¥æœ‰ 5 æ’ï¼Œä½†å¦‚æœæœ‰ä¸€ä¸ªæœˆçš„ç¬¬ä¸€å¤©ä¸ºæ˜ŸæœŸå…­ä¸”å½“æœˆæœ‰ 31 å¤©ï¼Œé‚£ä¹ˆä»–å°±ä¼šæœ‰ 6 æ’æ ¼å­æ‰å¯¹ã€‚æ¯”å¦‚<code>2020å¹´8æœˆ</code>ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š</p><p><a href="https://cdn.JsDelivr.net/gh/GATING/blog_imgs/2020-06-08/calendar03.jpg" target="_blank" rel="noopener" data-fancybox="group" data-caption="2020å¹´8æœˆ" class="fancybox"><img alt="2020å¹´8æœˆ" title="2020å¹´8æœˆ" data-src="https://cdn.JsDelivr.net/gh/GATING/blog_imgs/2020-06-08/calendar03.jpg" class="lazyload"></a></p></li></ol><p>2) æˆ‘ä»¬éœ€è¦çŸ¥é“ï¼Œå½“æœˆçš„ç¬¬ä¸€å¤©æ˜¯å‘¨å‡ </p><p>3) æˆ‘ä»¬éœ€è¦çŸ¥é“ï¼Œå½“æœˆæœ‰å¤šå°‘å¤©</p><p>4) æœ€é‡è¦çš„æ˜¯å°ç¨‹åºæ²¡æœ‰ DOM æ“ä½œæ¦‚å¿µï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸èƒ½åŠ¨æ€å¾€å½“æœˆç¬¬ä¸€å¤©æ’å…¥æ ¼å­ï¼Œæ‰€ä»¥åªèƒ½æ ¹æ®ç¬¬ä¸€å¤©æ˜¯å‘¨å‡ å¾ªç¯æ’å…¥æ ¼å­</p><p>çŸ¥é“ä»¥ä¸Šå››ç‚¹åï¼Œæˆ‘ä»¬å°±å¯ä»¥ç¼–å†™æˆ‘ä»¬çš„ä»£ç å•¦</p><p>é¦–å…ˆï¼Œç¬¬äºŒç¬¬ä¸‰ç‚¹æ˜¯æœ€ç®€å•çš„ï¼Œæˆ‘å…ˆä¹¦å†™ç¬¬äºŒç¬¬ä¸‰ç‚¹ï¼Œæ€ä¹ˆè·å–å½“å‰æ˜¯å‘¨å‡ å‘¢ï¼Ÿå…¶å®<code>js</code>çš„<code>Date</code>å¯¹è±¡ç›´æ¥æœ‰ç°æˆçš„æ–¹æ³•ï¼Œæˆ‘ä»¬ç›´æ¥æ‹¿æ¥ç”¨å°±å¥½äº†</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">"ä»Šå¤©æ˜¯æ˜ŸæœŸ"</span> + <span class="keyword">new</span> <span class="built_in">Date</span>().getDay());</span><br></pre></td></tr></table></figure></div><p>æˆ‘æƒ³æœ‰ç‚¹å°éš¾åº¦çš„æ˜¯ç¬¬ä¸‰ç‚¹ï¼Œè·å–å½“æœˆæœ‰å¤šå°‘å¤©ï¼Œå› ä¸ºä½ æƒ³ï¼Œå…¶ä»–çš„æœˆä»½çš„å¤©æ•°æ˜¯å›ºå®šçš„ï¼Œå”¯ç‹¬ 2 æœˆï¼Œåœ¨å¹³å¹´å’Œé—°å¹´çš„ä¸åŒå¹´ä»½ä¸­ï¼Œ2 æœˆçš„å¤©æ•°ä¹Ÿæ˜¯ä¸åŒçš„ï¼Œé‚£ä¹ˆæœ‰æ²¡æœ‰ç®€å•çš„æ–¹æ³•è·å–å½“æœˆæœ‰å¤šå°‘å¤©å‘¢ï¼Œå…¶å®ä¹Ÿæ˜¯æœ‰çš„ï¼Œ<code>Date</code>å®ä¾‹ä¸­çš„<code>getDate</code>å°±å¯ä»¥å®ç°æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœäº†</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è·å–ä¸€ä¸ªæœˆæœ‰å¤šå°‘å¤©</span></span><br><span class="line"><span class="keyword">const</span> getMonthDays = <span class="function">(<span class="params">year, month</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> days = <span class="keyword">new</span> <span class="built_in">Date</span>(year, month + <span class="number">1</span>, <span class="number">0</span>).getDate();</span><br><span class="line">  <span class="keyword">return</span> days;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div><p>æˆ‘ä»¬é€šè¿‡ <code>Date</code> çš„ç¬¬ä¸‰ä¸ªå‚æ•°ä¼  0 å°±å¯ä»¥è·å–ä¸Šä¸ªæœˆçš„æœ€åä¸€å¤©ï¼Œæœ€åé€šè¿‡ <code>getDate()</code> è·å–å®ƒçš„æ—¥æœŸå°±å¯ä»¥å¯¹åº”æˆ‘ä»¬å½“æœˆçš„å¤©æ•°ï¼Œé‚£ä¹ˆå°±ä¸éœ€è¦æˆ‘ä»¬è‡ªå·±å¤„ç†å¹³å¹´å’Œé—°å¹´çš„ 2 æœˆæœ‰å¤šå°‘å¤©äº†</p><blockquote><p>æ˜¯ä¸æ˜¯åˆå­¦åˆ°äº†å°çŸ¥è¯†ç‚¹å‘¢ï¼Ÿ</p></blockquote><p>è§£å†³äº† 2.3 ä¸¤ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¾€ä¸‹ä¹¦å†™æˆ‘ä»¬çš„æ—¥å†äº†ã€‚</p><p>ä¼—æ‰€å‘¨çŸ¥ï¼Œå°ç¨‹åºè§„å®šå®½åº¦ä¸º<code>750rpx</code>(<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxss.html" target="_blank" rel="noopener">å°ºå¯¸å•ä½</a>)ï¼Œè€Œæˆ‘ä»¬çš„ä¸€å‘¨æœ‰ 7 å¤©ï¼Œå³ 7 æ ¼ï¼Œé‚£ä¹ˆå°±æ˜¯æ¯ä¸ªæ ¼å­çš„å®½åº¦ä¸º<code>107rpx</code>ï¼Œä¸å»ºè®®ä½¿ç”¨å°æ•°ï¼Œå› ä¸º rpx è®¡ç®—çš„æ—¶å€™ï¼Œé‡åˆ°å°æ•°ä¼šå­˜åœ¨å°‘é‡åå·®ã€‚è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨<code>flex</code>å¸ƒå±€è§£å†³ã€‚</p><p>æ‰€ä»¥æ¥ä¸‹æ¥å°±å¯ä»¥å†™æˆ‘ä»¬çš„å¸ƒå±€å’Œç”Ÿæˆæˆ‘ä»¬çš„æ•°æ®å•¦ï¼Œä»ä¸Šé¢æˆ‘ä»¬åˆ†æäº†ï¼Œæˆ‘ä»¬æœ‰ 6 æ’æ ¼å­ï¼Œä¸€æ’æœ‰ 7 ä¸ªï¼Œä¹Ÿå°±æ˜¯ä¸€å…± 42 ä¸ªæ ¼å­ã€‚å³éœ€è¦éå† 42 æ¬¡</p><p>å…ˆå®šä¹‰ä¸€ä¸‹æˆ‘ä»¬æ‰€éœ€è¦çš„æ•°æ®ï¼Œä¾¿äºæˆ‘ä»¬åç»­æ“ä½œï¼š</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">json</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">"dataStr"</span>: <span class="string">"2020/06/08"</span>,</span><br><span class="line">    <span class="attr">"day"</span>: <span class="string">"08"</span>,</span><br><span class="line">    <span class="attr">"month"</span>: <span class="string">"08"</span>,</span><br><span class="line">    <span class="attr">"otherMonth"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"today"</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">"year"</span>: <span class="number">2020</span></span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></div><blockquote><p>è¿™é‡Œæˆ‘åªå®šä¹‰ä¸ªå‡ ä¸ªç®€å•çš„åŸºæœ¬æ•°æ®ï¼Œå¦‚æœæœ‰ä¸åŒçš„ä¸šåŠ¡åœºæ™¯å¯ä»¥è‡ªè¡Œæ·»åŠ åŸºç¡€æ•°æ®</p></blockquote><h3 id="å°-tips"><a href="#å°-tips" class="headerlink" title="å° tips"></a>å° tips</h3><p>IOS ç«¯çš„æ—¥æœŸæ ¼å¼å¿…é¡»ä¸º<code>/</code>æ‰å¯ä»¥è½¬åŒ–ä¸ºæ—¥æœŸæ ¼å¼ï¼Œæ¯”å¦‚<code>2018/07/08</code>ï¼Œè€Œ<code>2018-07-08</code>åˆ™è¿”å›<code>Invalid Date</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æŠŠ<code>-</code>éƒ½æ›¿æ¢ä¸º<code>/</code>ã€‚</p><p>ä¸å•å•æ˜¯å°ç¨‹åºï¼Œå¾®ä¿¡å…¬ä¼—å·ï¼Œsafari éƒ½æ˜¯ä¸€æ ·çš„ã€‚</p><h2 id="æ­£å¼å¼€å§‹ç¼–å†™ä»£ç "><a href="#æ­£å¼å¼€å§‹ç¼–å†™ä»£ç " class="headerlink" title="æ­£å¼å¼€å§‹ç¼–å†™ä»£ç "></a>æ­£å¼å¼€å§‹ç¼–å†™ä»£ç </h2><p>é‚£ä¹ˆå°±å¯ä»¥å†™æˆ‘ä»¬çš„ js ä»£ç äº†ï¼Œåœ¨ <code>components -&gt; calendar</code>ç›®å½•ä¸‹æ–°å»º<code>utils.js</code>æ–‡ä»¶ï¼Œä¹¦å†™æˆ‘ä»¬åˆ›å»ºæ•°æ®çš„åŸºç¡€æ–¹æ³•ï¼š</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è·å–å½“æœˆæœ‰å¤šå°‘å¤©</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;String | Number&#125;</span> </span>year =&gt; å¹´</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;String | Number&#125;</span> </span>month =&gt; æœˆ</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> getMonthDays = <span class="function">(<span class="params">year, month</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> days = <span class="keyword">new</span> <span class="built_in">Date</span>(year, month + <span class="number">1</span>, <span class="number">0</span>).getDate();</span><br><span class="line">  <span class="keyword">return</span> days;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¡¥0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;String | Number&#125;</span> <span class="variable">num</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> toDou = <span class="function">(<span class="params">num</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> num &gt; <span class="number">9</span> ? num : <span class="string">"0"</span> + num;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è½¬æ¢ä¸ºæ—¥æœŸæ ¼å¼</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span> <span class="variable">date</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> transformDate = <span class="function">(<span class="params">date</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (!(date <span class="keyword">instanceof</span> <span class="built_in">Date</span>)) &#123;</span><br><span class="line">    date = <span class="keyword">new</span> <span class="built_in">Date</span>(date);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> date;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è·å–å½“å‰æ—¥æœŸçš„å¹´æœˆæ—¥</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;any&#125;</span> </span>date =&gt; æ—¥æœŸå¯¹è±¡</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> getDateObj = <span class="function">(<span class="params">date</span>) =&gt;</span> &#123;</span><br><span class="line">  date = transformDate(date);</span><br><span class="line">  <span class="keyword">var</span> year = date.getFullYear();</span><br><span class="line">  <span class="keyword">var</span> month = date.getMonth() + <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">var</span> day = date.getDate();</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    year,</span><br><span class="line">    month,</span><br><span class="line">    day,</span><br><span class="line">    dataStr: <span class="string">`<span class="subst">$&#123;year&#125;</span>/<span class="subst">$&#123;toDou(month)&#125;</span>/<span class="subst">$&#123;toDou(day)&#125;</span>`</span>,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è·å–å½“æœˆ1å·çš„æ—¶é—´æˆ³</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;Date&#125;</span> </span>date =&gt; æ—¥æœŸå¯¹è±¡</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> startOfMonth = <span class="function">(<span class="params">date</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> date.setDate(<span class="number">1</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–ä»Šå¤©ï¼Œå¯¼å‡ºä¾›ç»„ä»¶ä½œä¸ºé»˜è®¤å€¼ä½¿ç”¨</span></span><br><span class="line"><span class="keyword">const</span> &#123; dataStr &#125; = getDateObj(<span class="keyword">new</span> <span class="built_in">Date</span>());</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç”Ÿæˆæ—¥å†æ•°æ®</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;Date&#125;</span> </span>date =&gt; æ—¥æœŸå¯¹è±¡</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> getDate = <span class="function">(<span class="params">date</span>) =&gt;</span> &#123;</span><br><span class="line">  date = transformDate(date);</span><br><span class="line">  <span class="comment">// è®¡ç®—éœ€è¦è¡¥çš„æ ¼å­</span></span><br><span class="line">  <span class="keyword">let</span> dist;</span><br><span class="line">  <span class="keyword">const</span> &#123; year, month &#125; = getDateObj(date);</span><br><span class="line">  <span class="comment">// è·å–å½“æœˆæœ‰å¤šå°‘å¤©</span></span><br><span class="line">  <span class="keyword">const</span> days = getMonthDays(year, month - <span class="number">1</span>);</span><br><span class="line">  <span class="comment">// è·å–å½“å‰æ—¥æœŸæ˜¯æ˜ŸæœŸå‡ </span></span><br><span class="line">  <span class="keyword">let</span> currentDate = <span class="keyword">new</span> <span class="built_in">Date</span>(startOfMonth(date)).getDay();</span><br><span class="line">  <span class="comment">// ä¼—æ‰€å‘¨çŸ¥çš„åŸå› ï¼Œä¸€å‘¨çš„ç¬¬ä¸€å¤©æ—¶æ˜ŸæœŸå¤©ï¼Œè€Œæˆ‘ä»¬åšçš„æ—¥å†æ˜ŸæœŸå¤©æ˜¯æ”¾åœ¨æœ€åçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™é‡Œéœ€è¦æ”¹ä¸€ä¸‹å€¼</span></span><br><span class="line">  <span class="keyword">if</span> (currentDate == <span class="number">0</span>) &#123;</span><br><span class="line">    currentDate = <span class="number">7</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  dist = currentDate - <span class="number">1</span>;</span><br><span class="line">  currentDate -= <span class="number">2</span>;</span><br><span class="line">  <span class="keyword">const</span> res = [];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">42</span>; i++) &#123;</span><br><span class="line">    <span class="comment">// æ˜¯å¦ä¸æ˜¯å½“å‰æœˆ</span></span><br><span class="line">    <span class="keyword">const</span> otherMonth = i &gt;= dist + days || i &lt;= currentDate;</span><br><span class="line">    <span class="keyword">const</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>(year, month - <span class="number">1</span>, -currentDate + i);</span><br><span class="line">    <span class="keyword">const</span> dateObj = getDateObj(date);</span><br><span class="line">    res.push(&#123;</span><br><span class="line">      ...dateObj,</span><br><span class="line">      today: dataStr === dateObj.dataStr,</span><br><span class="line">      otherMonth,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  getMonthDays,</span><br><span class="line">  toDou,</span><br><span class="line">  getDateObj,</span><br><span class="line">  startOfMonth,</span><br><span class="line">  getDate,</span><br><span class="line">  dataStr,</span><br><span class="line">  transformDate,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div><p>è¿™é‡Œä»£ç éƒ½æ¯”è¾ƒç®€å•ï¼Œæ³¨é‡Šä¹Ÿæœ‰å†™ï¼Œæ‰€ä»¥å°±ä¸è¯¦ç»†è§£é‡Šäº†ï¼Œå¦‚æœ‰é—®é¢˜å°±è¯„è®ºï¼Œæˆ‘çœ‹åˆ°ä¼šç¬¬ä¸€æ—¶é—´å›å¤çš„ã€‚ã€‚ã€‚ã€‚</p><p>åœ¨ <code>components -&gt; calendar -&gt; index.js</code> å¼•å…¥ä¸€ä¸‹ <code>utils.js</code> æ–‡ä»¶ï¼Œç„¶ååœ¨<code>created</code>è¿™ä¸ªç”Ÿå‘½å‘¨æœŸæ‰“å°ä¸€ä¸‹æˆ‘ä»¬çš„åŸºç¡€æ•°æ®ï¼Œçœ‹æ˜¯å¦ç¬¦åˆé¢„æœŸï¼š</p><p><a href="https://cdn.JsDelivr.net/gh/GATING/blog_imgs/2020-06-08/calendar04.jpg" target="_blank" rel="noopener" data-fancybox="group" data-caption class="fancybox"><img alt data-src="https://cdn.JsDelivr.net/gh/GATING/blog_imgs/2020-06-08/calendar04.jpg" class="lazyload"></a></p><p>å¦‚æœä½ æ‰“å°çš„å’Œæˆ‘æ‰“å°çš„ä¸€è‡´ï¼Œé‚£ä¹ˆå°±å¯ä»¥æ„‰å¿«çš„å†™æˆ‘ä»¬ç»„ä»¶çš„ç•Œé¢å•¦ ğŸ˜„</p><p>å› ä¸ºå¸ƒå±€å¤§å¤šæ•°éƒ½æ˜¯æ ·å¼æ–¹é¢çš„é—®é¢˜ï¼Œè¿™é‡Œå°±ä¸å¤šè®²è§£å•¦ï¼Œæˆ‘æƒ³å¤§å®¶åº”è¯¥éƒ½ä¼šçš„ï¼Œæ‰€ä»¥è¿™é‡Œç›´æ¥ç²˜è´´ä»£ç å•¦ï¼Œä¸»è¦éƒ¨åˆ†æˆ‘å°±è®²è§£ä¸€ä¸‹</p><p><code>index.wxml</code>ä»£ç å¦‚ä¸‹ï¼š</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">xml</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"calendar-wrapper"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"calendar-controller"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"calendar-picker"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">"arrow left"</span> <span class="attr">bindtap</span>=<span class="string">"prevMonth"</span>&gt;</span><span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">picker</span></span></span><br><span class="line"><span class="tag">        <span class="attr">mode</span>=<span class="string">'date'</span></span></span><br><span class="line"><span class="tag">        <span class="attr">fields</span>=<span class="string">'month'</span></span></span><br><span class="line"><span class="tag">        <span class="attr">end</span>=<span class="string">"2999-12-31"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">start</span>=<span class="string">"1970-01-01"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">value</span>=<span class="string">"&#123;&#123;monthFormat&#125;&#125;"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">bindchange</span>=<span class="string">"dateChange"</span></span></span><br><span class="line"><span class="tag">      &gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">"month-format"</span>&gt;</span>&#123;&#123;monthFormat&#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">picker</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">"arrow right"</span> <span class="attr">bindtap</span>=<span class="string">"nextMonth"</span>&gt;</span><span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"calendar-header"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"item"</span> <span class="attr">wx:for</span>=<span class="string">"&#123;&#123;week&#125;&#125;"</span> <span class="attr">wx:key</span>=<span class="string">"*this"</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"calendar-container"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"item &#123;&#123;item.today?'today':''&#125;&#125; &#123;&#123;item.otherMonth?'other-month':''&#125;&#125;"</span> <span class="attr">wx:for</span>=<span class="string">"&#123;&#123;calendar&#125;&#125;"</span> <span class="attr">wx:key</span>=<span class="string">"dataStr"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">text</span>&gt;</span>&#123;&#123;item.day&#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure></div><p><code>index.wxss</code>ä»£ç å¦‚ä¸‹ï¼š</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">css</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.calendar-container</span>,</span><br><span class="line"><span class="selector-class">.calendar-controller</span>,</span><br><span class="line"><span class="selector-class">.calendar-header</span>,</span><br><span class="line"><span class="selector-class">.calendar-picker</span>,</span><br><span class="line"><span class="selector-class">.calendar-container</span> <span class="selector-class">.item</span>,</span><br><span class="line"><span class="selector-class">.calendar-header</span> <span class="selector-class">.item</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">line-height</span>: normal;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.calendar-container</span>,</span><br><span class="line"><span class="selector-class">.calendar-controller</span>,</span><br><span class="line"><span class="selector-class">.calendar-header</span> &#123;</span><br><span class="line">  <span class="attribute">justify-content</span>: space-around;</span><br><span class="line">  <span class="attribute">flex-wrap</span>: wrap;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.calendar-container</span> <span class="selector-class">.item</span>,</span><br><span class="line"><span class="selector-class">.calendar-header</span> <span class="selector-class">.item</span> &#123;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">107</span>rpx;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">28</span>rpx;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">80</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.calendar-header</span> <span class="selector-class">.item</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#666</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.calendar-container</span> <span class="selector-class">.item</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#111</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.calendar-container</span> <span class="selector-class">.item</span><span class="selector-class">.other-month</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#999</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.calendar-container</span> <span class="selector-class">.item</span><span class="selector-class">.today</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#6190e8</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">600</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.calendar-picker</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">30</span>rpx;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#111</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">20</span>rpx <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.month-format</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">30</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.arrow</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10</span>rpx <span class="number">15</span>rpx;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#f7f8fc</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.arrow</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">""</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">14</span>rpx;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">14</span>rpx;</span><br><span class="line">  <span class="attribute">border-top</span>: <span class="number">4</span>rpx solid <span class="number">#ccc</span>;</span><br><span class="line">  <span class="attribute">border-left</span>: <span class="number">4</span>rpx solid <span class="number">#ccc</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.arrow</span><span class="selector-class">.left</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotateY</span>(-<span class="number">45deg</span>) <span class="built_in">rotate</span>(-<span class="number">47deg</span>) <span class="built_in">skew</span>(<span class="number">5deg</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.arrow</span><span class="selector-class">.right</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotateY</span>(-<span class="number">135deg</span>) <span class="built_in">rotate</span>(-<span class="number">47deg</span>) <span class="built_in">skew</span>(<span class="number">5deg</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p><code>index.js</code>ä»£ç å¦‚ä¸‹ï¼š</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// components/calendar/index.js</span></span><br><span class="line"><span class="keyword">const</span> &#123; getDate, dataStr, getDateObj &#125; = <span class="built_in">require</span>(<span class="string">"./utils"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> getDateStr = <span class="function">(<span class="params">dataStr</span>) =&gt;</span> dataStr.slice(<span class="number">0</span>, <span class="number">-3</span>).replace(<span class="string">"/"</span>, <span class="string">"-"</span>);</span><br><span class="line">Component(&#123;</span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * ç»„ä»¶çš„å±æ€§åˆ—è¡¨</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  properties: &#123;&#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * ç»„ä»¶çš„åˆå§‹æ•°æ®</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  data: &#123;</span><br><span class="line">    week: [<span class="string">"ä¸€"</span>, <span class="string">"äºŒ"</span>, <span class="string">"ä¸‰"</span>, <span class="string">"å››"</span>, <span class="string">"äº”"</span>, <span class="string">"å…­"</span>, <span class="string">"æ—¥"</span>],</span><br><span class="line">    calendar: getDate(<span class="keyword">new</span> <span class="built_in">Date</span>()),</span><br><span class="line">    monthFormat: getDateStr(dataStr),</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * ç»„ä»¶çš„æ–¹æ³•åˆ—è¡¨</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  methods: &#123;</span><br><span class="line">    dateChange(e) &#123;</span><br><span class="line">      <span class="keyword">const</span> monthFormat = e.detail.value;</span><br><span class="line">      <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">        monthFormat,</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// ä¸Šä¸ªæœˆæ—¥æœŸ</span></span><br><span class="line">    prevMonth() &#123;</span><br><span class="line">      <span class="keyword">const</span> [year, month] = <span class="keyword">this</span>.data.monthFormat.split(<span class="string">"-"</span>);</span><br><span class="line">      <span class="keyword">const</span> &#123; dataStr &#125; = getDateObj(</span><br><span class="line">        <span class="keyword">new</span> <span class="built_in">Date</span>(year, month, <span class="number">1</span>).setMonth(month - <span class="number">2</span>)</span><br><span class="line">      );</span><br><span class="line">      <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">        monthFormat: getDateStr(dataStr),</span><br><span class="line">        calendar: getDate(<span class="keyword">new</span> <span class="built_in">Date</span>(dataStr)),</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// ä¸‹ä¸ªæœˆæ—¥æœŸ</span></span><br><span class="line">    nextMonth() &#123;</span><br><span class="line">      <span class="keyword">const</span> [year, month] = <span class="keyword">this</span>.data.monthFormat.split(<span class="string">"-"</span>);</span><br><span class="line">      <span class="keyword">const</span> &#123; dataStr &#125; = getDateObj(<span class="keyword">new</span> <span class="built_in">Date</span>(year, month, <span class="number">1</span>));</span><br><span class="line">      <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">        monthFormat: getDateStr(dataStr),</span><br><span class="line">        calendar: getDate(<span class="keyword">new</span> <span class="built_in">Date</span>(dataStr)),</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  created() &#123;&#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></div><blockquote><p>è¿™é‡Œçš„ä¸»è¦è¿·æƒ‘ç‚¹å°±æ˜¯æœˆä»½ï¼Œå› ä¸ºæˆ‘ä»¬å¾—åˆ°çš„æœˆä»½æ˜¯è½¬æ¢åçš„ï¼ˆå³æœˆä»½+1ï¼‰ï¼Œè€Œ<code>js</code>ä¸­çš„æœˆä»½æ˜¯ä» 0 å¼€å§‹çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬è·å–ä¸Šä¸ªæœˆçš„æ—¶å€™æœˆä»½å°±éœ€è¦<code>-2</code>æ‰èƒ½å®ç°æˆ‘ä»¬è¦çš„æ•ˆæœï¼Œè€Œè·å–ä¸‹ä¸ªæœˆçš„æ—¶å€™ï¼Œå› ä¸ºæœ¬èº«æˆ‘ä»¬æœˆä»½æœ¬èº«å°±<code>+1</code>äº†ï¼Œæ‰€ä»¥ä¸éœ€è¦è¿›è¡Œæ“ä½œã€‚</p></blockquote><p>ä¹¦å†™å®Œæˆå¸ƒå±€åï¼Œå¤§æ¦‚ä¼šå¾—å‡ºä¸‹é¢è¿™ä¸ªæ—¥å†ï¼š</p><p><a href="https://cdn.JsDelivr.net/gh/GATING/blog_imgs/2020-06-08/calendar05.jpg" target="_blank" rel="noopener" data-fancybox="group" data-caption class="fancybox"><img alt data-src="https://cdn.JsDelivr.net/gh/GATING/blog_imgs/2020-06-08/calendar05.jpg" class="lazyload"></a></p><p>å†™åˆ°è¿™é‡Œï¼Œå…¶å®æ•´ä¸ªæ—¥å†çš„é›å½¢å·²ç»å‡ºæ¥äº†ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡<code>picker</code>æ¢ï¼Œå¯ä»¥é€šè¿‡ç‚¹å‡»åˆ‡æ¢ï¼Œä¹Ÿç®—ä¸€ä¸ªç›¸å¯¹å¯ä»¥ä½¿ç”¨çš„æ—¥å†ç»„ä»¶å•¦ ğŸ˜</p><p>ä½†æ˜¯å…¶å®è¿˜æ˜¯è¿œè¿œä¸å¤Ÿçš„ï¼Œæ¯•ç«Ÿï¼Œæˆ‘ä»¬è¿<strong>æ‰‹åŠ¿å·¦å³æ»‘åŠ¨åˆ‡æ¢æ—¥å†</strong>è¿™ä¸ªåŠŸèƒ½éƒ½æ²¡æœ‰ï¼Œæ‰€ä»¥æ¥ä¸‹æ¥å°±å®Œå–„æˆ‘ä»¬è¿™ä¸ªæ—¥å†å§</p><h2 id="æ— ç¼æ»‘åŠ¨æ€è€ƒ"><a href="#æ— ç¼æ»‘åŠ¨æ€è€ƒ" class="headerlink" title="æ— ç¼æ»‘åŠ¨æ€è€ƒ"></a>æ— ç¼æ»‘åŠ¨æ€è€ƒ</h2><p>ä½ æƒ³ï¼Œæ—¢ç„¶è¦åšå·¦å³æ»‘åŠ¨åˆ‡æ¢äº†ï¼Œè‚¯å®šå¾—æ— ç¼å§ï¼Ÿæ—¢ç„¶å¾—æ— ç¼ï¼Œè‚¯å®šä¸èƒ½ç”Ÿæˆå¤šä»½å§ï¼Ÿé‚£ä¹ˆæ€ä¹ˆæ‰èƒ½ç”¨æœ€å°‘çš„ DOM åšåˆ°æ— ç¼å‘¢ï¼Ÿç­”æ¡ˆæ˜¯æˆ‘ä»¬åªéœ€è¦åœ¨æˆ‘ä»¬å¯è§†èŒƒå›´å†…ç”Ÿæˆ DOM ç»“æ„å³å¯ï¼Œå³æˆ‘ä»¬çš„å¯è§†èŒƒå›´å°±æ˜¯ä¸‰ä»½ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š</p><p><a href="https://cdn.JsDelivr.net/gh/GATING/blog_imgs/2020-06-08/calendar06.gif" target="_blank" rel="noopener" data-fancybox="group" data-caption class="fancybox"><img alt data-src="https://cdn.JsDelivr.net/gh/GATING/blog_imgs/2020-06-08/calendar06.gif" class="lazyload"></a></p><p>æ—¢ç„¶è¯´åˆ°äº†<strong>å·¦å³æ»‘åŠ¨</strong>ï¼Œè‚¯å®šå°‘ä¸äº†æˆ‘ä»¬å¼ºå¤§çš„<code>swiper</code>ç»„ä»¶å•¦ï¼Œæˆ‘ä»¬è¿™æ¬¡çš„æ—¥å†ç»„ä»¶å°±æ˜¯å»ºç«‹åœ¨<code>swiper</code>ç»„ä»¶ä¸‹å®ç°çš„,æ—¢ç„¶ç”¨åˆ°äº†<code>swiper</code>ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„å¸ƒå±€è‚¯å®šéœ€è¦è¿›è¡Œå°æ”¹ï¼Œæ•°æ®ç»“æ„ä¹Ÿæ˜¯ï¼Œéœ€è¦è¿›è¡Œå°æ”¹åŠ¨ã€‚</p><p>åˆšæ‰è¯´äº†ï¼Œæˆ‘ä»¬çš„å¯æ˜¯èŒƒå›´æ˜¯ä¸‰ä»½ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„æ•°æ®ç»“æ„å°±å˜æˆäº†é•¿åº¦ä¸ºä¸‰çš„æ•°ç»„ï¼Œå³ï¼š</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"calendarArr"</span>: [calendar, calendar, calendar]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>ç•Œé¢ä¹Ÿæ˜¯ï¼Œæˆ‘ä»¬æ–°å¢ä¸€ä¸ª<code>swiper</code>ç»„ä»¶ï¼Œç„¶åéå†<code>calendarArr</code>è¿™ä¸ªæ•°æ®ï¼Œ</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">xml</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"calendar-wrapper"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"calendar-controller"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"calendar-picker"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">"arrow left"</span> <span class="attr">bindtap</span>=<span class="string">"prevMonth"</span>&gt;</span><span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">picker</span></span></span><br><span class="line"><span class="tag">          <span class="attr">mode</span>=<span class="string">'date'</span></span></span><br><span class="line"><span class="tag">          <span class="attr">fields</span>=<span class="string">'month'</span></span></span><br><span class="line"><span class="tag">          <span class="attr">end</span>=<span class="string">"2999-12-31"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">start</span>=<span class="string">"1970-01-01"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">value</span>=<span class="string">"&#123;&#123;monthFormat&#125;&#125;"</span></span></span><br><span class="line"><span class="tag">          <span class="attr">bindchange</span>=<span class="string">"dateChange"</span></span></span><br><span class="line"><span class="tag">        &gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">"month-format"</span>&gt;</span>&#123;&#123;monthFormat&#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">picker</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">"arrow right"</span> <span class="attr">bindtap</span>=<span class="string">"nextMonth"</span>&gt;</span><span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"calendar-header"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"item"</span> <span class="attr">wx:for</span>=<span class="string">"&#123;&#123;week&#125;&#125;"</span> <span class="attr">wx:key</span>=<span class="string">"*this"</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">swiper</span></span></span><br><span class="line"><span class="tag">      <span class="attr">circular</span></span></span><br><span class="line"><span class="tag">      <span class="attr">class</span>=<span class="string">"calendar-swiper"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">current</span>=<span class="string">"&#123;&#123;current&#125;&#125;"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">duration</span>=<span class="string">"&#123;&#123;duration&#125;&#125;"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">vertical</span>=<span class="string">"&#123;&#123;isVertical&#125;&#125;"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">skip-hidden-item-layout</span></span></span><br><span class="line"><span class="tag">      <span class="attr">bindchange</span>=<span class="string">"swiperChange"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">bindanimationfinish</span>=<span class="string">"swiperAnimateFinish"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">bindtouchstart</span>=<span class="string">"swipeTouchStart"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">bindtouchend</span>=<span class="string">"swipeTouchEnd"</span></span></span><br><span class="line"><span class="tag">    &gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">block</span> <span class="attr">wx:for</span>=<span class="string">"&#123;&#123;calendarArr&#125;&#125;"</span> <span class="attr">wx:for-item</span>=<span class="string">"calendar"</span> <span class="attr">wx:key</span>=<span class="string">"index"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">swiper-item</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"calendar-container"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"item &#123;&#123;item.today?'today':''&#125;&#125; &#123;&#123;item.otherMonth?'other-month':''&#125;&#125;"</span> <span class="attr">wx:for</span>=<span class="string">"&#123;&#123;calendar&#125;&#125;"</span> <span class="attr">wx:key</span>=<span class="string">"dataStr"</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">text</span>&gt;</span>&#123;&#123;item.day&#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">swiper-item</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">block</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">swiper</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure></div><p>æ ·å¼çš„è¯ï¼Œå› ä¸º<code>swiper</code>ç»„ä»¶æœ‰é»˜è®¤æ ·å¼ï¼Œé«˜åº¦æ˜¯<code>150px</code>ï¼Œè€Œæˆ‘ä»¬è¿™é‡Œ<code>6 * 80rpx</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¿®æ”¹ä¸‹å®ƒçš„é»˜è®¤æ ·å¼ï¼Œå³æ·»åŠ ä¸‹é¢çš„ css å³å¯:</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">css</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.calendar-swiper</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">480</span>rpx;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><p>ä¹‹åå°±æ˜¯ä¹¦å†™æˆ‘ä»¬çš„é€»è¾‘å•¦ï¼Œä»å¸ƒå±€å¯ä»¥çœ‹åˆ°æˆ‘ä»¬ç”¨äº†<code>touchstart</code>å’Œ<code>touchend</code>ï¼Œæœ¬æ„å…¶å®å°±æ˜¯åˆ¤æ–­æˆ‘ä»¬æ˜¯å‘å·¦æ»‘è¿˜æ˜¯å‘å³æ»‘ï¼ˆå‘ä¸Šåˆ’è¿˜æ˜¯å‘ä¸‹æ»‘ï¼‰ï¼Œæ¥åˆ‡æ¢æˆ‘ä»¬çš„æœˆä»½</p><h2 id="å¦‚ä½•åŒºåˆ†å·¦æ»‘å³æ»‘ï¼ˆä¸Šæ»‘ä¸‹æ»‘ï¼‰"><a href="#å¦‚ä½•åŒºåˆ†å·¦æ»‘å³æ»‘ï¼ˆä¸Šæ»‘ä¸‹æ»‘ï¼‰" class="headerlink" title="å¦‚ä½•åŒºåˆ†å·¦æ»‘å³æ»‘ï¼ˆä¸Šæ»‘ä¸‹æ»‘ï¼‰"></a>å¦‚ä½•åŒºåˆ†å·¦æ»‘å³æ»‘ï¼ˆä¸Šæ»‘ä¸‹æ»‘ï¼‰</h2><ol><li><p>éœ€è¦å®šä¸¤ä¸ªå˜é‡ä¾›æˆ‘ä»¬åŒºåˆ†æ˜¯æ»‘åŠ¨çš„æ–¹å‘ï¼Œä¸€ä¸ªæ˜¯<code>swipeStartPoint</code>,ä¸€ä¸ªæ˜¯<code>isPrevMonth</code></p></li><li><p>æ—¢ç„¶æˆ‘ä»¬è¯´åˆ°äº†æ— ç¼ï¼Œé‚£ä¹ˆè‚¯å®šç”¨æˆ·å°±ä¼šæ»‘åŠ¨å¤šæ¬¡ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¹Ÿéœ€è¦ä¸€ä¸ªå€¼æ¥è®¡ç®—ç”¨æˆ·æ»‘åŠ¨çš„æ¬¡æ•°ï¼Œæˆ‘ä»¬å®šä¹‰ä¸º<code>changeCount</code></p></li><li><p>è¿™ç‚¹ä¹Ÿæ˜¯æœ€é‡è¦çš„ä¸€ç‚¹ï¼Œæˆ‘ä»¬éœ€ç”¨é€šè¿‡å½“å‰æˆ‘ä»¬æ»‘åŠ¨åˆ°ç¬¬å‡ ä¸ª<code>swiper-item</code>ï¼Œæ¥ä¿®æ”¹æˆ‘ä»¬çš„ä¸Šä¸ªæœˆå’Œä¸‹ä¸ªæœˆçš„æ•°æ®ï¼Œå› ä¸ºæˆ‘ä»¬çŸ¥é“ï¼Œå½“å‰çš„<code>swiper-item</code>è‚¯å®šæ˜¯ä¸­é—´çš„é‚£ä¸ªæœˆä»½ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿéœ€è¦ä¸€ä¸ªå˜é‡æ¥æ ‡è®°æˆ‘ä»¬å½“å‰çš„æ˜¯ç¬¬å‡ ä¸ªï¼Œæˆ‘ä»¬å®šä¹‰ä¸º<code>currentSwiperIndex</code>ï¼Œé’ˆå¯¹äºè¿™é‡Œçš„é€»è¾‘ï¼Œæˆ‘ä»¬ä¸¾ä¸ªä¾‹å­ï¼š</p></li></ol><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å‡è®¾æˆ‘ä»¬ç°åœ¨æ˜¯6æœˆï¼Œé‚£ä¹ˆæ•°æ®å°±æ˜¯</span></span><br><span class="line"><span class="keyword">let</span> calendar = [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>];</span><br><span class="line"><span class="comment">// é‚£ä¹ˆæˆ‘ä»¬çš„ currentSwiperIndex è¿™æ—¶æ˜¯ç­‰äº1çš„</span></span><br><span class="line"><span class="comment">// å‡è®¾æˆ‘æ»‘åŠ¨äº†äº”æœˆï¼ŒcurrentSwiperIndex è¿™æ—¶å˜æˆ0äº†,æˆ‘ä»¬çš„æœˆä»½è¿˜æ˜¯ä¸å˜</span></span><br><span class="line"><span class="comment">// ä½†æ˜¯æˆ‘ä»¬çš„é€»è¾‘å°±å‘ç”Ÿæ”¹å˜äº†</span></span><br><span class="line"><span class="comment">// è¿™æ—¶å€™çš„ä¸Šä¸ªæœˆå˜æˆäº†7ï¼Œä¸‹ä¸ªæœˆå˜æˆ6ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡ currentSwiperIndex çš„å€¼æ¥åŠ¨æ€ä¿®æ”¹ä»–ï¼Œå³</span></span><br><span class="line">calendar = [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>];</span><br><span class="line"><span class="comment">// åŠä¼ªä»£ç </span></span><br><span class="line"><span class="keyword">const</span> calendarArr = [];</span><br><span class="line"><span class="keyword">const</span> now = getDate(currentDate);</span><br><span class="line"><span class="keyword">const</span> prev = getDate(<span class="keyword">this</span>.getPrevMonth(dataStr));</span><br><span class="line"><span class="keyword">const</span> next = getDate(<span class="keyword">this</span>.getNextMonth(dataStr));</span><br><span class="line"><span class="keyword">const</span> prevIndex = currentSwiperIndex === <span class="number">0</span> ? <span class="number">2</span> : currentSwiperIndex - <span class="number">1</span>;</span><br><span class="line"><span class="keyword">const</span> nextIndex = currentSwiperIndex === <span class="number">2</span> ? <span class="number">0</span> : currentSwiperIndex + <span class="number">1</span>;</span><br><span class="line">calendarArr[prevIndex] = prev;</span><br><span class="line">calendarArr[nextIndex] = next;</span><br><span class="line">calendarArr[currentSwiperIndex] = now;</span><br></pre></td></tr></table></figure></div><p>ç†æ¸…æ¥šä¸Šé¢æ‰€æœ‰çš„ï¼ŒåŸºæœ¬ä¸Šæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹é‡æ„æˆ‘ä»¬çš„ä»£ç äº†</p><h2 id="æ­£å¼ä¹¦å†™æˆ‘ä»¬å¯æ»‘åŠ¨çš„æ—¥å†ç»„ä»¶"><a href="#æ­£å¼ä¹¦å†™æˆ‘ä»¬å¯æ»‘åŠ¨çš„æ—¥å†ç»„ä»¶" class="headerlink" title="æ­£å¼ä¹¦å†™æˆ‘ä»¬å¯æ»‘åŠ¨çš„æ—¥å†ç»„ä»¶"></a>æ­£å¼ä¹¦å†™æˆ‘ä»¬å¯æ»‘åŠ¨çš„æ—¥å†ç»„ä»¶</h2><p>å…ˆå®šä¹‰æˆ‘ä»¬ä¹‹å‰çš„æ‰€è¯´çš„å˜é‡ï¼Œå’Œå¤„ç†è¿™äº›å˜é‡çš„æ–¹æ³•</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å½“å‰çš„ç´¢å¼•å€¼ï¼Œå¿…é¡»ä»ç¬¬ä¸€ä¸ªå¼€å§‹ï¼Œå› ä¸ºè¿™æ ·æˆ‘ä»¬æ‰èƒ½å®ç°è§†é‡å†…çš„æ— ç¼</span></span><br><span class="line"><span class="keyword">let</span> currentSwiperIndex = <span class="number">1</span>,</span><br><span class="line">  generateDate = dataStr, <span class="comment">// å½“å‰æ—¶é—´</span></span><br><span class="line">  swipeStartPoint = <span class="number">0</span>, <span class="comment">// æ»‘åŠ¨çš„åæ ‡</span></span><br><span class="line">  isPrevMonth = <span class="literal">false</span>, <span class="comment">// æ˜¯å¦å‘å³æ»‘åŠ¨</span></span><br><span class="line">  changeCount = <span class="number">0</span>; <span class="comment">// æ»‘åŠ¨çš„æ¬¡æ•°</span></span><br><span class="line"></span><br><span class="line">Component(&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  methods: &#123;</span><br><span class="line">    <span class="comment">// è®¾ç½®å½“å‰çš„ç´¢å¼•å€¼</span></span><br><span class="line">    swiperChange(e) &#123;</span><br><span class="line">      <span class="keyword">const</span> &#123; current, source &#125; = e.detail;</span><br><span class="line">      <span class="keyword">if</span> (source === <span class="string">"touch"</span>) &#123;</span><br><span class="line">        currentSwiperIndex = current;</span><br><span class="line">        changeCount += <span class="number">1</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// è·å–æ‰‹æŒ‡åˆšæŒ‰ä¸‹çš„åæ ‡</span></span><br><span class="line">    swipeTouchStart(e) &#123;</span><br><span class="line">      <span class="keyword">const</span> &#123; clientY, clientX &#125; = e.changedTouches[<span class="number">0</span>];</span><br><span class="line">      swipeStartPoint = <span class="keyword">this</span>.data.isVertical ? clientY : clientX;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// è·å–æ‰‹æŒ‡æ¾å¼€æ—¶çš„åæ ‡</span></span><br><span class="line">    swipeTouchEnd(e) &#123;</span><br><span class="line">      <span class="keyword">const</span> &#123; clientY, clientX &#125; = e.changedTouches[<span class="number">0</span>];</span><br><span class="line">      isPrevMonth = <span class="keyword">this</span>.data.isVertical</span><br><span class="line">        ? clientY - swipeStartPoint &gt; <span class="number">0</span></span><br><span class="line">        : clientX - swipeStartPoint &gt; <span class="number">0</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></div><p>ç„¶åå®šä¹‰ä¸€ä¸ªå¤„ç†æˆ‘ä»¬æ—¥å†æ•°æ®çš„æ–¹æ³•ï¼Œå› ä¸ºæˆ‘ä»¬æ—¥å†æ–¹æ³•æ˜¯æ¯ä¸ªæ—¶é—´éƒ½éœ€è¦ä½¿ç”¨çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å®šä¹‰ä¸ªå…¬ç”¨çš„æ–¹æ³•ï¼Œ</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">Component(&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  methods: &#123;</span><br><span class="line">    <span class="comment">// è®¾ç½®ä¸Šä¸ªæœˆçš„æ—¶é—´</span></span><br><span class="line">    getPrevMonth(monthFormat) &#123;</span><br><span class="line">      <span class="keyword">const</span> [year, month] = monthFormat.split(<span class="regexp">/\-|\//</span>);</span><br><span class="line">      <span class="keyword">const</span> &#123; dataStr &#125; = getDateObj(</span><br><span class="line">        <span class="keyword">new</span> <span class="built_in">Date</span>(year, month, <span class="number">1</span>).setMonth(month - <span class="number">2</span>)</span><br><span class="line">      );</span><br><span class="line">      <span class="keyword">return</span> dataStr;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// è®¾ç½®ä¸‹ä¸ªæœˆçš„æ—¶é—´</span></span><br><span class="line">    getNextMonth(monthFormat) &#123;</span><br><span class="line">      <span class="keyword">const</span> [year, month] = monthFormat.split(<span class="regexp">/\-|\//</span>);</span><br><span class="line">      <span class="keyword">const</span> &#123; dataStr &#125; = getDateObj(<span class="keyword">new</span> <span class="built_in">Date</span>(year, month, <span class="number">1</span>));</span><br><span class="line">      <span class="keyword">return</span> dataStr;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// ç”Ÿæˆæ—¥å†æ•°ç»„</span></span><br><span class="line">    generatorCalendar(date) &#123;</span><br><span class="line">      <span class="keyword">const</span> calendarArr = [];</span><br><span class="line">      <span class="comment">// è½¬æ¢ä¸º Date å®ä¾‹</span></span><br><span class="line">      <span class="keyword">const</span> currentDate = transformDate(date);</span><br><span class="line">      <span class="comment">// è·å–å½“å‰æ—¶é—´çš„æ—¥å†æ•°æ®</span></span><br><span class="line">      <span class="keyword">const</span> now = getDate(currentDate);</span><br><span class="line">      <span class="comment">// è·å–å½“å‰æ—¶é—´çš„å­—ç¬¦ä¸²</span></span><br><span class="line">      <span class="keyword">const</span> &#123; dataStr &#125; = getDateObj(currentDate);</span><br><span class="line">      <span class="comment">// è·å–ä¸Šä¸ªæœˆçš„æ—¥å†æ•°æ®</span></span><br><span class="line">      <span class="keyword">const</span> prev = getDate(<span class="keyword">this</span>.getPrevMonth(dataStr));</span><br><span class="line">      <span class="comment">// è·å–ä¸‹ä¸ªæœˆçš„æ—¥å†æ•°æ®</span></span><br><span class="line">      <span class="keyword">const</span> next = getDate(<span class="keyword">this</span>.getNextMonth(dataStr));</span><br><span class="line">      <span class="comment">// è®¾ç½®æ—¥å†æ•°æ®</span></span><br><span class="line">      <span class="keyword">const</span> prevIndex = currentSwiperIndex === <span class="number">0</span> ? <span class="number">2</span> : currentSwiperIndex - <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">const</span> nextIndex = currentSwiperIndex === <span class="number">2</span> ? <span class="number">0</span> : currentSwiperIndex + <span class="number">1</span>;</span><br><span class="line">      calendarArr[prevIndex] = prev;</span><br><span class="line">      calendarArr[nextIndex] = next;</span><br><span class="line">      calendarArr[currentSwiperIndex] = now;</span><br><span class="line">      <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">        calendarArr,</span><br><span class="line">        monthFormat: getDateStr(dataStr),</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></div><blockquote><p>ps: å› ä¸ºè¿™é‡Œä¸Šä¸‹æœˆä»½ä¹Ÿå¯ä»¥å…¬ç”¨ï¼Œæ‰€ä»¥å•ç‹¬æå–å‡ºæ¥ä¾›å…¶ä»–æ–¹æ³•ä½¿ç”¨</p></blockquote><p>æœ€åï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨åŠ¨ç”»ç»“æŸçš„æ—¶å€™è®¾ç½®æ—¥å†æ•°æ®å³å¯ï¼Œå³ï¼š</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">Component(&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  methods: &#123;</span><br><span class="line">    <span class="comment">// åŠ¨ç”»ç»“æŸåè®©æ»‘åŠ¨çš„æ¬¡æ•°ç½®0</span></span><br><span class="line">    swiperAnimateFinish() &#123;</span><br><span class="line">      <span class="keyword">const</span> &#123; year, month &#125; = getDateObj(generateDate);</span><br><span class="line">      <span class="keyword">const</span> monthDist = isPrevMonth ? -changeCount : changeCount;</span><br><span class="line">      generateDate = <span class="keyword">new</span> <span class="built_in">Date</span>(year, month + monthDist - <span class="number">1</span>);</span><br><span class="line">      <span class="comment">// æ¸…ç©ºæ»‘åŠ¨æ¬¡æ•°</span></span><br><span class="line">      changeCount = <span class="number">0</span>;</span><br><span class="line">      <span class="keyword">this</span>.generatorCalendar(generateDate);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></div><p>æ•´åˆèµ·æ¥å°±æ˜¯ï¼š</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// components/calendar/index.js</span></span><br><span class="line"><span class="keyword">const</span> &#123; getDate, dataStr, getDateObj, transformDate &#125; = <span class="built_in">require</span>(<span class="string">"./utils"</span>);</span><br><span class="line"><span class="keyword">const</span> getDateStr = <span class="function">(<span class="params">dataStr</span>) =&gt;</span> dataStr.slice(<span class="number">0</span>, <span class="number">7</span>).replace(<span class="string">"/"</span>, <span class="string">"-"</span>);</span><br><span class="line"><span class="comment">// å½“å‰çš„ç´¢å¼•å€¼ï¼Œå¿…é¡»ä»ç¬¬ä¸€ä¸ªå¼€å§‹ï¼Œå› ä¸ºè¿™æ ·æˆ‘ä»¬æ‰èƒ½å®ç°è§†é‡å†…çš„æ— ç¼</span></span><br><span class="line"><span class="keyword">let</span> currentSwiperIndex = <span class="number">1</span>,</span><br><span class="line">  generateDate = dataStr, <span class="comment">// å½“å‰æ—¶é—´</span></span><br><span class="line">  swipeStartPoint = <span class="number">0</span>, <span class="comment">// æ»‘åŠ¨çš„åæ ‡</span></span><br><span class="line">  isPrevMonth = <span class="literal">false</span>, <span class="comment">// æ˜¯å¦å‘å³æ»‘åŠ¨</span></span><br><span class="line">  changeCount = <span class="number">0</span>; <span class="comment">// æ»‘åŠ¨çš„æ¬¡æ•°</span></span><br><span class="line">Component(&#123;</span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * ç»„ä»¶çš„å±æ€§åˆ—è¡¨</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  properties: &#123;</span><br><span class="line">    duration: &#123;</span><br><span class="line">      type: <span class="built_in">String</span>,</span><br><span class="line">      value: <span class="number">500</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    isVertical: &#123;</span><br><span class="line">      type: <span class="built_in">Boolean</span>,</span><br><span class="line">      value: <span class="literal">false</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * ç»„ä»¶çš„åˆå§‹æ•°æ®</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  data: &#123;</span><br><span class="line">    week: [<span class="string">"ä¸€"</span>, <span class="string">"äºŒ"</span>, <span class="string">"ä¸‰"</span>, <span class="string">"å››"</span>, <span class="string">"äº”"</span>, <span class="string">"å…­"</span>, <span class="string">"æ—¥"</span>],</span><br><span class="line">    current: <span class="number">1</span>,</span><br><span class="line">    calendarArr: [],</span><br><span class="line">    monthFormat: getDateStr(dataStr),</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * ç»„ä»¶çš„æ–¹æ³•åˆ—è¡¨</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  methods: &#123;</span><br><span class="line">    <span class="comment">// è®¾ç½®ä¸Šä¸ªæœˆçš„æ—¶é—´</span></span><br><span class="line">    getPrevMonth(monthFormat) &#123;</span><br><span class="line">      <span class="keyword">const</span> [year, month] = monthFormat.split(<span class="regexp">/\-|\//</span>);</span><br><span class="line">      <span class="keyword">const</span> &#123; dataStr &#125; = getDateObj(</span><br><span class="line">        <span class="keyword">new</span> <span class="built_in">Date</span>(year, month, <span class="number">1</span>).setMonth(month - <span class="number">2</span>)</span><br><span class="line">      );</span><br><span class="line">      <span class="keyword">return</span> dataStr;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// è®¾ç½®ä¸‹ä¸ªæœˆçš„æ—¶é—´</span></span><br><span class="line">    getNextMonth(monthFormat) &#123;</span><br><span class="line">      <span class="keyword">const</span> [year, month] = monthFormat.split(<span class="regexp">/\-|\//</span>);</span><br><span class="line">      <span class="keyword">const</span> &#123; dataStr &#125; = getDateObj(<span class="keyword">new</span> <span class="built_in">Date</span>(year, month, <span class="number">1</span>));</span><br><span class="line">      <span class="keyword">return</span> dataStr;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// ç”Ÿæˆæ—¥å†æ•°ç»„</span></span><br><span class="line">    generatorCalendar(date) &#123;</span><br><span class="line">      <span class="keyword">const</span> calendarArr = [];</span><br><span class="line">      <span class="comment">// è½¬æ¢ä¸º Date å®ä¾‹</span></span><br><span class="line">      <span class="keyword">const</span> currentDate = transformDate(date);</span><br><span class="line">      <span class="comment">// è·å–å½“å‰æ—¶é—´çš„æ—¥å†æ•°æ®</span></span><br><span class="line">      <span class="keyword">const</span> now = getDate(currentDate);</span><br><span class="line">      <span class="comment">// è·å–å½“å‰æ—¶é—´çš„å­—ç¬¦ä¸²</span></span><br><span class="line">      <span class="keyword">const</span> &#123; dataStr &#125; = getDateObj(currentDate);</span><br><span class="line">      <span class="comment">// è·å–ä¸Šä¸ªæœˆçš„æ—¥å†æ•°æ®</span></span><br><span class="line">      <span class="keyword">const</span> prev = getDate(<span class="keyword">this</span>.getPrevMonth(dataStr));</span><br><span class="line">      <span class="comment">// è·å–ä¸‹ä¸ªæœˆçš„æ—¥å†æ•°æ®</span></span><br><span class="line">      <span class="keyword">const</span> next = getDate(<span class="keyword">this</span>.getNextMonth(dataStr));</span><br><span class="line">      <span class="comment">// è®¾ç½®æ—¥å†æ•°æ®</span></span><br><span class="line">      <span class="keyword">const</span> prevIndex = currentSwiperIndex === <span class="number">0</span> ? <span class="number">2</span> : currentSwiperIndex - <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">const</span> nextIndex = currentSwiperIndex === <span class="number">2</span> ? <span class="number">0</span> : currentSwiperIndex + <span class="number">1</span>;</span><br><span class="line">      calendarArr[prevIndex] = prev;</span><br><span class="line">      calendarArr[nextIndex] = next;</span><br><span class="line">      calendarArr[currentSwiperIndex] = now;</span><br><span class="line">      <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">        calendarArr,</span><br><span class="line">        monthFormat: getDateStr(dataStr),</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="comment">// é€šçŸ¥çˆ¶ç»„ä»¶</span></span><br><span class="line">      <span class="keyword">this</span>.triggerEvent(<span class="string">"change"</span>, <span class="keyword">this</span>.data.monthFormat);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// è®¾ç½®å½“å‰çš„ç´¢å¼•å€¼</span></span><br><span class="line">    swiperChange(e) &#123;</span><br><span class="line">      <span class="keyword">const</span> &#123; current, source &#125; = e.detail;</span><br><span class="line">      <span class="keyword">if</span> (source === <span class="string">"touch"</span>) &#123;</span><br><span class="line">        currentSwiperIndex = current;</span><br><span class="line">        changeCount += <span class="number">1</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// åŠ¨ç”»ç»“æŸåè®©æ»‘åŠ¨çš„æ¬¡æ•°ç½®0</span></span><br><span class="line">    swiperAnimateFinish() &#123;</span><br><span class="line">      <span class="keyword">const</span> &#123; year, month &#125; = getDateObj(generateDate);</span><br><span class="line">      <span class="keyword">const</span> monthDist = isPrevMonth ? -changeCount : changeCount;</span><br><span class="line">      generateDate = <span class="keyword">new</span> <span class="built_in">Date</span>(year, month + monthDist - <span class="number">1</span>);</span><br><span class="line">      <span class="comment">// æ¸…ç©ºæ»‘åŠ¨æ¬¡æ•°</span></span><br><span class="line">      changeCount = <span class="number">0</span>;</span><br><span class="line">      <span class="keyword">this</span>.generatorCalendar(generateDate);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// è·å–æ‰‹æŒ‡åˆšæŒ‰ä¸‹çš„åæ ‡</span></span><br><span class="line">    swipeTouchStart(e) &#123;</span><br><span class="line">      <span class="keyword">const</span> &#123; clientY, clientX &#125; = e.changedTouches[<span class="number">0</span>];</span><br><span class="line">      swipeStartPoint = <span class="keyword">this</span>.data.isVertical ? clientY : clientX;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// è·å–æ‰‹æŒ‡æ¾å¼€æ—¶çš„åæ ‡</span></span><br><span class="line">    swipeTouchEnd(e) &#123;</span><br><span class="line">      <span class="keyword">const</span> &#123; clientY, clientX &#125; = e.changedTouches[<span class="number">0</span>];</span><br><span class="line">      isPrevMonth = <span class="keyword">this</span>.data.isVertical</span><br><span class="line">        ? clientY - swipeStartPoint &gt; <span class="number">0</span></span><br><span class="line">        : clientX - swipeStartPoint &gt; <span class="number">0</span>;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    dateChange(e) &#123;</span><br><span class="line">      <span class="keyword">const</span> monthFormat = e.detail.value;</span><br><span class="line">      <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">        monthFormat,</span><br><span class="line">      &#125;);</span><br><span class="line">      generateDate = getDateStr(monthFormat);</span><br><span class="line">      <span class="keyword">this</span>.generatorCalendar(generateDate);</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä¸Šä¸ªæœˆæ—¥æœŸ</span></span><br><span class="line">    prevMonth() &#123;</span><br><span class="line">      <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">        monthFormat: <span class="keyword">this</span>.getPrevMonth(<span class="keyword">this</span>.data.monthFormat),</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="keyword">this</span>.generatorCalendar(<span class="keyword">this</span>.data.monthFormat);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// ä¸‹ä¸ªæœˆæ—¥æœŸ</span></span><br><span class="line">    nextMonth() &#123;</span><br><span class="line">      <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">        monthFormat: <span class="keyword">this</span>.getNextMonth(<span class="keyword">this</span>.data.monthFormat),</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="keyword">this</span>.generatorCalendar(<span class="keyword">this</span>.data.monthFormat);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  ready() &#123;</span><br><span class="line">    <span class="keyword">this</span>.generatorCalendar(generateDate);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></div><p>é¡µé¢ä¸­ä½¿ç”¨ï¼Œ</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">xml</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">calendar</span> <span class="attr">bindchange</span>=<span class="string">"calendarChange"</span>&gt;</span><span class="tag">&lt;/<span class="name">calendar</span>&gt;</span></span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line">  calendarChange(e) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e.detail);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></div><p>å†™åˆ°è¿™é‡Œï¼Œå…¶å®åŸºæœ¬ä¸Šæ•´ä¸ªæ—¥å†å°±å·²ç»å®Œæˆäº†ï¼Œä½†ä¹Ÿè®¸ä½ ä¼šè¯´ï¼Œå…¶å®è¿˜æœ‰å¾ˆå¤šåŠŸèƒ½æ²¡æœ‰å®Œå–„ï¼Œæ¯”å¦‚:</p><ul><li><p>è·³è½¬åˆ°æŒ‡å®šåˆ°æ—¶é—´</p></li><li><p>èŒƒå›´é€‰æ‹©</p></li><li><p>ç‚¹å‡»æ ‡è®°æ—¶é—´ç­‰ç­‰</p></li><li><p>â€¦</p></li></ul><p>å…¶å®æˆ‘è§‰å¾—å¤šæ•°æ˜¯è®¾ç½®æ ·å¼é—®é¢˜ï¼Œæ¯”å¦‚æ ‡è®°æ—¶é—´è¿™ä¸ªåŠŸèƒ½ï¼Œå…¶å®æœ‰è¿™ä¸ªåŸºç¡€çš„ä¾‹å­ï¼Œæˆ‘æƒ³å¤§å®¶å¾€é‡Œé¢åŠ åŠŸèƒ½åº”è¯¥éƒ½å¯ä»¥å®ç°çš„ï¼Œæ‰€ä»¥æˆ‘å°±ä¸ä¸€æ­¥ä¸€æ­¥çš„å¾€é‡Œé¢å†™äº†</p><p>å¦‚æœåç»­æœ‰æ—¶é—´æˆ‘ä¼šå¾€è¿™ä¸ªé¡¹ç›®å¤šåŠ ä¸€ä¸‹æ–°åŠŸèƒ½çš„</p><blockquote><p><a href="https://gitee.com/gating/demo/tree/master/calendar" target="_blank" rel="noopener">gitee åœ°å€</a>,<a href="https://github.com/GATING/demo/tree/master/calendar" target="_blank" rel="noopener">github åœ°å€</a></p></blockquote><h1 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h1><p>æ„Ÿè§‰å„ä½è§‚ä¼—è€çˆ·çš„è§‚çœ‹ï¼Œå¸Œæœ›ä½ èƒ½æœ‰æ‰€æ”¶è· ğŸ˜</p></div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="mailto:undefined">gating</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="https://gatings.cn/2020-06-08/%E6%89%8B%E6%8A%8A%E6%89%8B%E6%95%99%E4%BD%A0%E5%86%99%E4%B8%80%E4%B8%AA%E7%AC%A6%E5%90%88%E8%87%AA%E5%B7%B1%E9%9C%80%E6%B1%82%E7%9A%84%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%97%A5%E5%8E%86%E7%BB%84%E4%BB%B6/">https://gatings.cn/2020-06-08/%E6%89%8B%E6%8A%8A%E6%89%8B%E6%95%99%E4%BD%A0%E5%86%99%E4%B8%80%E4%B8%AA%E7%AC%A6%E5%90%88%E8%87%AA%E5%B7%B1%E9%9C%80%E6%B1%82%E7%9A%84%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%97%A5%E5%8E%86%E7%BB%84%E4%BB%B6/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="https://gatings.cn">ç£¨è¹­å…ˆç”Ÿ</a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/">å°ç¨‹åº</a></div><div class="post_share"></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"><i class="fa fa-qrcode"></i> æ‰“èµ<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lazyload post-qr-code__img" src="https://cdn.jsdelivr.net/gh/GATING/blog_imgs@master/blog/wechat.jpg" alt="å¾®ä¿¡"><div class="post-qr-code__desc">å¾®ä¿¡</div></li><li class="reward-item"><img class="lazyload post-qr-code__img" src="https://cdn.jsdelivr.net/gh/GATING/blog_imgs@master/blog/alipay.jpg" alt="æ”¯ä»˜å®"><div class="post-qr-code__desc">æ”¯ä»˜å®</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2020-06-10/node%E5%9B%BE%E7%89%87%E5%9B%9B%E5%91%A8%E5%A1%AB%E5%85%85%E9%80%8F%E6%98%8E%E5%8C%BA%E5%9F%9F/"><img class="prev_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png" onerror='onerror=null,src="/img/404.jpg"'><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info"><span>nodeå®ç°å›¾ç‰‡å››å‘¨å¡«å……é€æ˜åŒºåŸŸ</span></div></a></div><div class="next-post pull_right"><a href="/2020-06-04/Charles%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/"><img class="next_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png" onerror='onerror=null,src="/img/404.jpg"'><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info"><span>Charlesï¼ˆé’èŠ±ç“·/èŠ±ç“¶ï¼‰çš„åŸºæœ¬ä½¿ç”¨</span></div></a></div></nav><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> è¯„è®º</span></div><div id="lv-container" data-id="city" data-uid="MTAyMC8zNTA5MC8xMTYyNQ=="><script>!function(e,t){var n,c=e.getElementsByTagName(t)[0];"function"!=typeof LivereTower&&((n=e.createElement(t)).src="https://cdn-city.livere.com/js/embed.dist.js",n.async=!0,c.parentNode.insertBefore(n,c))}(document,"script")</script></div></div></div></main><footer id="footer" style="background-image:url(https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2017 - 2020 By gating</div><div class="footer_custom_text">ç”±<b>&nbsp;ç£¨è¹­&nbsp;</b>å€¾åŠ›æ‰“é€ &nbsp;|&nbsp;<b>å¥³ç‹å¤§äºº</b>&nbsp;-&nbsp;çƒ­æƒ…èµåŠ©</div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="é˜…è¯»æ¨¡å¼"></i><i class="fa fa-plus" id="font_plus" title="æ”¾å¤§å­—ä½“"></i><i class="fa fa-minus" id="font_minus" title="ç¼©å°å­—ä½“"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="ç®€ç¹è½¬æ¢" target="_self">ç¹</a><i class="darkmode fa fa-moon-o" id="darkmode" title="å¤œé—´æ¨¡å¼"></i></div><div id="rightside-config-show"><div id="rightside_config" title="è®¾ç½®"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="scroll_to_comment fa fa-comments"></i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="ç›®å½•" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="å›åˆ°é¡¶éƒ¨" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async></script><script src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/js/click_heart.js"></script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">æœ¬åœ°æœç´¢</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« "></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>ç”±</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener" style="color:#49b1f5">hexo-generator-search</a> <span>æä¾›æ”¯æŒ</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>