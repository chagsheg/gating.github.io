---
layout: post
title: æ•°ç»„çš„æ–¹æ³•çš„æ€»ç»“å’Œä½¿ç”¨
tags: javascript
category: è®°å½•
description: JavaScript ä¸­çš„æ•°ç»„æ˜¯ä¸€ä¸ªå¾ˆç‰¹åˆ«çš„å­˜åœ¨ï¼Œä»–ä¸åƒJava ï¼Œä¸“é—¨æäº† List è¿™æ ·çš„ä¸€æ•´å¥—çš„ä¸œè¥¿ï¼ŒJSç»ˆç«¯æ•°ç»„å®Œå…¨å¯ä»¥å½“ä½œæ ˆæˆ–é˜Ÿåˆ—æ¥ä½¿ç”¨ï¼Œæ•°ç»„çš„å››å¤§æ“ä½œï¼špopã€pushã€shiftã€unshiftã€‚
date: 2018/12/25
---

# å‰è¨€

JavaScript ä¸­çš„æ•°ç»„æ˜¯ä¸€ä¸ªå¾ˆç‰¹åˆ«çš„å­˜åœ¨ï¼Œä»–ä¸åƒJava ï¼Œä¸“é—¨æäº† List è¿™æ ·çš„ä¸€æ•´å¥—çš„ä¸œè¥¿ï¼ŒJSç»ˆç«¯æ•°ç»„å®Œå…¨å¯ä»¥å½“ä½œæ ˆæˆ–é˜Ÿåˆ—æ¥ä½¿ç”¨ï¼Œæ•°ç»„çš„å››å¤§æ“ä½œï¼špopã€pushã€shiftã€unshiftã€‚

æˆ‘ä»Šå¤©å†™è¿™ç¯‡åšå®¢ï¼Œä¸»è¦æ˜¯å†™ä¸€ç¯‡æ€»ç»“ï¼Œä»¥å¤‡ä»¥åæŸ¥çœ‹ã€‚

å¯¹äºæ•°ç»„æ–¹æ³•ï¼Œæˆ‘ä»¬åº”è¯¥å…³å¿ƒçš„åªæœ‰ä¸¤ä¸ªé—®é¢˜ï¼Œ<b>è¿”å›å€¼æ˜¯ä»€ä¹ˆ,ä¼šä¸ä¼šä¿®æ”¹åŸæ•°ç»„ï¼Œ</b>å…¸å‹çš„ä¾‹å­å°±æ˜¯ splice() å’Œ slice() è¿™ä¸¤ä¸ªæ–¹æ³•ã€‚

æ¥ä¸‹æ¥ï¼Œå¸¦ç€è¿™ä¸¤ä¸ªé—®é¢˜ï¼Œæˆ‘ä¼šç›¸å¯¹è¯¦ç»†çš„æ€»ç»“ä¸€ä¸‹æˆ‘ä»¬<b>æ•°ç»„åŸå‹ï¼ˆæ•°ç»„å®ä¾‹ï¼‰</b>é‡Œé¢æ‰€æ‹¥æœ‰çš„æ–¹æ³•å’Œå±æ€§ï¼Œå¦å¤–ï¼Œå¸¸ç”¨çš„æ–¹æ³•ï¼Œæˆ‘ä¼šåŠ ä¸Šä¸€ä¸ªå¸¸ç”¨çš„ä¾‹å­ï¼ˆåº”ç”¨åœºæ™¯ï¼‰

> ps: æ–‡ä¸­æœ‰äº›å’Œæ•°ç»„æ–¹æ³•ä¸æ˜¯å¤ªç›¸å…³çš„çŸ¥è¯†ï¼Œä»…ä¾›äº†è§£ï¼Œè¿™é‡Œå°±ä¸å±•å¼€äº†ï¼ˆå®é™…ä¸Šä¹Ÿæ˜¯æˆ‘å¤ªåƒåœ¾äº†0 0ï¼Œä¸æ‡‚ï¼‰ å…·ä½“æˆ‘ä¼šåœ¨æ–‡æœ«æ”¾ä¸Šç›¸å…³é“¾æ¥ 

ä¸‹é¢å°†ä¸å†é‡å¤è¿™äº›æ–¹æ³•çš„ callbak çš„å‚æ•°

> ï¼ˆfindã€findIndexã€someã€filterã€everyã€mapï¼ŒforEachï¼ŒflatMapï¼‰çš„callback è¢«è°ƒç”¨æ—¶ä¼šä¼ å…¥ä¸‰ä¸ªå‚æ•°ï¼šå½“å‰å…ƒç´ å€¼ï¼Œå…ƒç´ çš„ç´¢å¼•ï¼ŒåŸæ•°ç»„ã€‚è¿™äº›æ–¹æ³•éƒ½ä¸ä¼šæ”¹å˜å…ƒç´ ç»„ï¼Œä½†æ˜¯ï¼Œå¦‚æœä½ æ“ä½œç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œé‚£å°±ä¸ä¸€æ ·äº†ã€‚


# æ•°ç»„çš„å±æ€§

## length

length æ˜¯Arrayçš„å®ä¾‹å±æ€§ã€‚è¿”å›æˆ–è®¾ç½®ä¸€ä¸ªæ•°ç»„ä¸­çš„å…ƒç´ ä¸ªæ•°ã€‚è¯¥å€¼æ˜¯ä¸€ä¸ªæ— ç¬¦å· 32-bit æ•´æ•°ï¼Œå¹¶ä¸”æ€»æ˜¯å¤§äºæ•°ç»„æœ€é«˜é¡¹çš„ä¸‹æ ‡ã€‚

```javascript
let arr = [1,2,3]
console.log(arr.length) // 3
```

length å±æ€§çš„å€¼æ˜¯ä¸€ä¸ª 0 åˆ° 232-1 çš„æ•´æ•°ã€‚

```javascript
let arr1 = new Array(4294967296) // 2çš„32æ¬¡æ–¹ = 4294967296 
// Uncaught RangeError: Invalid array lengthæ— æ•ˆçš„æ•°ç»„é•¿åº¦
console.log(arr1)

let arr2 = new Array(-100) // è´Ÿå·
// Uncaught RangeError: Invalid array lengthæ— æ•ˆçš„æ•°ç»„é•¿åº¦
console.log(arr1)
```

ä½ è¿˜å¯ä»¥é€šè¿‡ length æ¥æˆªæ–­æ•°ç»„

```javascript
let arr = [1,2,3,4]
arr.length = 2
console.log(arr) // [1,2]
```

## Array.length å±æ€§çš„å±æ€§ç‰¹æ€§

| å±æ€§ | å€¼ |
| ------ | ------ |
| writable | true |
| enumerable | false |
| configurable | false |

* Writable ï¼šå¦‚æœè®¾ç½®ä¸ºfalseï¼Œè¯¥å±æ€§å€¼å°†ä¸èƒ½è¢«ä¿®æ”¹ã€‚
* Configurable ï¼šå¦‚æœè®¾ç½®ä¸ºfalseï¼Œåˆ é™¤æˆ–æ›´æ”¹ä»»ä½•å±æ€§éƒ½å°†ä¼šå¤±è´¥ã€‚
* Enumerable ï¼šå¦‚æœè®¾ç½®ä¸º true ï¼Œå±æ€§å¯ä»¥é€šè¿‡è¿­ä»£å™¨foræˆ–for...inè¿›è¡Œè¿­ä»£ã€‚

çœ‹åˆ°è¿™é‡Œï¼Œä¼°è®¡æœ‰äººæƒ³é—®ï¼Œæ—¢ç„¶ length å±æ€§æ˜¯å¯ä»¥ä¿®æ”¹çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä¸å¯ä»¥é‡å®šä¹‰æ•°ç»„å¯¹è±¡çš„ length å±æ€§å‘¢ï¼Ÿç­”æ¡ˆæ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯ä¼šå—åˆ°ä¸€èˆ¬çš„é‡å®šä¹‰é™åˆ¶ã€‚å¹¶ä¸”å¹¶ä¸æ˜¯æ‰€æœ‰æµè§ˆå™¨éƒ½å…è®¸ Array.length çš„é‡å®šä¹‰ã€‚è¿™é‡Œå°±ä¸å±•å¼€äº†ï¼Œå¦‚æœ‰å…´è¶£è¯·çœ‹[æ–‡æœ«çš„é“¾æ¥](#æ–‡ä¸­æŸäº›çŸ¥è¯†ç‚¹å‚è€ƒé“¾æ¥)

# æ•°ç»„çš„é™æ€æ–¹æ³•

## Array.isArray()

åœ¨è¿™ä¸ªæ–¹æ³•æ²¡å‡ºæ¥ä¹‹å‰ï¼Œå¾ˆå¤šæ—©æœŸç±»åº“æ˜¯é€šè¿‡ä¸‹åˆ—ä»£ç æ¥åˆ¤æ–­çš„ï¼ˆé¸­å­åˆ¤æ–­ï¼‰ï¼Œæ–‡æœ«é€ä¸Šç‰ä¼¯å¤§ä½¬çš„é“¾æ¥ï¼Œå¸Œæœ›å¤§å®¶éƒ½å»äº†è§£ä¸€ä¸‹

```javascript
function isArray(object) {
  return object != null && typeof object === "object" &&
    'splice' in object && 'join' in object
}
```

ç›´åˆ°åæ¥æœ‰ç¥äººå‡ºå±±ï¼Œå†™å‡ºäº†ä¸€æ®µç¥ç ï¼Œæ­¤ä»£ç ä¸€å‡ºï¼Œå¤©ä¸‹éœ‡æƒŠï¼Œå¼•å„è·¯ç±»åº“ç«æŠ˜è…°ã€‚è¿™ä»£ç ï¼Œä¸ä¸ä»…ä»…è§£å†³äº†æ•°ç»„çš„é—®é¢˜ï¼Œè€Œæ˜¯è§£å†³äº† isXxx ä¸€ç±»é—®é¢˜ã€‚

```javascript
function isArray(obj) {
  return Object.prototype.toString.call(obj) === "[object Array]"
}
```

å¯¹ç°ä»£æµè§ˆå™¨æ¥è¯´ï¼Œä¸Šé¢çš„å†™æ³•ï¼Œä¾æ—§è®©å„å¤§æµè§ˆå™¨å¼•æ“çš„å®ç°è€…è§‰å¾—å¾ˆéš¾å—ï¼Œäºæ˜¯ç›´æ¥æœ‰äº†Array.isArrayæ–¹æ³•

```javascript
/**
 * Array.isArray(obj)
 * @param {Object} obj => éœ€è¦æ£€æµ‹çš„å€¼
 * ----------------------------------------------
 * è¿”å›å€¼
 * @param {Boolean} å¦‚æœå¯¹è±¡æ˜¯ Arrayï¼Œ åˆ™ä¸ºtrue;å¦åˆ™ä¸ºfalseã€‚
 */
 Array.isArray([]) // true
 // é²œä¸ºäººçŸ¥çš„äº‹å®ï¼šå…¶å® Array.prototype ä¹Ÿæ˜¯ä¸€ä¸ªæ•°ç»„ã€‚
Array.isArray(Array.prototype) // true
```

## Array.from()

Array.from() æ–¹æ³•ä»ä¸€ä¸ªç±»ä¼¼æ•°ç»„æˆ–å¯è¿­ä»£å¯¹è±¡ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°ç»„å®ä¾‹

```javascript
/**
 * Array.from(arrayLike,mapFn,thisArg)
 * @param {Integer} arrayLike => æƒ³è¦è½¬æ¢æˆæ•°ç»„çš„ä¼ªæ•°ç»„å¯¹è±¡æˆ–å¯è¿­ä»£å¯¹è±¡ã€‚
 * @param {Function} mapFn => å¦‚æœæŒ‡å®šäº†è¯¥å‚æ•°ï¼Œæ–°æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ä¼šæ‰§è¡Œè¯¥å›è°ƒå‡½æ•°ã€‚ (å¯é€‰)
 * @param {Object} thisArg => å¯é€‰å‚æ•°ï¼Œæ‰§è¡Œå›è°ƒå‡½æ•° mapFn æ—¶ this å¯¹è±¡ã€‚ (å¯é€‰)
 * ----------------------------------------------
 * è¿”å›å€¼
 * @Array ä¸€ä¸ªæ–°çš„æ•°ç»„å®ä¾‹
 */

console.log(Array.from('foo')) // ["f", "o", "o"]
console.log(Array.from([1, 2, 3], x => x + x)) // [2,4,6]
Array.from([1],function(x){
    console.log(this) // {a: 1}
    return x
},{a:1})
```

å®é™…ä¸Šï¼Œé€šè¿‡ Array.from æˆ‘ä»¬å°±å¯ä»¥åšä¸€äº›å¾ˆå¸¸è§çš„äº‹äº†ï¼Œæ¯”å¦‚æˆ‘ä»¬çš„æ•°ç»„å»é‡åˆå¹¶

```javascript
const combine = (...arg)=>{
     let arr = [].concat.apply([], arg); 
    return Array.from(new Set(arr));
}
let m = [1, 2, 2], n = [2,3,3,4]; 
console.log(combine(m,n)) // [1, 2, 3, 4];     
```

## Array.of()

Array.of() æ–¹æ³•åˆ›å»ºä¸€ä¸ªå…·æœ‰å¯å˜æ•°é‡å‚æ•°çš„æ–°æ•°ç»„å®ä¾‹ï¼Œè€Œä¸è€ƒè™‘å‚æ•°çš„æ•°é‡æˆ–ç±»å‹ã€‚

Array.of() å’Œ Array æ„é€ å‡½æ•°ä¹‹é—´çš„åŒºåˆ«åœ¨äºå¤„ç†æ•´æ•°å‚æ•°ï¼šArray.of(7) åˆ›å»ºä¸€ä¸ªå…·æœ‰å•ä¸ªå…ƒç´  7 çš„æ•°ç»„ï¼Œè€Œ Array(7) åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º7çš„ç©ºæ•°ç»„ï¼ˆæ³¨æ„ï¼šè¿™æ˜¯æŒ‡ä¸€ä¸ªæœ‰7ä¸ªç©ºä½çš„æ•°ç»„ï¼Œè€Œä¸æ˜¯ç”±7ä¸ªundefinedç»„æˆçš„æ•°ç»„ï¼‰ã€‚

```javascript
/**
 * Array.of(elementN)
 * @param {*} elementN => ä»»æ„ä¸ªå‚æ•°ï¼Œå°†æŒ‰é¡ºåºæˆä¸ºè¿”å›æ•°ç»„ä¸­çš„å…ƒç´ ã€‚
 * ----------------------------------------------
 * è¿”å›å€¼
 * @param {Array} æ–°çš„ Array å®ä¾‹ã€‚
 */
Array.of(7);       // [7] 
Array.of(1, 2, 3); // [1, 2, 3]

Array(7);          // [ , , , , , , ]
Array(1, 2, 3);    // [1, 2, 3]
```

# æ‹·è´å¡«å……ç›¸å…³

## concat

concat() æ–¹æ³•ç”¨äºåˆå¹¶ä¸¤ä¸ªæˆ–å¤šä¸ªæ•°ç»„ã€‚æ­¤æ–¹æ³•<b>ä¸ä¼šæ›´æ”¹åŸæ•°ç»„</b>ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ã€‚

æœ‰ä¸ªé™ç»´çš„ä¾‹å­ä¼šåœ¨ reduce() ï¼Œè¿™é‡Œå°±ä¸è¿‡è®²è§£äº†ï¼Œé¿å…é‡å¤

```javascript
/**
 * old_array.concat(valueN])
 * @param {*} valueN => å°†æ•°ç»„å’Œ/æˆ–å€¼è¿æ¥æˆæ–°æ•°ç»„ã€‚è¯¦æƒ…è¯·å‚é˜…ä¸‹æ–‡æè¿°ã€‚
 * 
 * è¿”å›å€¼
 * @param {Array} æ–°çš„ Array å®ä¾‹
 * 
*/
let arr1 = [1,2,3]
let arr2 = [4,5,6]
console.log(arr1.concat(arr2)) // [1,2,3,4,5,6]
console.log(arr1) // [1,2,3]
console.log(arr2) // [4,5,6]
```

å®é™…åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ concat å’Œ reduce æ­é…ï¼Œå®ç°æ‰å¹³åŒ–æ•°ç»„(é™ç»´)

```javascript
/**
 * å¤šç»´æ•°ç»„å˜æˆä¸€ç»´æ•°ç»„
 * @param {Array} arr => æ•°ç»„
 * @param {Boolean} shallow => æ•°ç»„å°†åªå‡å°‘ä¸€ç»´çš„åµŒå¥—
 */
const flatten =  (arr, shallow) => {
  if (shallow) {
      var arr = arr.reduce((arr, val) => arr.concat(val), [])
  } else {
      var arr = arr.reduce((arr, val) => arr.concat(Array.isArray(val) ? flatten(val) : val), [])
  }
  return arr
}

const arr = [1,[2,[3,4]],5]
console.log(flatten(arr,true)) // [1, 2, [3,4], 5]
console.log(flatten(arr)) // [1, 2, 3, 4, 5]
```

## copyWithin

copyWithin() æ–¹æ³•æµ…å¤åˆ¶æ•°ç»„çš„ä¸€éƒ¨åˆ†åˆ°åŒä¸€æ•°ç»„ä¸­çš„å¦ä¸€ä¸ªä½ç½®ï¼Œå¹¶è¿”å›å®ƒï¼Œè€Œä¸ä¿®æ”¹å…¶å¤§å°ã€‚æ­¤æ–¹æ³•<b>ä¼šæ›´æ”¹ç°æœ‰æ•°ç»„</b>

> psï¼šå‚æ•°target,startå’Œend å¿…é¡»ä¸ºæ•´æ•°ã€‚å¦‚æœstartä¸ºè´Ÿï¼Œåˆ™å…¶æŒ‡å®šçš„ç´¢å¼•ä½ç½®ç­‰åŒäºlength+startï¼Œlengthä¸ºæ•°ç»„çš„é•¿åº¦ã€‚endä¹Ÿæ˜¯å¦‚æ­¤ã€‚(copyWithin,fillç­‰æ–¹æ³•çš„startã€endå‚æ•°åŒç†)

```javascript
/**
 * arr.copyWithin(target,start,end)
 * @param {Number} target => 0 ä¸ºåŸºåº•çš„ç´¢å¼•ï¼Œå¤åˆ¶åºåˆ—åˆ°è¯¥ä½ç½®ã€‚å¦‚æœæ˜¯è´Ÿæ•°ï¼Œtarget å°†ä»æœ«å°¾å¼€å§‹è®¡ç®—ã€‚
å¦‚æœ target å¤§äºç­‰äº arr.lengthï¼Œå°†ä¼šä¸å‘ç”Ÿæ‹·è´ã€‚å¦‚æœ target åœ¨ start ä¹‹åï¼Œå¤åˆ¶çš„åºåˆ—å°†è¢«ä¿®æ”¹ä»¥ç¬¦åˆ arr.lengthã€‚
 * @param {Number} start => 0 ä¸ºåŸºåº•çš„ç´¢å¼•ï¼Œå¼€å§‹å¤åˆ¶å…ƒç´ çš„èµ·å§‹ä½ç½®ã€‚å¦‚æœæ˜¯è´Ÿæ•°ï¼Œstart å°†ä»æœ«å°¾å¼€å§‹è®¡ç®—
å¦‚æœ start è¢«å¿½ç•¥ï¼ŒcopyWithin å°†ä¼šä»0å¼€å§‹å¤åˆ¶ (å¯é€‰)
 * @param {Number} end => 0 ä¸ºåŸºåº•çš„ç´¢å¼•ï¼Œå¼€å§‹å¤åˆ¶å…ƒç´ çš„ç»“æŸä½ç½®ã€‚copyWithin å°†ä¼šæ‹·è´åˆ°è¯¥ä½ç½®ï¼Œä½†ä¸åŒ…æ‹¬ end è¿™ä¸ªä½ç½®çš„å…ƒç´ ã€‚å¦‚æœæ˜¯è´Ÿæ•°ï¼Œ end å°†ä»æœ«å°¾å¼€å§‹è®¡ç®—ã€‚å¦‚æœ end è¢«å¿½ç•¥ï¼ŒcopyWithin å°†ä¼šå¤åˆ¶åˆ° arr.length (å¯é€‰)
 * 
 * è¿”å›å€¼
 * @param {Array} æ”¹å˜äº†çš„æ•°ç»„
 * 
*/
let arr = [1,2,3,4,5]
console.log(arr.copyWithin(0, 3, 4)) // [4, 2, 3, 4, 5]
console.log(arr) // [4, 2, 3, 4, 5]
// -2è¡¨ç¤ºå¤åˆ¶åˆ° ([1, 2, 3, 4, 5].length - 2) çš„ä½ç½®å»ï¼Œè¿™é‡ŒæŒ‡3
console.log([1, 2, 3, 4, 5].copyWithin(-2)) // [1, 2, 3, 1, 2]
console.log([1, 2, 3, 4, 5].copyWithin(0, 3)) // [4, 5, 3, 4, 5]
console.log([1, 2, 3, 4, 5].copyWithin(-2, -3, -1)) // [1, 2, 3, 3, 4]
```

## fill

fill() æ–¹æ³•ç”¨ä¸€ä¸ªå›ºå®šå€¼å¡«å……ä¸€ä¸ªæ•°ç»„ä¸­ä»èµ·å§‹ç´¢å¼•åˆ°ç»ˆæ­¢ç´¢å¼•å†…çš„å…¨éƒ¨å…ƒç´ ã€‚<b>ä¸åŒ…æ‹¬ç»ˆæ­¢ç´¢å¼•</b>ã€‚æ­¤æ–¹æ³•<b>ä¼šæ›´æ”¹ç°æœ‰æ•°ç»„</b>

```javascript
/**
 * arr.fill(value,start,end)
 * @param {*} value => ç”¨æ¥å¡«å……æ•°ç»„å…ƒç´ çš„å€¼ã€‚
 * @param {Number} start => èµ·å§‹ç´¢å¼•ï¼Œé»˜è®¤å€¼ä¸º0ã€‚(å¯é€‰)
 * @param {Number} end => èµ·å§‹ç´¢å¼•ï¼Œé»˜è®¤å€¼ä¸ºthis.lengthã€‚(å¯é€‰)
 * 
 * è¿”å›å€¼
 * @param {Array} ä¿®æ”¹åçš„æ•°ç»„
 * 
*/
let arr = [1,2,3,4]
console.log(arr.fill(0, 2, 4)) // [1, 2, 0, 0]
console.log([1, 2, 3].fill(4)) // [4,4,4]
console.log([1, 2, 3].fill(4,1)) // [1,4,4]
// è¿™é‡Œçš„-1å®é™…ä¸Šå°±æ˜¯ (-1+3) ä¹Ÿå°±æ˜¯ 2
console.log([1, 2, 3].fill(4,-1)) // [1,2,4]
console.log([1, 2, 3].fill(4,-2,-1)) // [1,4,3]
```


# æœç´¢æŸ¥æ‰¾ç›¸å…³

## find

find() æ–¹æ³•è¿”å›æ•°ç»„ä¸­æ»¡è¶³æä¾›çš„æµ‹è¯•å‡½æ•°çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„å€¼ã€‚å¦åˆ™è¿”å› undefinedã€‚

```javascript
/**
 * arr.find(callback,thisArg)
 * @param {Function} callback => ç”¨æ¥æµ‹è¯•æ¯ä¸ªå…ƒç´ çš„å‡½æ•°
 * @param {Object} thisArg => å¯é€‰å‚æ•°ï¼Œæ‰§è¡Œå›è°ƒå‡½æ•° mapFn æ—¶ this å¯¹è±¡ã€‚ (å¯é€‰)
 * 
 * callback è¢«è°ƒç”¨æ—¶ä¼šä¼ å…¥ä¸‰ä¸ªå‚æ•°ï¼šå½“å‰å…ƒç´ å€¼ï¼Œå…ƒç´ çš„ç´¢å¼•ï¼ŒåŸæ•°ç»„ã€‚
 * 
 *  è¿”å›å€¼
 * @param {*} å½“æŸä¸ªå…ƒç´ é€šè¿‡ callback çš„æµ‹è¯•æ—¶ï¼Œè¿”å›æ•°ç»„ä¸­æœ€å…ˆé€šè¿‡çš„å€¼ï¼Œå¦åˆ™è¿”å› undefined
*/
const arr = [1,2,3,4]
console.log(arr.find(item=>item>2)) // 3
console.log(arr.find(item=>item>6)) // undefined
```

å®é™…åº”ç”¨åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å¯¹è±¡çš„å±æ€§æŸ¥æ‰¾æ•°ç»„é‡Œçš„å¯¹è±¡

```javascript
const people = [{
    name:'gating',
    age:18
},{
    name:'blue',
    age:15
},{
    name:'family',
    age:18
}]
const findName = (arr) => arr.name === 'gating';
console.log(people.find(findName)) // {name: "gating", age: 18}
```

## findIndex

findIndex()æ–¹æ³•è¿”å›æ•°ç»„ä¸­æ»¡è¶³æä¾›çš„æµ‹è¯•å‡½æ•°çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•ã€‚å¦åˆ™è¿”å›-1ã€‚


```javascript
/**
 * arr.findIndex(callback,thisArg)
 * @param {Function} callback => ç”¨æ¥æµ‹è¯•æ¯ä¸ªå…ƒç´ çš„å‡½æ•°
 * @param {Object} thisArg => å¯é€‰å‚æ•°ï¼Œæ‰§è¡Œå›è°ƒå‡½æ•° mapFn æ—¶ this å¯¹è±¡ã€‚ (å¯é€‰)
 * 
 * callback è¢«è°ƒç”¨æ—¶ä¼šä¼ å…¥ä¸‰ä¸ªå‚æ•°ï¼šå½“å‰å…ƒç´ å€¼ï¼Œå…ƒç´ çš„ç´¢å¼•ï¼ŒåŸæ•°ç»„ã€‚
 * 
 *  è¿”å›å€¼
 * @param {Number} å½“æŸä¸ªå…ƒç´ é€šè¿‡ callback çš„æµ‹è¯•æ—¶ï¼Œè¿”å›æ•°ç»„ä¸­æœ€å…ˆé€šè¿‡çš„å€¼çš„ç´¢å¼•å€¼ï¼Œå¦åˆ™è¿”å› -1
*/
const arr = [1,2,3,4]
console.log(arr.findIndex(item=>item>2)) // 2
console.log(arr.findIndex(item=>item>6)) // -1
```
å®é™…åº”ç”¨åœºæ™¯åŒ find() ,è¿™é‡Œå°±ä¸é‡å¤äº†

## indexOf

indexOf()æ–¹æ³•è¿”å›åœ¨æ•°ç»„ä¸­å¯ä»¥æ‰¾åˆ°ä¸€ä¸ªç»™å®šå…ƒç´ çš„ç¬¬ä¸€ä¸ªç´¢å¼•ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¿”å›-1ã€‚

> indexOf å’Œ lastIndexOf éƒ½æ˜¯ä½¿ç”¨ === æ¥è¿›è¡Œåˆ¤æ–­ 

```javascript
/**
 * arr.indexOf(searchElement,fromIndex)
 * @param {*} searchElement => è¦æŸ¥æ‰¾çš„å…ƒç´ 
 * @param {Number} fromIndex => å¼€å§‹æŸ¥æ‰¾çš„ä½ç½®ã€‚å¦‚æœè¯¥ç´¢å¼•å€¼å¤§äºæˆ–ç­‰äºæ•°ç»„é•¿åº¦ï¼Œæ„å‘³ç€ä¸ä¼šåœ¨æ•°ç»„é‡ŒæŸ¥æ‰¾ï¼Œè¿”å›-1ã€‚å¦‚æœå‚æ•°ä¸­æä¾›çš„ç´¢å¼•å€¼æ˜¯ä¸€ä¸ªè´Ÿå€¼ï¼Œåˆ™å°†å…¶ä½œä¸ºæ•°ç»„æœ«å°¾çš„ä¸€ä¸ªæŠµæ¶ˆï¼Œå³-1è¡¨ç¤ºä»æœ€åä¸€ä¸ªå…ƒç´ å¼€å§‹æŸ¥æ‰¾ï¼Œ-2è¡¨ç¤ºä»å€’æ•°ç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹æŸ¥æ‰¾ ï¼Œä»¥æ­¤ç±»æ¨ã€‚ æ³¨æ„ï¼šå¦‚æœå‚æ•°ä¸­æä¾›çš„ç´¢å¼•å€¼æ˜¯ä¸€ä¸ªè´Ÿå€¼ï¼Œå¹¶ä¸æ”¹å˜å…¶æŸ¥æ‰¾é¡ºåºï¼ŒæŸ¥æ‰¾é¡ºåºä»ç„¶æ˜¯ä»å‰å‘åæŸ¥è¯¢æ•°ç»„ã€‚å¦‚æœæŠµæ¶ˆåçš„ç´¢å¼•å€¼ä»å°äº0ï¼Œåˆ™æ•´ä¸ªæ•°ç»„éƒ½å°†ä¼šè¢«æŸ¥è¯¢ã€‚å…¶é»˜è®¤å€¼ä¸º0. (å¯é€‰)
 * 
 *  è¿”å›å€¼
 * @param {Number} é¦–ä¸ªè¢«æ‰¾åˆ°çš„å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ç´¢å¼•ä½ç½®; è‹¥æ²¡æœ‰æ‰¾åˆ°åˆ™è¿”å› -1
*/

const arr = ['a','b','c','a']
console.log(arr.indexOf('a')) // 0
console.log(arr.indexOf('a',-1)) // 3
console.log(arr.indexOf('d')) // -1
```

å®é™…åº”ç”¨åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬ä¸å¯èƒ½ä¹‹åªæ‰¾å‡ºä¸€ä¸ªåŒåå…ƒç´ çš„ç´¢å¼•å€¼ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦æ‰¾å‡ºåŒåçš„å…ƒç´ çš„æ‰€æœ‰ä½ç½®ï¼Œäºæ˜¯ä¹

```javascript
// å­˜æ”¾ç´¢å¼•çš„æ•°ç»„
const indices = [];
const arr = ['a','b','c','a']
// è¦æŸ¥æ‰¾çš„å…ƒç´ 
const searchElement = 'a'
// å½“å‰çš„ç´¢å¼•
let idx = arr.indexOf(searchElement);
while (idx != -1) {
  indices.push(idx);
  idx = arr.indexOf(searchElement, idx + 1);
}
console.log(indices) // [0, 3]
```


## lastIndexOf

lastIndexOf() æ–¹æ³•è¿”å›æŒ‡å®šå…ƒç´ ï¼ˆä¹Ÿå³æœ‰æ•ˆçš„ JavaScript å€¼æˆ–å˜é‡ï¼‰åœ¨æ•°ç»„ä¸­çš„æœ€åä¸€ä¸ªçš„ç´¢å¼•ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™è¿”å› -1ã€‚ä»æ•°ç»„çš„åé¢å‘å‰æŸ¥æ‰¾ï¼Œä» fromIndex å¤„å¼€å§‹ã€‚


```javascript
/**
 * arr.lastIndexOf(searchElement,fromIndex = arr.length - 1)
 * @param {*} searchElement => è¦æŸ¥æ‰¾çš„å…ƒç´ 
 * @param {Number} fromIndex => ä»æ­¤ä½ç½®å¼€å§‹é€†å‘æŸ¥æ‰¾ã€‚é»˜è®¤ä¸ºæ•°ç»„çš„é•¿åº¦å‡ 1ï¼Œå³æ•´ä¸ªæ•°ç»„éƒ½è¢«æŸ¥æ‰¾ã€‚å¦‚æœè¯¥å€¼å¤§äºæˆ–ç­‰äºæ•°ç»„çš„é•¿åº¦ï¼Œåˆ™æ•´ä¸ªæ•°ç»„ä¼šè¢«æŸ¥æ‰¾ã€‚å¦‚æœä¸ºè´Ÿå€¼ï¼Œå°†å…¶è§†ä¸ºä»æ•°ç»„æœ«å°¾å‘å‰çš„åç§»ã€‚å³ä½¿è¯¥å€¼ä¸ºè´Ÿï¼Œæ•°ç»„ä»ç„¶ä¼šè¢«ä»åå‘å‰æŸ¥æ‰¾ã€‚å¦‚æœè¯¥å€¼ä¸ºè´Ÿæ—¶ï¼Œå…¶ç»å¯¹å€¼å¤§äºæ•°ç»„é•¿åº¦ï¼Œåˆ™æ–¹æ³•è¿”å› -1ï¼Œå³æ•°ç»„ä¸ä¼šè¢«æŸ¥æ‰¾ã€‚ (å¯é€‰)
 * 
 *  è¿”å›å€¼
 * @param {Number} æ•°ç»„ä¸­æœ€åä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•ï¼Œå¦‚æœªæ‰¾åˆ°è¿”å›-1
*/

const arr = ['a','b','c','a']
console.log(arr.lastIndexOf('a')) // 0
console.log(arr.lastIndexOf('a',-1)) // 3
console.log(arr.lastIndexOf('d')) // -1
```

å®ä¾‹ï¼šæŸ¥æ‰¾æ‰€æœ‰å…ƒç´ 

```javascript
const indices = []
const array = ['a', 'b', 'a', 'c', 'a', 'd']
const element = 'a'
let idx = array.lastIndexOf(element)

while (idx != -1) {
  indices.push(idx);
  idx = (idx > 0 ? array.lastIndexOf(element, idx - 1) : -1);
}

console.log(indices) // [4, 2, 0];
```

> æ³¨æ„ï¼Œæˆ‘ä»¬è¦å•ç‹¬å¤„ç†idx==0æ—¶çš„æƒ…å†µï¼Œå› ä¸ºå¦‚æœæ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå¿½ç•¥äº†fromIndexå‚æ•°åˆ™ç¬¬ä¸€ä¸ªå…ƒç´ æ€»ä¼šè¢«æŸ¥æ‰¾ã€‚è¿™ä¸åŒäºindexOfæ–¹æ³•


## includes 

includes() æ–¹æ³•ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªæ•°ç»„æ˜¯å¦åŒ…å«ä¸€ä¸ªæŒ‡å®šçš„å€¼ï¼Œæ ¹æ®æƒ…å†µï¼Œå¦‚æœåŒ…å«åˆ™è¿”å› trueï¼Œå¦åˆ™è¿”å›falseã€‚

1. å¦‚æœfromIndex å¤§äºç­‰äºæ•°ç»„é•¿åº¦ ï¼Œåˆ™è¿”å› false ã€‚è¯¥æ•°ç»„ä¸ä¼šè¢«æœç´¢

2. å¦‚æœ fromIndex ä¸ºè´Ÿå€¼ï¼Œè®¡ç®—å‡ºçš„ç´¢å¼•å°†ä½œä¸ºå¼€å§‹æœç´¢searchElementçš„ä½ç½®ã€‚å¦‚æœè®¡ç®—å‡ºçš„ç´¢å¼•å°äº 0ï¼Œåˆ™æ•´ä¸ªæ•°ç»„éƒ½ä¼šè¢«æœç´¢ã€‚


```javascript
/**
 * arr.includes(searchElement,fromIndex = 0)
 * @param {*} searchElement => è¦æŸ¥æ‰¾çš„å…ƒç´ 
 * @param {Number} fromIndex => ä»è¯¥ç´¢å¼•å¤„å¼€å§‹æŸ¥æ‰¾ searchElementã€‚å¦‚æœä¸ºè´Ÿå€¼ï¼Œåˆ™æŒ‰å‡åºä» array.length - fromIndex çš„ç´¢å¼•å¼€å§‹æœç´¢ã€‚é»˜è®¤ä¸º 0ã€‚ (å¯é€‰)
 * 
 *  è¿”å›å€¼
 * @param {Boolean} ä¸€ä¸ª Boolean å€¼
*/
const arr = [1,2,3,NaN]
console.log(arr.includes(1, -100)) // true
console.log(arr.includes(1, 5)) // false
```

å®é™…çš„åº”ç”¨åœºæ™¯ï¼Œé€šè¿‡å¯ä»¥è§£å†³æˆ‘ä»¬æ‰¾å‡ºä¸¤ä¸ªæ•°ç»„çš„ æ•°ç»„äº¤é›† å’Œ æ•°ç»„å·®é›†

```javascript
// æ•°ç»„äº¤é›†
const intersection = (arr1, arr2) => arr1.filter(v => arr2.includes(v))
// æ•°ç»„å·®é›†
const difference = (arr1, arr2) => [...arr1, ...arr2].filter(v => !arr1.includes(v) || !arr2.includes(v))

const arr1 = [1,2,3]
const arr2 = [2,3,4]
console.log(intersection(arr1,arr2)) // [2, 3]
console.log(difference(arr1,arr2)) // [1, 4]
```

# æ“ä½œç›¸å…³

## slice

slice() æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„å¯¹è±¡ï¼Œè¿™ä¸€å¯¹è±¡æ˜¯ä¸€ä¸ªç”± beginå’Œ endï¼ˆä¸åŒ…æ‹¬endï¼‰å†³å®šçš„åŸæ•°ç»„çš„æµ…æ‹·è´ã€‚æ­¤æ–¹æ³•<b>ä¸ä¼šæ›´æ”¹åŸæ•°ç»„</b>ã€‚

```javascript
/**
 * Array.slice(begin,end)
 * @param {Number} begin => ä»è¯¥ç´¢å¼•å¤„å¼€å§‹æå–åŸæ•°ç»„ä¸­çš„å…ƒç´ ï¼ˆä»0å¼€å§‹ï¼‰ã€‚ï¼ˆå¯é€‰ï¼‰
 * @param {Number} end => åœ¨è¯¥ç´¢å¼•å¤„ç»“æŸæå–åŸæ•°ç»„å…ƒç´ ï¼ˆä»0å¼€å§‹ï¼‰ã€‚sliceä¼šæå–åŸæ•°ç»„ä¸­ç´¢å¼•ä» begin åˆ° end çš„æ‰€æœ‰å…ƒç´ ï¼ˆåŒ…å«beginï¼Œä½†ä¸åŒ…å«endï¼‰ã€‚ï¼ˆå¯é€‰ï¼‰
 * ----------------------------------------------
 * è¿”å›å€¼
 * @param {Array} ä¸€ä¸ªå«æœ‰æå–å…ƒç´ çš„æ–°æ•°ç»„
 */
const arr = [1,2,3,4,5]
console.log(arr.slice()) // [1,2,3,4,5]
console.log(arr.slice(2)) // [3,4,5]
console.log(arr.slice(2, 4)) // [3,4]

// -1è¡¨ç¤ºå¤åˆ¶åˆ° ([1, 2, 3, 4, 5].length - 1) çš„ä½ç½®å»ï¼Œè¿™é‡ŒæŒ‡4
console.log(arr.slice(-1)) // [5]
console.log(arr.slice(-2,-1)) // [4]
```

å®é™…åº”ç”¨ä¸­ï¼Œslice å°±å¯ä»¥åšå¾ˆå¤šäº‹æƒ…å•¦ï¼Œæ¯”å¦‚è¯´ï¼Œæˆ‘ä»¬çš„æ•°ç»„åˆ‡å‰²æˆ–è€…ç”ŸæˆäºŒç»´æ•°ç»„

```javascript
/**
 * è¿”å›ä¸€ä¸ªæ ¹æ®subArrayNumçš„äºŒç»´æ•°ç»„
 * @param {Array} arr => ä¸€ç»´æ•°ç»„
 * @param {Number} subArrayNum => æ¯ç»„å…ƒç´ çš„ä¸ªæ•°
 */
const chunk = (arr, subArrayNum) => {
    const result = [];
    for (let i = 0; i < arr.length; i += subArrayNum) {
        result.push(arr.slice(i, i + subArrayNum));
    }
    return result;
}
console.log(chunk([1,2,3,4],2))  // [[1,2], [3,4]]

/**
 * åˆ›å»ºä¸€ä¸ªæ•°ç»„åˆ‡ç‰‡ï¼Œ ä»arrayæ•°ç»„çš„èµ·å§‹å…ƒç´ å¼€å§‹æå–nä¸ªå…ƒç´ ã€‚
 * @param {Array} arr => è¦æ£€ç´¢çš„æ•°ç»„
 * @param {Number} n => è¦æå–çš„å…ƒç´ ä¸ªæ•°
 */
const take = (arr, n) => arr.slice(0, n ? n : 1)
console.log(take([1,2,3,4],2)) // [1, 2]
```


## splice

splice()æ–¹æ³•é€šè¿‡åˆ é™¤ç°æœ‰å…ƒç´ å’Œ/æˆ–æ·»åŠ æ–°å…ƒç´ æ¥ä¿®æ”¹æ•°ç»„,å¹¶ä»¥æ•°ç»„è¿”å›åŸæ•°ç»„ä¸­è¢«ä¿®æ”¹çš„å†…å®¹ã€‚æ­¤æ–¹æ³•<b>ä¼šæ›´æ”¹ç°æœ‰æ•°ç»„</b>ã€‚


```javascript
/**
 * Array.splice(start,deleteCount,itemN)
 * @param {Number} start => æŒ‡å®šä¿®æ”¹çš„å¼€å§‹ä½ç½®ï¼ˆä»0è®¡æ•°ï¼‰ã€‚å¦‚æœè¶…å‡ºäº†æ•°ç»„çš„é•¿åº¦ï¼Œåˆ™ä»æ•°ç»„æœ«å°¾å¼€å§‹æ·»åŠ å†…å®¹ï¼›å¦‚æœæ˜¯è´Ÿå€¼ï¼Œåˆ™è¡¨ç¤ºä»æ•°ç»„æœ«ä½å¼€å§‹çš„ç¬¬å‡ ä½ï¼ˆä»-1è®¡æ•°ï¼‰ï¼›å¦‚æœè´Ÿæ•°çš„ç»å¯¹å€¼å¤§äºæ•°ç»„çš„é•¿åº¦ï¼Œåˆ™è¡¨ç¤ºå¼€å§‹ä½ç½®ä¸ºç¬¬0ä½ã€‚
 * @param {Int} deleteCount  => æ•´æ•°ï¼Œè¡¨ç¤ºè¦ç§»é™¤çš„æ•°ç»„å…ƒç´ çš„ä¸ªæ•°ã€‚å¦‚æœdeleteCountè¢«çœç•¥ï¼Œåˆ™å…¶ç›¸å½“äº(arr.length - start)ã€‚ï¼ˆå¯é€‰ï¼‰ 
 * @param {*} itemN  => è¦æ·»åŠ è¿›æ•°ç»„çš„å…ƒç´ ,ä»start ä½ç½®å¼€å§‹ã€‚å¦‚æœä¸æŒ‡å®šï¼Œåˆ™ splice() å°†åªåˆ é™¤æ•°ç»„å…ƒç´ ã€‚ï¼ˆå¯é€‰ï¼‰
 * ----------------------------------------------
 * è¿”å›å€¼
 * @param {Array} ç”±è¢«åˆ é™¤çš„å…ƒç´ ç»„æˆçš„ä¸€ä¸ªæ•°ç»„ã€‚å¦‚æœåªåˆ é™¤äº†ä¸€ä¸ªå…ƒç´ ï¼Œåˆ™è¿”å›åªåŒ…å«ä¸€ä¸ªå…ƒç´ çš„æ•°ç»„ã€‚å¦‚æœæ²¡æœ‰åˆ é™¤å…ƒç´ ï¼Œåˆ™è¿”å›ç©ºæ•°ç»„ã€‚
 */

const arr = [1,3]
const res = arr.splice(1, 0, 2)
console.log(arr) // [1,2,3]
console.log(res) // []

const result = arr.splice(2, 1)
console.log(arr) // [1,2]
console.log(result) // [3]


// -1è¡¨ç¤ºå¤åˆ¶åˆ° ([1,2].length - 1) çš„ä½ç½®å»ï¼Œè¿™é‡ŒæŒ‡1
arr.splice(-1, 1)
console.log(arr) // [1]

// åªæœ‰ä¸€ä¸ªå‚æ•°æ—¶ fruits.splice(2) ç›¸å½“äº fruits.splice(2,fruits.length-1)
const fruits = ['apple','banana','orange','pear']
const res1 = fruits.splice(2)
console.log(fruits) // ["apple", "banana"]
console.log(res1) // ["orange", "pear"]
```

> å› ä¸º js ä¸­åªæœ‰ splice è¿™ä¸ªæ–¹æ³•åˆ é™¤æ•°ç»„å…ƒç´ ï¼Œå¹¶ä¸”ä¼šä¿®æ”¹æ•°ç»„é•¿åº¦ï¼Œæ‰€ä»¥ä»–çš„å®é™…åº”ç”¨åœºæ™¯è¿˜æŒºå¤šçš„0 0ï¼Œä½†æ˜¯æˆ‘æ²¡æœ‰å¤ªå¥½çš„ä¾‹å­å¯ä»¥è·ç¦»


## push

push() æ–¹æ³•å°†ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ æ·»åŠ åˆ°æ•°ç»„çš„æœ«å°¾ï¼Œå¹¶è¿”å›è¯¥æ•°ç»„çš„æ–°é•¿åº¦ã€‚ æ­¤æ–¹æ³•<b>ä¼šæ›´æ”¹ç°æœ‰æ•°ç»„</b>ã€‚

```javascript
/**
 * Array.push(elementN)
 * @param {*} elementN => è¢«æ·»åŠ åˆ°æ•°ç»„æœ«å°¾çš„å…ƒç´ ã€‚
 * ----------------------------------------------
 * è¿”å›å€¼
 * @param {Number} å½“è°ƒç”¨è¯¥æ–¹æ³•æ—¶ï¼Œæ–°çš„ length å±æ€§å€¼å°†è¢«è¿”å›ã€‚
 */

const arr = [1,2,3]
console.log(arr.push(4)) // 4
console.log(arr) // [1,2,3,4]

```

pushã€popã€shiftã€unshift æ–¹æ³•æœ‰æ„å…·æœ‰é€šç”¨æ€§ã€‚è¯¥æ–¹æ³•å’Œ call() æˆ– apply() ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œå¯åº”ç”¨åœ¨ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ä¸Šã€‚è¿™ä¸ªæ¯”è¾ƒæœ‰æ„ä¹‰ï¼Œæ‰€ä»¥å•ç‹¬åœ¨è¿™é‡Œé€ä¸Š[MDNçš„é“¾æ¥](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/push#%E5%90%88%E5%B9%B6%E4%B8%A4%E4%B8%AA%E6%95%B0%E7%BB%84)ï¼Œå½“ç„¶ä¾‹å­ä¹Ÿæ˜¯MDNçš„O(âˆ©_âˆ©)O

> åƒæ•°ç»„ä¸€æ ·ä½¿ç”¨å¯¹è±¡è¿™ä¸ªä¾‹å­ pushã€popã€shiftã€unshift å››ä¸ªæ–¹æ³•å†™æ³•å¾ˆç±»ä¼¼ï¼Œè¿™é‡Œå°±é‡å¤å†™äº†

```javascript
// åˆå¹¶ä¸¤ä¸ªæ•°ç»„
var vegetables = ['parsnip', 'potato']
var moreVegs = ['celery', 'beetroot']
// å°†ç¬¬äºŒä¸ªæ•°ç»„èåˆè¿›ç¬¬ä¸€ä¸ªæ•°ç»„
// ç›¸å½“äº vegetables.push('celery', 'beetroot')
Array.prototype.push.apply(vegetables, moreVegs)
console.log(vegetables)  // ['parsnip', 'potato', 'celery', 'beetroot']


// åƒæ•°ç»„ä¸€æ ·ä½¿ç”¨å¯¹è±¡
var obj = {
    length: 0,
    addElem: function addElem (elem) {
        // obj.length is automatically incremented 
        // every time an element is added.
        [].push.call(this, elem);
    },
    popElem: function addElem () {
        // obj.length is automatically incremented 
        // every time an element is added.
        return [].pop.call(this);
        
    }
}
obj.addElem({})
obj.addElem({a:1})
console.log(obj.length) // 2
console.log(obj.popElem()) // {a: 1}
console.log(obj.length) // 1
```

## pop

pop()æ–¹æ³•ä»æ•°ç»„ä¸­åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›è¯¥å…ƒç´ çš„å€¼ã€‚æ­¤æ–¹æ³•æ›´æ”¹æ•°ç»„çš„é•¿åº¦ã€‚æ­¤æ–¹æ³•<b>ä¼šæ›´æ”¹ç°æœ‰æ•°ç»„</b>ã€‚

> å¦‚æœä½ åœ¨ä¸€ä¸ªç©ºæ•°ç»„ä¸Šè°ƒç”¨ pop()ï¼Œå®ƒè¿”å›  undefinedã€‚

```javascript
/**
 * Array.pop()
 * ----------------------------------------------
 * è¿”å›å€¼
 * @param {*} ä»æ•°ç»„ä¸­åˆ é™¤çš„å…ƒç´ (å½“æ•°ç»„ä¸ºç©ºæ—¶è¿”å›undefined)ã€‚
 */
const arr = [1,2,3]
console.log(arr.pop()) // 3
console.log(arr) // [1,2]
```

## shift

shift() æ–¹æ³•ä»æ•°ç»„ä¸­åˆ é™¤ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›è¯¥å…ƒç´ çš„å€¼ã€‚æ­¤æ–¹æ³•æ›´æ”¹æ•°ç»„çš„é•¿åº¦ã€‚æ­¤æ–¹æ³•<b>ä¼šæ›´æ”¹ç°æœ‰æ•°ç»„</b>ã€‚

```javascript
/**
 * Array.shift()
 * ----------------------------------------------
 * è¿”å›å€¼
 * @param {*} ä»æ•°ç»„ä¸­åˆ é™¤çš„å…ƒç´ (å½“æ•°ç»„ä¸ºç©ºæ—¶è¿”å›undefined)ã€‚
 */
const arr = [1,2,3]
console.log(arr.shift()) // 1
console.log(arr) // [2,3]
```

## unshift

unshift() æ–¹æ³•å°†ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ æ·»åŠ åˆ°æ•°ç»„çš„å¼€å¤´ï¼Œå¹¶è¿”å›è¯¥æ•°ç»„çš„æ–°é•¿åº¦ã€‚æ­¤æ–¹æ³•<b>ä¼šæ›´æ”¹ç°æœ‰æ•°ç»„</b>ã€‚

```javascript
/**
 * Array.unshift(elementN)
 * @param {*} elementN => è¦æ·»åŠ åˆ°æ•°ç»„å¼€å¤´çš„å…ƒç´ ã€‚
 * ----------------------------------------------
 * è¿”å›å€¼
 * @param {Number} å½“ä¸€ä¸ªå¯¹è±¡è°ƒç”¨è¯¥æ–¹æ³•æ—¶ï¼Œè¿”å›å…¶ length å±æ€§å€¼ã€‚
 */
const arr = [3,4,5]
console.log(arr.unshift(1,2)) // 5
console.log(arr) // [1,2,3,4,5]
```

> ä½†å®é™…ä¸Šï¼Œæˆ‘ä»¬ä¸å»ºè®®ç”¨ unshift æ–¹æ³•å¾€å‰é¢æ·»åŠ å…ƒç´ ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿä»åŸç†å°±å¯ä»¥çŸ¥é“ï¼Œunshift()çš„æ•ˆç‡æ˜¯è¾ƒä½çš„ã€‚åŸå› æ˜¯ï¼Œå®ƒæ¯æ·»åŠ ä¸€ä¸ªå…ƒç´ ï¼Œéƒ½è¦æŠŠç°æœ‰å…ƒç´ å¾€ä¸‹ç§»ä¸€ä¸ªä½ç½®ã€‚

ä¸‹é¢æˆ‘ä»¬ç®€å•æµ‹è¯•ä¸€ä¸‹ï¼Œunshift å’Œ push çš„æ€§èƒ½åŒºåˆ«

```javascript
console.time('unshiftæ‰€ç”¨æ—¶é—´')
const unshift = []
for (let i = 0; i < 10000; i++) { ã€€ã€€
  unshift.unshift(i)
}
console.timeEnd('unshiftæ‰€ç”¨æ—¶é—´')

console.time('pushæ‰€ç”¨æ—¶é—´')
const push = []
for (let i = 0; i < 10000; i++) { ã€€ã€€
  push.push(i)
}
console.timeEnd('pushæ‰€ç”¨æ—¶é—´')

console.time('reverseæ‰€ç”¨æ—¶é—´')
push.reverse(); 
console.timeEnd('reverseæ‰€ç”¨æ—¶é—´')
```

å¤§å®¶å¯æ˜¯å¤åˆ¶ä¸€ä¸‹è¿™æ®µä»£ç ï¼Œåœ¨æˆ‘ä»¬æ•°æ®é‡ä¸æ˜¯ç‰¹åˆ«å¤§çš„æ—¶å€™ï¼Œä»–ä»¬çš„æ•ˆç‡å·®åˆ«å‡ åå€ï¼Œå› æ­¤ï¼Œå¹³æ—¶è¿˜æ˜¯è¦æ…ç”¨unshift()ï¼Œç‰¹åˆ«æ˜¯å¯¹å¤§æ•°ç»„ã€‚æ­¤æ–¹æ³•<b>ä¼šæ›´æ”¹ç°æœ‰æ•°ç»„</b>ã€‚

ä½†æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡ reverse å’Œ push çš„æ–¹æ³•å®ç°æˆ‘ä»¬ unshift ï¼Œæ¯”å¦‚

```javascript
const arr = [3,4,5]
console.log(arr.unshift(1,2)) // 5
console.log(arr) // [1,2,3,4,5]

const arr2 = [3,4,5]
// ä»å‰ä¸€ä¸ªä»£ç çŸ¥é“reverseçš„æ€§èƒ½ä¹Ÿå¾ˆå¿«
arr2.reverse().push(2,1)
arr2.reverse()
console.log(arr2) // [1,2,3,4,5]
```

## sort

sort() æ–¹æ³•ç”¨åŸåœ°ç®—æ³•å¯¹æ•°ç»„çš„å…ƒç´ è¿›è¡Œæ’åºï¼Œå¹¶è¿”å›æ•°ç»„ã€‚æ’åºç®—æ³•ç°åœ¨æ˜¯ç¨³å®šçš„ã€‚é»˜è®¤æ’åºé¡ºåºæ˜¯æ ¹æ®å­—ç¬¦ä¸²Unicodeç ç‚¹ã€‚æ­¤æ–¹æ³•<b>ä¼šæ›´æ”¹ç°æœ‰æ•°ç»„</b>ã€‚

```javascript
/**
 * Array.sort(compareFunction)
 * @param {*} compareFunction => ç”¨æ¥æŒ‡å®šæŒ‰æŸç§é¡ºåºè¿›è¡Œæ’åˆ—çš„å‡½æ•°ã€‚å¦‚æœçœç•¥ï¼Œå…ƒç´ æŒ‰ç…§è½¬æ¢ä¸ºçš„å­—ç¬¦ä¸²çš„å„ä¸ªå­—ç¬¦çš„Unicodeä½ç‚¹è¿›è¡Œæ’åºã€‚(å¯é€‰)
 * ----------------------------------------------
 * è¿”å›å€¼
 * @param {Array} æ’åºåçš„æ•°ç»„ã€‚è¯·æ³¨æ„ï¼Œæ•°ç»„å·²åŸåœ°æ’åºï¼Œå¹¶ä¸”ä¸è¿›è¡Œå¤åˆ¶ã€‚
 */
const months = ['March', 'Jan', 'Feb', 'Dec'];
months.sort() 
console.log(months) // ["Dec", "Feb", "Jan", "March"]
```

> å¦‚æœæ²¡æœ‰æŒ‡æ˜ compareFunction ï¼Œé‚£ä¹ˆå…ƒç´ ä¼šæŒ‰ç…§è½¬æ¢ä¸ºçš„å­—ç¬¦ä¸²çš„è¯¸ä¸ªå­—ç¬¦çš„Unicodeä½ç‚¹è¿›è¡Œæ’åºã€‚ä¾‹å¦‚ "Banana" ä¼šè¢«æ’åˆ—åˆ° "cherry" ä¹‹å‰ã€‚å½“æ•°å­—æŒ‰ç”±å°åˆ°å¤§æ’åºæ—¶ï¼Œ9 å‡ºç°åœ¨ 80 ä¹‹å‰ï¼Œä½†å› ä¸ºï¼ˆæ²¡æœ‰æŒ‡æ˜ compareFunctionï¼‰ï¼Œæ¯”è¾ƒçš„æ•°å­—ä¼šå…ˆè¢«è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œæ‰€ä»¥åœ¨Unicodeé¡ºåºä¸Š "80" è¦æ¯” "9" è¦é å‰ã€‚

æ‰€ä»¥æˆ‘ä»¬æ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜äº†ï¼Œå½“ç„¶è¦ä½¿ç”¨æˆ‘ä»¬çš„æ¯”è¾ƒå‡½æ•°å•¦ï¼Œè€Œä¸”é€šè¿‡æˆ‘ä»¬çš„æ¯”è¾ƒå‡½æ•°ï¼Œå¯ä»¥å®ç°å¾ˆå¤šæˆ‘ä»¬éœ€è¦çš„æ•ˆæœ

```javascript
const arr = ["1",2,"11",3,"21"]
console.log(arr.sort()) // ["1", "11", 2, "21", 3]

// é€šè¿‡æ¯”è¾ƒå‡½æ•°è§£å†³è¯¥é—®é¢˜
console.log(arr.sort((a,b)=>a-b)) // ["1", 2, 3, "11", "21"]


// å†æ¯”å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ¯”è¾ƒå‡½æ•°å®ç°å¯¹æ•°ç»„å¯¹è±¡çš„æ’åº
const people = [{name:'gating',age:18},{name:'family',age:16},{name:'blue',age:21}]
people.sort((a,b)=>a.age - b.age) // [{name:'family',age:16},{name:'gating',age:18},{name:'blue',age:21}]

// å½“ç„¶ï¼Œé€šè¿‡ sort + Math.random å¯ä»¥å¾ˆå·§å¦™çš„å®ç°æ•°ç»„æ´—ç‰Œï¼ˆæ•°ç»„ä¹±åºï¼‰çš„ç®—æ³•ï¼ˆå½“ç„¶ï¼Œè¿™ä¸ªä¹Ÿæ˜¯ä¸æ¨èçš„ï¼Œä¸è¿‡ä»–å¯ä»¥ç”¨åœ¨å°é¡¹ç›®ä¸­ï¼Œå½“ä½œä¸€ä¸ªå°æŠ€å·§ï¼‰
const numbers = [1,2,3]
numbers.sort(()=>Math.random()-0.5) // å¤šå°è¯•å‡ æ¬¡ï¼Œçœ‹çœ‹æ¯æ¬¡å‡ºæ¥çš„ç»“æœæ˜¯ä¸æ˜¯ä¸ä¸€æ ·çš„
```

> å…³äºæ•°ç»„ä¹±åºï¼Œæ­£ç¡®çš„è§£æ³•åº”è¯¥æ˜¯ Fisherâ€“Yates Shuffleï¼Œå¤æ‚åº¦ O(n)ã€‚å…¶å®å®ƒçš„æ€æƒ³éå¸¸çš„ç®€å•ï¼Œéå†æ•°ç»„å…ƒç´ ï¼Œå°†å…¶ä¸ä¹‹å‰çš„ä»»æ„å…ƒç´ äº¤æ¢ã€‚å› ä¸ºéå†æœ‰ä»å‰å‘åå’Œä»åå¾€å‰ä¸¤ç§æ–¹å¼ï¼Œæ‰€ä»¥è¯¥ç®—æ³•å¤§è‡´ä¹Ÿæœ‰ä¸¤ä¸ªç‰ˆæœ¬çš„å®ç°ã€‚

è¿™é‡Œé€ä¸Šä¸¤ä¸ªæ–¹æ³•ï¼Œå…·ä½“çš„è¯·å‚è€ƒæ–‡æœ«çš„æ•°ç»„ä¹±åºæ–‡ç« 

```javascript
// ä»åå¾€å‰çš„ç‰ˆæœ¬
const shuffle = (array) => {
    var _array = array.concat();

    for (var i = _array.length; i--;) {
        var j = Math.floor(Math.random() * (i + 1));
        var temp = _array[i];
        _array[i] = _array[j];
        _array[j] = temp;
    }

    return _array;
}
// ä»å‰å¾€åçš„ç‰ˆæœ¬
const shuffle =  (a) => {
    var length = a.length;
    var shuffled = Array(length);

    for (var index = 0, rand; index < length; index++) {
        rand = ~~(Math.random() * (index + 1));
        if (rand !== index)
            shuffled[index] = shuffled[rand];
        shuffled[rand] = a[index];
    }

    return shuffled;
}
```

## reverse

reverse() æ–¹æ³•å°†æ•°ç»„ä¸­å…ƒç´ çš„ä½ç½®é¢ å€’ã€‚ç¬¬ä¸€ä¸ªæ•°ç»„å…ƒç´ æˆä¸ºæœ€åä¸€ä¸ªæ•°ç»„å…ƒç´ ï¼Œæœ€åä¸€ä¸ªæ•°ç»„å…ƒç´ æˆä¸ºç¬¬ä¸€ä¸ªã€‚æ­¤æ–¹æ³•<b>ä¼šæ›´æ”¹ç°æœ‰æ•°ç»„</b>ã€‚

```javascript
/**
 * Array.reverse(compareFunction)
 * ----------------------------------------------
 * è¿”å›å€¼
 * @param {Array} é¢ å€’åçš„æ•°ç»„
 */
const months = ['March', 'Jan', 'Feb', 'Dec'];
months.reverse() 
console.log(months) // ["Dec", "Feb", "Jan", "March"]
```

## join

join() æ–¹æ³•å°†ä¸€ä¸ªæ•°ç»„ï¼ˆæˆ–ä¸€ä¸ªç±»æ•°ç»„å¯¹è±¡ï¼‰çš„æ‰€æœ‰å…ƒç´ è¿æ¥æˆä¸€ä¸ªå­—ç¬¦ä¸²å¹¶è¿”å›è¿™ä¸ªå­—ç¬¦ä¸²ã€‚æ­¤æ–¹æ³•<b>ä¸ä¼šæ›´æ”¹åŸæ•°ç»„</b>ã€‚

```javascript
/**
 * Array.reverse(separator)
 * @param {String} å¦‚æœéœ€è¦(separator)ï¼Œå°†åˆ†éš”ç¬¦è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚å¦‚æœçœç•¥()ï¼Œæ•°ç»„å…ƒç´ ç”¨é€—å·åˆ†éš”ã€‚é»˜è®¤ä¸º ","ã€‚
 * ----------------------------------------------
 * è¿”å›å€¼
 * @param {String} ä¸€ä¸ªæ‰€æœ‰æ•°ç»„å…ƒç´ è¿æ¥çš„å­—ç¬¦ä¸²ã€‚å¦‚æœ arr.length ä¸º0ï¼Œåˆ™è¿”å›ç©ºå­—ç¬¦ä¸²
 */
const arr = [1,2,3]
console.log(arr.join()) // 1,2,3
console.log(arr.join('-')) // 1-2-3
```


# è¿­ä»£(å¾ªç¯éå†)ç›¸å…³

## every

every() æ–¹æ³•æµ‹è¯•æ•°ç»„çš„æ‰€æœ‰å…ƒç´ æ˜¯å¦éƒ½é€šè¿‡äº†æŒ‡å®šå‡½æ•°çš„æµ‹è¯•ã€‚æ­¤æ–¹æ³•<b>ä¸ä¼šæ›´æ”¹åŸæ•°ç»„</b>ã€‚

```javascript
/**
 * arr.every(callback,thisArg)
 * @param {Function} callback => ç”¨æ¥æµ‹è¯•æ¯ä¸ªå…ƒç´ çš„å‡½æ•°
 * @param {Object} thisArg => å¯é€‰å‚æ•°ï¼Œæ‰§è¡Œå›è°ƒå‡½æ•° mapFn æ—¶ this å¯¹è±¡ã€‚ (å¯é€‰)
 * 
 * callback è¢«è°ƒç”¨æ—¶ä¼šä¼ å…¥ä¸‰ä¸ªå‚æ•°ï¼šå½“å‰å…ƒç´ å€¼ï¼Œå…ƒç´ çš„ç´¢å¼•ï¼ŒåŸæ•°ç»„ã€‚
 * 
 * è¿”å›å€¼
 * @param {Boolean} ä¸ºtrueæ—¶ï¼Œæ‰€æœ‰å…ƒç´ æ˜¯å¦éƒ½é€šè¿‡äº†æŒ‡å®šå‡½æ•°çš„æµ‹è¯•ï¼Œå¦åˆ™å°±æ˜¯æ²¡æœ‰é€šè¿‡
*/
const arr = [1,2,4,2,4,56]
console.log(arr.every(item=>item<10)) // false
```

## some

some() æ–¹æ³•æµ‹è¯•æ•°ç»„ä¸­çš„æŸäº›å…ƒç´ æ˜¯å¦é€šè¿‡ç”±æä¾›çš„å‡½æ•°å®ç°çš„æµ‹è¯•ã€‚æ­¤æ–¹æ³•<b>ä¸ä¼šæ›´æ”¹åŸæ•°ç»„</b>ã€‚

some() å’Œ every() çš„åŒºåˆ«åœ¨äºeveryæ˜¯æ•°ç»„æ‰€æœ‰å…ƒç´ éƒ½éœ€è¦é€šè¿‡æµ‹è¯•æ‰è¿”å›trueï¼Œè€Œsomeåªéœ€è¦æœ‰ä¸€ä¸ªé€šè¿‡æµ‹è¯•å°±è¿”å›true

> å¯¹äºæ”¾åœ¨ç©ºæ•°ç»„ä¸Šçš„ä»»ä½•æ¡ä»¶ï¼Œæ­¤æ–¹æ³•è¿”å›falseã€‚

```javascript
/**
 * arr.some(callback,thisArg)
 * @param {Function} callback => ç”¨æ¥æµ‹è¯•æ¯ä¸ªå…ƒç´ çš„å‡½æ•°
 * @param {Object} thisArg => å¯é€‰å‚æ•°ï¼Œæ‰§è¡Œå›è°ƒå‡½æ•° mapFn æ—¶ this å¯¹è±¡ã€‚ (å¯é€‰)
 * 
 * callback è¢«è°ƒç”¨æ—¶ä¼šä¼ å…¥ä¸‰ä¸ªå‚æ•°ï¼šå½“å‰å…ƒç´ å€¼ï¼Œå…ƒç´ çš„ç´¢å¼•ï¼ŒåŸæ•°ç»„ã€‚
 * 
 * è¿”å›å€¼
 * @param {Boolean} ä¸ºtrueæ—¶ï¼Œæœ‰å…¶ä¸­ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ æ˜¯å¦éƒ½é€šè¿‡äº†æŒ‡å®šå‡½æ•°çš„æµ‹è¯•ï¼Œå¦åˆ™å°±æ˜¯æ²¡æœ‰é€šè¿‡
*/
const arr = [1,2,4,2,4,56]
console.log(arr.some(item=>item<10)) // true
```

å®é™…çš„åº”ç”¨åœºæ™¯ï¼Œå¯ä»¥å®ç°ç±»ä¼¼äº includes çš„åŠŸèƒ½ ï¼ˆè¿™é‡Œæˆ–è®¸ä½ ä¼šé—®ï¼Œä¸ºå•¥å®ç°ç±»ä¼¼ includes çš„åŠŸèƒ½ï¼Œç›´æ¥ç”¨ä¸å°±å¥½äº†å—ï¼Ÿ

å› ä¸º includes çš„å…¼å®¹æ€§å¤ªå·®äº†ï¼ŒIEæ˜¯ä¸å…¼å®¹çš„ï¼Œä½†æ˜¯ some åœ¨IE9ä¸‹å´å¯ä»¥ä½¿ç”¨ï¼Œæ‰€ä»¥ï¼Œä½ æ‡‚çš„

```javascript
var fruits = ['apple', 'banana', 'mango', 'guava'];

function checkAvailability(arr, val) {
  return arr.some(arrVal => val === arrVal);
}

checkAvailability(fruits, 'kela');   // false
checkAvailability(fruits, 'banana'); // true
```


## forEach

forEach() æ–¹æ³•å¯¹æ•°ç»„çš„æ¯ä¸ªå…ƒç´ æ‰§è¡Œä¸€æ¬¡æä¾›çš„å‡½æ•°ã€‚

for å’Œ forEach çš„åŒºåˆ«ï¼ŒforEachä¸­å·²åˆ é™¤æˆ–è€…æœªåˆå§‹åŒ–çš„é¡¹å°†è¢«è·³è¿‡ï¼ˆä¾‹å¦‚åœ¨ç¨€ç–æ•°ç»„ä¸Šï¼‰ï¼Œè€Œ for ä¸ä¼š

> æ³¨æ„ï¼š æ²¡æœ‰åŠæ³•ä¸­æ­¢æˆ–è€…è·³å‡º forEach å¾ªç¯ï¼Œé™¤äº†æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚

```javascript
/**
 * arr.forEach(callback,thisArg)
 * @param {Function} callback => ç”¨æ¥æµ‹è¯•æ¯ä¸ªå…ƒç´ çš„å‡½æ•°
 * @param {Object} thisArg => å¯é€‰å‚æ•°ï¼Œæ‰§è¡Œå›è°ƒå‡½æ•° mapFn æ—¶ this å¯¹è±¡ã€‚ (å¯é€‰)
 * 
 * callback è¢«è°ƒç”¨æ—¶ä¼šä¼ å…¥ä¸‰ä¸ªå‚æ•°ï¼šå½“å‰å…ƒç´ å€¼ï¼Œå…ƒç´ çš„ç´¢å¼•ï¼ŒåŸæ•°ç»„ã€‚
 * 
 * è¿”å›å€¼
 * @param {undefined} undefined
*/
const arr1 = [1,2,3]
arr1.forEach(item=>{
  console.log(item) // 1 2 3
})

// for å’Œ forEach çš„åŒºåˆ«
const arr2 = [1,2,,4]
for (let index = 0; index < arr2.length; index++) {
    console.log(arr2[index]) // 1 2 undefined 4
}

arr2.forEach(item=>{
  console.log(item) // 1 2 4
})
```

å®é™…çš„åº”ç”¨åœºæ™¯ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ forEach å®ç°å¯¹å¯¹è±¡çš„å¤åˆ¶ï¼Œå½“ç„¶ï¼Œè¿™åªæ˜¯å¯¹è±¡å¤åˆ¶çš„å…¶ä¸­ä¸€ç§æ–¹å¼

```javascript
const copy = obj => {
  const copy = Object.create(Object.getPrototypeOf(obj))
  const propNames = Object.getOwnPropertyNames(obj)
  propNames.forEach(function(name) {
    const desc = Object.getOwnPropertyDescriptor(obj, name);
    Object.defineProperty(copy, name, desc);
  })
  return copy;
}

const obj1 = {name:'gating'}
const obj2 = copy(obj1)
console.log(obj2) // {name:'gating'}
```

## map

map() æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼Œå…¶ç»“æœæ˜¯è¯¥æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½è°ƒç”¨ä¸€ä¸ªæä¾›çš„å‡½æ•°åè¿”å›çš„ç»“æœã€‚æ­¤æ–¹æ³•<b>ä¸ä¼šæ›´æ”¹åŸæ•°ç»„</b>ã€‚

```javascript
/**
 * arr.map(callback,thisArg)
 * @param {Function} callback => ç”¨æ¥æµ‹è¯•æ¯ä¸ªå…ƒç´ çš„å‡½æ•°
 * @param {Object} thisArg => å¯é€‰å‚æ•°ï¼Œæ‰§è¡Œå›è°ƒå‡½æ•° mapFn æ—¶ this å¯¹è±¡ã€‚ (å¯é€‰)
 * 
 * callback è¢«è°ƒç”¨æ—¶ä¼šä¼ å…¥ä¸‰ä¸ªå‚æ•°ï¼šå½“å‰å…ƒç´ å€¼ï¼Œå…ƒç´ çš„ç´¢å¼•ï¼ŒåŸæ•°ç»„ã€‚
 * 
 * è¿”å›å€¼
 * @param {Array} ä¸€ä¸ªæ–°æ•°ç»„ï¼Œæ¯ä¸ªå…ƒç´ éƒ½æ˜¯å›è°ƒå‡½æ•°çš„ç»“æœã€‚
*/

const arr = [1,2,3]
console.log(arr.map(item=>item*2)) // [2,4,6]
```

map çš„åº”ç”¨åœºæ™¯å¾ˆå¤šï¼Œæ¯”å¦‚æˆ‘æƒ³ç»™æ•°ç»„å¢åŠ ä¸€ä¸ªidçš„å±æ€§ï¼Œå†æ¯”å¦‚å¯ä»¥é‡æ–°æ ¼å¼åŒ–æˆ‘ä»¬çš„æ•°ç»„

```javascript
const arr = [{name:'gating'},{name:'family'}]
const res = arr.map((item,index)=>{
  item.id = index
  return item
})
console.log(res) // [{name:'gating',id:0},{name:'family',id:1}]
```

### ç”±ä¸€æ¡é¢è¯•é¢˜å¼•å‘çš„æ€è€ƒ

é€šå¸¸æƒ…å†µä¸‹ï¼Œmap æ–¹æ³•ä¸­çš„ callback å‡½æ•°åªéœ€è¦æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œå°±æ˜¯æ­£åœ¨è¢«éå†çš„æ•°ç»„å…ƒç´ æœ¬èº«ã€‚ä½†è¿™å¹¶ä¸æ„å‘³ç€ map åªç»™ callback ä¼ äº†ä¸€ä¸ªå‚æ•°ã€‚

```javascript
// ä¸‹é¢çš„è¯­å¥è¿”å›ä»€ä¹ˆå‘¢:
["1", "2", "3"].map(parseInt);
// ä½ å¯èƒ½è§‰çš„ä¼šæ˜¯[1, 2, 3]
// ä½†å®é™…çš„ç»“æœæ˜¯ [1, NaN, NaN]

// é€šå¸¸ä½¿ç”¨parseIntæ—¶,åªéœ€è¦ä¼ é€’ä¸€ä¸ªå‚æ•°.
// ä½†å®é™…ä¸Š,parseIntå¯ä»¥æœ‰ä¸¤ä¸ªå‚æ•°.ç¬¬äºŒä¸ªå‚æ•°æ˜¯è¿›åˆ¶æ•°.
// å¯ä»¥é€šè¿‡è¯­å¥"alert(parseInt.length)===2"æ¥éªŒè¯.
// mapæ–¹æ³•åœ¨è°ƒç”¨callbackå‡½æ•°æ—¶,ä¼šç»™å®ƒä¼ é€’ä¸‰ä¸ªå‚æ•°:å½“å‰æ­£åœ¨éå†çš„å…ƒç´ , 
// å…ƒç´ ç´¢å¼•, åŸæ•°ç»„æœ¬èº«.
// ç¬¬ä¸‰ä¸ªå‚æ•°parseIntä¼šå¿½è§†, ä½†ç¬¬äºŒä¸ªå‚æ•°ä¸ä¼š,ä¹Ÿå°±æ˜¯è¯´,
// parseIntæŠŠä¼ è¿‡æ¥çš„ç´¢å¼•å€¼å½“æˆè¿›åˆ¶æ•°æ¥ä½¿ç”¨.ä»è€Œè¿”å›äº†NaN.

function returnInt(element) {
  return parseInt(element, 10);
}

['1', '2', '3'].map(returnInt); // [1, 2, 3]
// æ„æ–™ä¹‹ä¸­çš„ç»“æœ

// ä¹Ÿå¯ä»¥ä½¿ç”¨ç®€å•çš„ç®­å¤´å‡½æ•°ï¼Œç»“æœåŒä¸Š
['1', '2', '3'].map( str => parseInt(str) );

// ä¸€ä¸ªæ›´ç®€å•çš„æ–¹å¼:
['1', '2', '3'].map(Number); // [1, 2, 3]
// ä¸`parseInt` ä¸åŒï¼Œä¸‹é¢çš„ç»“æœä¼šè¿”å›æµ®ç‚¹æ•°æˆ–æŒ‡æ•°:
['1.1', '2.2e2', '3e300'].map(Number); // [1.1, 220, 3e+300]
```

## filter

filter() æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„, å…¶åŒ…å«é€šè¿‡æ‰€æä¾›å‡½æ•°å®ç°çš„æµ‹è¯•çš„æ‰€æœ‰å…ƒç´ ã€‚æ­¤æ–¹æ³•<b>ä¸ä¼šæ›´æ”¹åŸæ•°ç»„</b>ã€‚

```javascript
/**
 * arr.filter(callback,thisArg)
 * @param {Function} callback => ç”¨æ¥æµ‹è¯•æ¯ä¸ªå…ƒç´ çš„å‡½æ•°
 * @param {Object} thisArg => å¯é€‰å‚æ•°ï¼Œæ‰§è¡Œå›è°ƒå‡½æ•° mapFn æ—¶ this å¯¹è±¡ã€‚ (å¯é€‰)
 * 
 * callback è¢«è°ƒç”¨æ—¶ä¼šä¼ å…¥ä¸‰ä¸ªå‚æ•°ï¼šå½“å‰å…ƒç´ å€¼ï¼Œå…ƒç´ çš„ç´¢å¼•ï¼ŒåŸæ•°ç»„ã€‚
 * 
 *  è¿”å›å€¼
 * @param {Array} è¿‡æ»¤åçš„æ•°ç»„
*/
const arr = [{sex:'male',name:'gating'},{sex:'female',name:'blue'},{sex:'male',name:'family'}]
// è¿‡æ»¤æ‰æ€§åˆ«ä¸º male çš„äºº
console.log(arr.filter(item=>item.sex==='female'))
```

å®é™…çš„åº”ç”¨åœºæ™¯ï¼Œé€šè¿‡å¯ä»¥ filter è¿‡æ»¤æ‰æˆ‘ä»¬ä¸éœ€è¦çš„å€¼

```javascript
const delListRep = (arr, key) => {
    var keys = []
    for (let i = 0; i < arr.length; i++) {
        keys.push(arr[i][key])
    }
    return arr.filter((ele, i, arr) => keys.indexOf(ele[key]) == i)
}
const arr = [{sex:'male',name:'gating'},{sex:'female',name:'blue'},{sex:'male',name:'gating'}]
console.log(delListRep(arr,'sex')) //  [{sex:'male',name:'gating'},{sex:'female',name:'blue'}]
```

## reduce

reduce() æ–¹æ³•å¯¹æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ æ‰§è¡Œä¸€ä¸ªç”±æ‚¨æä¾›çš„reducerå‡½æ•°(å‡åºæ‰§è¡Œ)ï¼Œå°†å…¶ç»“æœæ±‡æ€»ä¸ºå•ä¸ªè¿”å›å€¼ã€‚<b>ä¸ä¼šæ›´æ”¹åŸæ•°ç»„</b>ã€‚

> å¦‚æœæ²¡æœ‰æä¾›initialValueï¼Œreduce ä¼šä»ç´¢å¼•1çš„åœ°æ–¹å¼€å§‹æ‰§è¡Œ callback æ–¹æ³•ï¼Œè·³è¿‡ç¬¬ä¸€ä¸ªç´¢å¼•ã€‚å¦‚æœæä¾›initialValueï¼Œä»ç´¢å¼•0å¼€å§‹ã€‚

```javascript
/**
 * arr.filter(callback,initialValue)
 * @param {Function} callback => æ‰§è¡Œæ•°ç»„ä¸­æ¯ä¸ªå€¼çš„å‡½æ•°
 * @param {*} initialValue => ä½œä¸ºç¬¬ä¸€æ¬¡è°ƒç”¨ callbackå‡½æ•°æ—¶çš„ç¬¬ä¸€ä¸ªå‚æ•°çš„å€¼ã€‚ å¦‚æœæ²¡æœ‰æä¾›åˆå§‹å€¼ï¼Œåˆ™å°†ä½¿ç”¨æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚ åœ¨æ²¡æœ‰åˆå§‹å€¼çš„ç©ºæ•°ç»„ä¸Šè°ƒç”¨ reduce å°†æŠ¥é”™ã€‚ (å¯é€‰)
 * 
 * callback è¢«è°ƒç”¨æ—¶ä¼šä¼ å…¥ä¸‰ä¸ªå‚æ•°ï¼šaccumulatorï¼ŒcurrentValueï¼ŒcurrentIndexï¼Œarray
 * 
 * accumulator => ç´¯è®¡å™¨ç´¯è®¡å›è°ƒçš„è¿”å›å€¼; å®ƒæ˜¯ä¸Šä¸€æ¬¡è°ƒç”¨å›è°ƒæ—¶è¿”å›çš„ç´¯ç§¯å€¼ï¼Œæˆ–initialValueï¼ˆè§äºä¸‹æ–¹ï¼‰ã€‚
 * currentValue => æ•°ç»„ä¸­æ­£åœ¨å¤„ç†çš„å…ƒç´ ã€‚
 * currentIndex => æ•°ç»„ä¸­æ­£åœ¨å¤„ç†çš„å½“å‰å…ƒç´ çš„ç´¢å¼•ã€‚ å¦‚æœæä¾›äº†initialValueï¼Œåˆ™èµ·å§‹ç´¢å¼•å·ä¸º0ï¼Œå¦åˆ™ä¸º1ã€‚ (å¯é€‰)
 * array => è°ƒç”¨reduce()çš„æ•°ç»„ã€‚ (å¯é€‰)
 * 
 *  è¿”å›å€¼
 * @param {*} å‡½æ•°ç´¯è®¡å¤„ç†çš„ç»“æœ
*/
const arr = [1, 2, 3, 4];
const reducer = arr.reduce((accumulator, currentValue) => accumulator + currentValue)
console.log(reducer) // 10
console.log(arr) // [1, 2, 3, 4]

const res = arr.reduce((accumulator, currentValue) => accumulator + currentValue,5)
console.log(res) // 15

// initialValue æœ‰å€¼ å’Œ æ²¡æœ‰å€¼çš„åŒºåˆ«
// å› ä¸º reduce é‡Œï¼Œå¦‚æœæ²¡æœ‰æä¾›åˆå§‹å€¼ï¼Œé‚£ä¹ˆ accumulator ä¼šé»˜è®¤ä½¿ç”¨æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå› ä¸ºå–äº†æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ äº†ï¼Œé‚£ä¹ˆä¸‹æ ‡å½“ç„¶æ²¡æœ‰å¿…è¦å†ä»0å¼€å§‹äº†
arr.reduce((accumulator, currentValue, index) => {
  console.log(index) // 0 1 2 3
})

arr.reduce((accumulator, currentValue, index) => {
  console.log(index) // 1 2 3
},5)
```

çœ‹åˆ°äº† reduce çš„ç”¨æ³•ï¼Œå®é™…ä¸Šä¹Ÿå¯ä»¥æƒ³åˆ°ï¼Œreduce çš„å‚æ•°è¿™ä¹ˆä¸°å¯Œï¼Œæ˜¯ä¸æ˜¯å¯ä»¥åšå¾ˆå¤šæˆ‘ä»¬æƒ³è¦çš„äº‹ï¼Œæˆ‘æƒ³è¯´ï¼Œæ˜¯çš„ï¼Œåœ¨å®é™…åº”ç”¨ä¸­ï¼Œreduce èƒ½åšåˆ°çš„äº‹ï¼Œæ¯”æˆ‘ä»¬æƒ³è±¡ä¸­çš„è¿˜è¦å¤š

æ¯”å¦‚ï¼Œæ•°ç»„æ‰å¹³åŒ–ã€æ•°ç»„å»é‡ã€ç»Ÿè®¡æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°ã€æ ¹æ®å±æ€§å¯¹Objectåˆ†ç±»ç­‰ç­‰ç­‰ç­‰è¿™ç§å¾ˆcoolçš„äº‹ï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±ä¸€ä¸€ç”¨ reduce å®ç°å§

> reduce å¾ˆé‡è¦ï¼Œè¯·åŠ¡å¿…æŒæ¡è¿™ä¸ªæ–¹æ³• psï¼šå­—ç¬¦ä¸²çš„ replace ä¹Ÿå¾ˆé‡è¦å“¦ï¼ï¼ï¼ä¹Ÿè¦æŒæ¡

```javascript
/**
 * æ ¹æ®æ‰€æä¾›çš„å­—ç¬¦åˆ†ç»„
 * @param {Array} arr => æ•°ç»„
 * @param {String} key => éœ€è¦åˆ†ç»„çš„å­—æ®µ 
 */
function groupBy(arr, key) {
    return arr.reduce(function (newObj, obj) {
        if (!newObj[obj[key]]) {
            newObj[obj[key]] = [];
            newObj[obj[key]].push(obj);
        } else {
            newObj[obj[key]].push(obj);
        }
        return newObj;
    }, {});
}

const people = [
  { name: 'gating', age: 18 },
  { name: 'family', age: 16 },
  { name: 'blue', age: 20 }
];
const groupedPeople = groupBy(people, 'age') // {16: Array(1), 18: Array(1), 20: Array(1)}


// ç»Ÿè®¡æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•° ObjectåŒç†
// è¿™é‡Œç”¨ Map æ˜¯ä¸ºäº†é¿å… æ•°å­—1 å’Œ å­—ç¬¦ä¸²1 åŒåé”®å€¼å¯¼è‡´çš„bug
const names = ['gating', 'family', 'gating', 'blue', 'family']
const countNum1 = (arr) => arr.reduce((m, x)=> m.set(x, (m.get(x) || 0) + 1), new Map())
const allName = countNum1(names) // {"gating" => 2, "family" => 2, "blue" => 1}


// æ•°ç»„å»é‡
let arr = [1,2,1,2,3,5,4,5,3,4,4,4,4];
let result = arr.sort().reduce((init, current)=>{
    if(init.length===0 || init[init.length-1]!==current){
        init.push(current);
    }
    return init;
}, []);
console.log(result); //[1,2,3,4,5]
```

å…¶å® reduce è¿˜å¯ä»¥åšå¾ˆå¤šæ›´ç‰›é€¼çš„äº‹ï¼Œçœ‹åˆ°è¿™é‡Œï¼Œä½ æ˜¯ä¸æ˜¯ä¹Ÿæƒ³ç”¨ reduce åšæ›´å¤šå¼ºå¤§çš„äº‹å‘¢ï¼Ÿé‚£å°±èµ¶ç´§æŠŠ reduce å­¦ä¼š


## reduceRight

reduceRight() æ–¹æ³•æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºç´¯åŠ å™¨ï¼ˆaccumulatorï¼‰å’Œæ•°ç»„çš„æ¯ä¸ªå€¼ï¼ˆä»å³åˆ°å·¦ï¼‰å°†å…¶å‡å°‘ä¸ºå•ä¸ªå€¼ã€‚<b>ä¸ä¼šæ›´æ”¹åŸæ•°ç»„</b>ã€‚

```javascript
/**
 * arr.filter(callback,initialValue)
 * @param {Function} callback => æ‰§è¡Œæ•°ç»„ä¸­æ¯ä¸ªå€¼çš„å‡½æ•°
 * @param {*} initialValue => ä½œä¸ºç¬¬ä¸€æ¬¡è°ƒç”¨ callbackå‡½æ•°æ—¶çš„ç¬¬ä¸€ä¸ªå‚æ•°çš„å€¼ã€‚ å¦‚æœæ²¡æœ‰æä¾›åˆå§‹å€¼ï¼Œåˆ™å°†ä½¿ç”¨æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚ åœ¨æ²¡æœ‰åˆå§‹å€¼çš„ç©ºæ•°ç»„ä¸Šè°ƒç”¨ reduce å°†æŠ¥é”™ã€‚ (å¯é€‰)
 * 
 * callback è¢«è°ƒç”¨æ—¶ä¼šä¼ å…¥ä¸‰ä¸ªå‚æ•°ï¼šaccumulatorï¼ŒcurrentValueï¼ŒcurrentIndexï¼Œarray
 * 
 * accumulator => ç´¯è®¡å™¨ç´¯è®¡å›è°ƒçš„è¿”å›å€¼; å®ƒæ˜¯ä¸Šä¸€æ¬¡è°ƒç”¨å›è°ƒæ—¶è¿”å›çš„ç´¯ç§¯å€¼ï¼Œæˆ–initialValueï¼ˆè§äºä¸‹æ–¹ï¼‰ã€‚
 * currentValue => æ•°ç»„ä¸­æ­£åœ¨å¤„ç†çš„å…ƒç´ ã€‚
 * currentIndex => æ•°ç»„ä¸­æ­£åœ¨å¤„ç†çš„å½“å‰å…ƒç´ çš„ç´¢å¼•ã€‚ å¦‚æœæä¾›äº†initialValueï¼Œåˆ™èµ·å§‹ç´¢å¼•å·ä¸º0ï¼Œå¦åˆ™ä¸º1ã€‚ (å¯é€‰)
 * array => è°ƒç”¨reduce()çš„æ•°ç»„ã€‚ (å¯é€‰)
 * 
 *  è¿”å›å€¼
 * @param {*} å‡½æ•°ç´¯è®¡å¤„ç†çš„ç»“æœ
*/

const arr = [[0, 1], [2, 3], [4, 5]].reduceRight(
  (accumulator, currentValue) => accumulator.concat(currentValue)
)
console.log(arr) // [4, 5, 2, 3, 0, 1]
```

reduce ä¸ reduceRight ä¹‹é—´çš„åŒºåˆ«

```javascript
const arr = ['1', '2', '3', '4', '5']; 
const left  = arr.reduce((prev, cur)=>prev + cur); 
const right = arr.reduce((prev, cur)=>prev + cur); 
console.log(left);  // "12345"
console.log(right); // "54321"
```

ç”±äº reduceRight å’Œ reduce åŒºåˆ«ä¸æ˜¯å¾ˆå¤§ï¼Œè¿™é‡Œçš„ä¾‹å­å°±å‚è€ƒ reduce å°±è¡Œäº†


# è¿­ä»£ç›¸å…³(ç”Ÿæˆä¸€ä¸ªè¿­ä»£å™¨)

æš‚æ—¶æ²¡æœ‰å¤ªå¤šçš„åº”ç”¨åœºæ™¯ï¼Œä¸è¯¦ç»†è®²è§£

## entries

entries() æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°çš„Array Iteratorå¯¹è±¡ï¼Œè¯¥å¯¹è±¡åŒ…å«æ•°ç»„ä¸­æ¯ä¸ªç´¢å¼•çš„é”®/å€¼å¯¹ã€‚

```javascript
/**
 * arr.entries()
 * è¿”å›å€¼
 * @param {Iterator} ä¸€ä¸ªæ–°çš„ Array è¿­ä»£å™¨å¯¹è±¡
*/
const arr1 = [1,2,3]
const iterator1 = arr1.entries();

// è¿­ä»£å™¨é€šç”¨çš„ä¸¤ç§è¿­ä»£æ–¹å¼ï¼ˆentriesã€keysã€valueåŒæ ·ï¼‰
// 1. for of å¾ªç¯
for (let number of iterator1) {
    console.log(number) // [0, 1] ï¼Œ [1, 2] ï¼Œ [2, 3] è¾“å‡ºä¸‰æ¬¡
}

const arr2 = [1,2,3]
const iterator2 = arr2.entries();
console.log(iterator2.next().value); // [0, 1]
console.log(iterator2.next().value); // [1, 2]
console.log(iterator2.next().value); // [2, 3]
console.log(iterator2.next().value); // undefinedï¼Œå¹¶ä¸” iterator2.next().done å˜æˆtrue
```

## keys

keys() æ–¹æ³•è¿”å›ä¸€ä¸ªåŒ…å«æ•°ç»„ä¸­æ¯ä¸ªç´¢å¼•é”®çš„Array Iteratorå¯¹è±¡ã€‚

```javascript
/**
 * arr.keys()
 * è¿”å›å€¼
 * @param {Iterator} ä¸€ä¸ªæ–°çš„ Array è¿­ä»£å™¨å¯¹è±¡
*/
const arr = ['a','b','c']
const iterator = arr.keys();
  
for (let key of iterator) {
  console.log(key); //  0 1 2
}
```

## values

values() æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°çš„ Array Iterator å¯¹è±¡ï¼Œè¯¥å¯¹è±¡åŒ…å«æ•°ç»„æ¯ä¸ªç´¢å¼•çš„å€¼

```javascript
/**
 * arr.values()
 * è¿”å›å€¼
 * @param {Iterator} ä¸€ä¸ªæ–°çš„ Array è¿­ä»£å™¨å¯¹è±¡
*/
const arr = ['a','b','c']
const iterator = arr.values()
for (let value of iterator) {
  console.log(key) // 'a' 'b' 'c'
}
```


# ä¸çŸ¥åçš„ä¸¤ä¸ªæ–¹æ³•

## toString

toString() è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºæŒ‡å®šçš„æ•°ç»„åŠå…¶å…ƒç´ 

```javascript
/**
 * arr.toString()
 * è¿”å›å€¼
 * @param {String} ä¸€ä¸ªè¡¨ç¤ºæŒ‡å®šçš„æ•°ç»„åŠå…¶å…ƒç´ çš„å­—ç¬¦ä¸²ã€‚
*/
const arr = ['a','b','c']
console.log(arr.toString()) // 'a','b','c'
```

## toLocaleString

toLocaleString() è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²è¡¨ç¤ºæ•°ç»„ä¸­çš„å…ƒç´ ã€‚æ•°ç»„ä¸­çš„å…ƒç´ å°†ä½¿ç”¨å„è‡ªçš„ toLocaleString æ–¹æ³•è½¬æˆå­—ç¬¦ä¸²ï¼Œè¿™äº›å­—ç¬¦ä¸²å°†ä½¿ç”¨ä¸€ä¸ªç‰¹å®šè¯­è¨€ç¯å¢ƒçš„å­—ç¬¦ä¸²ï¼ˆä¾‹å¦‚ä¸€ä¸ªé€—å· ","ï¼‰éš”å¼€ã€‚

```javascript
/**
 * arr.toLocaleString(locales,options)
 * @param {String?}  locales => å¸¦æœ‰BCP 47è¯­è¨€æ ‡è®°çš„å­—ç¬¦ä¸²æˆ–å­—ç¬¦ä¸²æ•°ç»„ï¼Œå…³äºlocaleså‚æ•°çš„å½¢å¼ä¸è§£é‡Šï¼Œè¯·çœ‹Intlé¡µé¢ã€‚(å¯é€‰)
 * @param {Object}  options => ä¸€ä¸ªå¯é…ç½®å±æ€§çš„å¯¹è±¡ï¼Œå¯¹äºæ•°å­— Number.prototype.toLocaleString()ï¼Œå¯¹äºæ—¥æœŸDate.prototype.toLocaleString() (å¯é€‰)
 * è¿”å›å€¼
 * @param {String} è¡¨ç¤ºæ•°ç»„å…ƒç´ çš„å­—ç¬¦ä¸²
*/
var array1 = [1, 'a', new Date('21 Dec 1997 14:12:00 UTC')]
var localeString = array1.toLocaleString('en', {timeZone: "UTC"})

console.log(localeString) // 1,a,12/21/1997, 2:12:00 PM


var prices = ['ï¿¥7', 500, 8123, 12] 
prices.toLocaleString('ja-JP', { style: 'currency', currency: 'JPY' }) // "ï¿¥7,ï¿¥500,ï¿¥8,123,ï¿¥12"
```

è¿™ä¸ªæ–¹æ³•æˆ‘ç”¨çš„çœŸä¸å¤šï¼Œæ‰€ä»¥è¿™é‡Œè¿˜æ˜¯ç›´æ¥æ”¾ä¸Š[MDNçš„åœ°å€](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/toLocaleString)ä¾›å¤§å®¶äº†è§£ï¼Œæˆ–è®¸ä»¥åå°±ç”¨åˆ°äº†å‘¢ï¼Ÿ

# æ‰å¹³åŒ–æ•°ç»„

æœ¬æ¥è¿™ä¸ªæˆ‘å†™è¿™ç¯‡åšå®¢çš„æ—¶å€™ï¼Œçœ‹åˆ°`MDN`å†™ç€`é€™æ˜¯ä¸€å€‹å¯¦é©—ä¸­çš„åŠŸèƒ½`,æ‰€ä»¥æˆ‘å°±æ²¡æœ‰è®°å½•ä¸‹æ¥ï¼Œä¸è¿‡æœ€è¿‘å†çœ‹ä¸€çœ¼ï¼Œå‘ç°é‚£ä¸ª`waring`å·²ç»å»æ‰äº†ï¼Œæ‰€ä»¥å°±å†™ä¸€ä¸‹è¿™ä¸¤ä¸ªæ–¹æ³•

## flat

flat() æ–¹æ³•è¿”å›ä¸€ä¸ªåŒ…å«å°†æ•°ç»„ä¸å­æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ çš„æ–°æ•°ç»„ã€‚**ä¸ä¼šæ›´æ”¹åŸæ•°ç»„**ã€‚

```javascript
/**
 * arr.flat([depth])
 * @param {depth}  depth => æŒ‡å®šè¦æå–åµŒå¥—æ•°ç»„çš„ç»“æ„æ·±åº¦ï¼Œé»˜è®¤å€¼ä¸º 1ã€‚è¿”å›å€¼(å¯é€‰)
 * è¿”å›å€¼
 * @param {Array} ä¸€ä¸ªåŒ…å«å°†æ•°ç»„ä¸å­æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ çš„æ–°æ•°ç»„ã€‚
*/
var arr1 = [1,[2],3]
console.log(arr1.flat()) // [1,2,3]

var arr2 = [1,[2,[3]]]
console.log(arr2.flat()) // [1,2,[3]]
console.log(arr2.flat(2)) // [1,2,3]

// ä½¿ç”¨ Infinityï¼Œå¯å±•å¼€ä»»æ„æ·±åº¦çš„åµŒå¥—æ•°ç»„
var arr3 = [1, 2, [3, 4, [5, 6, [7, 8, [9, 10]]]]]
console.log(arr3.flat(Infinity)) // [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]

// æ­¤å¤–ï¼Œflatè¿˜ä¼šæ‰å¹³åŒ–æ•°ç»„ç©ºé¡¹
var arr4 = [1, 2, , 4, 5]
console.log(arr3.flat()) // [1, 2, 4, 5]
```

çœ‹åˆ°è¿™é‡Œï¼Œä½ ä¹Ÿè®¸ä¼šå‘ç°ï¼Œè¿™ä¸ªä¸å°±æ˜¯æˆ‘ä»¬ä¸Šè¾¹é€šè¿‡`reduce`å®ç°çš„æ‰å¹³åŒ–æ–¹æ³•å—ï¼Ÿæ²¡é”™ï¼Œes6ä¹‹åé»˜è®¤ç»™æˆ‘ä»¬è‡ªå¸¦äº†è¿™ä¸ªæ–¹æ³•ï¼ˆğŸ‘ï¼‰


## flatMap 

é¡¾åæ€ä¹‰å•¦ï¼Œä»åå­—æˆ‘ä»¬å°±å¯ä»¥çŸ¥é“ï¼Œè¿™ä¸ªæ–¹æ³•å°±æ˜¯å³æ‰§è¡Œ `map` åˆæ‰§è¡Œ `flat`,å¯¹æ­¤å®˜æ–¹çš„è¯´æ³•æ˜¯ï¼Œé¦–å…ˆä½¿ç”¨æ˜ å°„å‡½æ•°æ˜ å°„æ¯ä¸ªå…ƒç´ ï¼Œç„¶åå°†ç»“æœå‹ç¼©æˆä¸€ä¸ªæ–°æ•°ç»„ã€‚å®ƒä¸ `map` è¿ç€æ·±åº¦å€¼ä¸º1çš„ `flat` å‡ ä¹ç›¸åŒï¼Œä½† flatMap é€šå¸¸åœ¨åˆå¹¶æˆä¸€ç§æ–¹æ³•çš„æ•ˆç‡ç¨å¾®é«˜ä¸€äº›ã€‚

```javascript
/**
 * arr.flatMap(callback,thisArg)
 * @param {Function} callback => ç”¨æ¥æµ‹è¯•æ¯ä¸ªå…ƒç´ çš„å‡½æ•°
 * @param {Object} thisArg => å¯é€‰å‚æ•°ï¼Œæ‰§è¡Œå›è°ƒå‡½æ•° mapFn æ—¶ this å¯¹è±¡ã€‚ (å¯é€‰)
 * 
 * callback è¢«è°ƒç”¨æ—¶ä¼šä¼ å…¥ä¸‰ä¸ªå‚æ•°ï¼šå½“å‰å…ƒç´ å€¼ï¼Œå…ƒç´ çš„ç´¢å¼•ï¼ŒåŸæ•°ç»„ã€‚
 * 
 * è¿”å›å€¼
 * @param {Array} ä¸€ä¸ªæ–°æ•°ç»„ï¼Œæ¯ä¸ªå…ƒç´ éƒ½æ˜¯å›è°ƒå‡½æ•°çš„ç»“æœ,å¹¶ä¸”ç»“æ„æ·±åº¦ depth å€¼ä¸º1ã€‚
*/
var arr = [1,2,3]
console.log(arr.flatMap(x=>[x*2])) // [2,4,6]

// å…¶å®å°±æ˜¯ç›¸å½“äºï¼Œå…ˆæ‰§è¡Œ map åœ¨æ‰§è¡Œ flat
console.log(arr.map(x=>[x*2]).flat())


// ä½†å…¶å®è¿˜æœ‰æ›´æœ‰æ„æ€çš„,ä¼—æ‰€å‘¨çŸ¥æˆ‘ä»¬éƒ½çŸ¥é“ map ä¼šè¿”å›è¾“å…¥æ•°ç»„ä¸€æ ·é•¿åº¦çš„æ•°ç»„
// è€Œ flatMap ä¸æ˜¯ï¼Œå› ä¸ºä»–æ‹¥æœ‰äº† flat
// å‡è®¾æˆ‘ä»¬æœ‰ä¸ªåœºæ™¯ï¼Œæˆ‘æƒ³é€šè¿‡ flatMap è¿‡æ»¤æ‰å¹´é¾„å¤§äº50å²çš„äºº
var people = [{name:"gating",age:18},{name:"family",age:20},{name:"blue",age:60}]
console.log(people.flatMap(i=>i.age>=60?[]:[i])) // [{name:"gating",age:18},{name:"family",age:20}]
```

é€šè¿‡è¿‡æ»¤é‚£ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬å°±å¯ä»¥çœ‹å‡º, è¾“å‡ºçš„åˆ—è¡¨é•¿åº¦å¯ä»¥ä¸åŒäºè¾“å…¥çš„åˆ—è¡¨é•¿åº¦ã€‚è¿™ä¹Ÿè®¸ä¹Ÿæ˜¯ `flatMap` å¯ç©ä¹‹å¤„ï¼ˆğŸ¤¤ï¼‰

# æ–‡ä¸­æŸäº›çŸ¥è¯†ç‚¹å‚è€ƒé“¾æ¥

[é‡å®šä¹‰æ•°ç»„å¯¹è±¡çš„ length å±æ€§](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty#Redefining_the_length_property_of_an_Array_object)

[MDNåœ°å€,æ–‡ä¸­å¾ˆå¤šä¾‹å­éƒ½é‡‡ç”¨äºMDNï¼Œæ¨è](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array)

[æ•°ç»„ç±»å‹åˆ¤æ–­ï¼Œç‰ä¼¯å¤§ä½¬åšå®¢ï¼Œæ¨è](https://github.com/lifesinger/blog/issues/175)

[JavaScript æ•°ç»„ä¹±åº](https://github.com/hanzichi/underscore-analysis/issues/15)

[æ•°ç»„çš„å®Œå…¨éšæœºæ’åˆ—](https://www.h5jun.com/post/array-shuffle.html)

> é‰´äº reduce å’Œ reduceRight å¤ªè¿‡å¥½ç”¨ï¼ˆå¤ªè¿‡ç‰›é€¼ï¼‰ï¼Œè¿™é‡Œæä¾›ä»–ä»¬ä¸¤ä¸ªçš„MDNåœ°å€

[reduce](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce)

[reduceRight](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/ReduceRight)

# æ€»ç»“

é’ˆå¯¹äºæˆ‘ä»¬ä¸€å¼€å§‹å…³å¿ƒçš„ä¸¤ä¸ªé—®é¢˜ï¼Œæˆ‘åœ¨è¿™é‡Œåšä¸€ä¸ªå°å°çš„æ€»ç»“

> ps: å¯¹äºæµ‹è¯•æ€§çš„æ–¹æ³•ï¼Œè¿™é‡Œå°±ä¸åšå±•å¼€äº†ï¼Œå› ä¸ºç”¨ä¸ä¸Š= =

|     æ–¹æ³•å     |                            è¿”å›å€¼                            | æ˜¯å¦ä¿®æ”¹åŸæ•°ç»„ |
| :------------: | :----------------------------------------------------------: | :------------: |
|     concat     |                  è¿”å›åˆå¹¶åçš„ `Array` å®ä¾‹                   |       å¦       |
|   copyWithin   |                         æ”¹å˜äº†çš„æ•°ç»„                         |       æ˜¯       |
|    entries     |          ä¸€ä¸ªæ–°çš„ `Array` è¿­ä»£å™¨å¯¹è±¡( [key,value])           |       å¦       |
|     every      |        å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ æ˜¯å¦é€šè¿‡ every æµ‹è¯•         |       å¦       |
|      fill      |                         ä¿®æ”¹åçš„æ•°ç»„                         |       æ˜¯       |
|     filter     | ä¸€ä¸ªæ–°çš„é€šè¿‡æµ‹è¯•çš„å…ƒç´ çš„é›†åˆçš„æ•°ç»„ï¼Œå¦‚æœæ²¡æœ‰é€šè¿‡æµ‹è¯•åˆ™è¿”å›ç©ºæ•°ç»„ |       å¦       |
|      find      | å½“æŸä¸ªå…ƒç´ é€šè¿‡ `callback` çš„æµ‹è¯•æ—¶ï¼Œè¿”å›æ•°ç»„ä¸­çš„ä¸€ä¸ªå€¼ï¼Œå¦åˆ™è¿”å› `undefined`ã€‚ |       å¦       |
|   findIndex    | è¿”å›æ•°ç»„ä¸­æ»¡è¶³æä¾›çš„æµ‹è¯•å‡½æ•°çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•ã€‚å¦åˆ™è¿”å›-1ã€‚ |       å¦       |
|    forEach     |                         `undefined`                          |       å¦       |
|    includes    |          å¸ƒå°”å€¼ï¼Œ åˆ¤æ–­ä¸€ä¸ªæ•°ç»„æ˜¯å¦åŒ…å«ä¸€ä¸ªæŒ‡å®šçš„å€¼           |       å¦       |
|    indexOf     |   é¦–ä¸ªè¢«æ‰¾åˆ°çš„å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ç´¢å¼•ä½ç½®; è‹¥æ²¡æœ‰æ‰¾åˆ°åˆ™è¿”å› -1    |       å¦       |
|      join      | ä¸€ä¸ªæ‰€æœ‰æ•°ç»„å…ƒç´ è¿æ¥çš„å­—ç¬¦ä¸²ã€‚å¦‚æœ `arr.length` ä¸º0ï¼Œåˆ™è¿”å›ç©ºå­—ç¬¦ä¸² |       å¦       |
|      keys      |             ä¸€ä¸ªæ–°çš„ `Array` è¿­ä»£å™¨å¯¹è±¡( [key])              |       å¦       |
|  lastIndexOf   |           æ•°ç»„ä¸­æœ€åä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•ï¼Œå¦‚æœªæ‰¾åˆ°è¿”å›-1           |       å¦       |
|      map       |            ä¸€ä¸ªæ–°æ•°ç»„ï¼Œæ¯ä¸ªå…ƒç´ éƒ½æ˜¯å›è°ƒå‡½æ•°çš„ç»“æœ            |       å¦       |
|      pop       |       ä»æ•°ç»„ä¸­åˆ é™¤çš„å…ƒç´ (å½“æ•°ç»„ä¸ºç©ºæ—¶è¿”å›`undefined`)        |       æ˜¯       |
|      push      |        å½“è°ƒç”¨è¯¥æ–¹æ³•æ—¶ï¼Œæ–°çš„ `length` å±æ€§å€¼å°†è¢«è¿”å›ã€‚        |       æ˜¯       |
|     reduce     |                      å‡½æ•°ç´¯è®¡å¤„ç†çš„ç»“æœ                      |       å¦       |
|  reduceRight   |                       æ‰§è¡Œä¹‹åçš„è¿”å›å€¼                       |       å¦       |
|    reverse     |                     è¿”å›é¢ å€’åçš„ `Array`                     |       æ˜¯       |
|     shift      |                      è¿”å›è¢«åˆ é™¤å…ƒç´ çš„å€¼                      |       æ˜¯       |
|     slice      |                   ä¸€ä¸ªå«æœ‰æå–å…ƒç´ çš„æ–°æ•°ç»„                   |       å¦       |
|      some      |     å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ•°ç»„ä¸­è‡³å°‘æœ‰ä¸€ä¸ªå…ƒç´ æ˜¯å¦é€šè¿‡ every æµ‹è¯•      |       å¦       |
|      sort      |                         æ’åºåçš„æ•°ç»„                         |       æ˜¯       |
|     splice     | ç”±è¢«åˆ é™¤çš„å…ƒç´ ç»„æˆçš„ä¸€ä¸ªæ•°ç»„ã€‚å¦‚æœåªåˆ é™¤äº†ä¸€ä¸ªå…ƒç´ ï¼Œåˆ™è¿”å›åªåŒ…å«ä¸€ä¸ªå…ƒç´ çš„æ•°ç»„ã€‚å¦‚æœæ²¡æœ‰åˆ é™¤å…ƒç´ ï¼Œåˆ™è¿”å›ç©ºæ•°ç»„ |       æ˜¯       |
| toLocaleString |                     è¡¨ç¤ºæ•°ç»„å…ƒç´ çš„å­—ç¬¦ä¸²                     |       å¦       |
|    toString    |               ä¸ªè¡¨ç¤ºæŒ‡å®šçš„æ•°ç»„åŠå…¶å…ƒç´ çš„å­—ç¬¦ä¸²               |       å¦       |
|    unshift     |                   è¿”å›å…¶ `length`å±æ€§å€¼                    |       æ˜¯       |
|     values     |            ä¸€ä¸ªæ–°çš„ `Array` è¿­ä»£å™¨å¯¹è±¡( [value])             |       å¦       |
|     flat     |            ä¸€ä¸ªåŒ…å«å°†æ•°ç»„ä¸å­æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ çš„æ–°æ•°ç»„             |       å¦       |
|     flatMap     |            ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ éƒ½æ˜¯å›è°ƒå‡½æ•°çš„ç»“æœï¼Œå¹¶ä¸”ç»“æ„æ·±åº¦ depth å€¼ä¸º1             |       å¦       |

æœ€åï¼Œæ„Ÿè°¢å„ä½è§‚ä¼—è€çˆ·è§‚çœ‹å•¦O(âˆ©_âˆ©)O