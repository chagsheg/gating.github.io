---
layout: post
title: å­—ç¬¦ä¸²çš„æ–¹æ³•çš„æ€»ç»“å’Œä½¿ç”¨
tags: javascript
category: è®°å½•
description: å‰äº›å¤©å†™äº†ç¯‡æ•°ç»„çš„æ€»ç»“ï¼Œå…¶å®æˆ‘ä»¬å†æ¥çœ‹çœ‹å­—ç¬¦ä¸²ï¼Œå’Œæ•°ç»„æœ‰å¼‚æ›²åŒå·¥ä¹‹å¦™ï¼Œå­—ç¬¦ä¸²ä¹Ÿå¯ä»¥é€šè¿‡splitæ¥å˜æˆæ•°ç»„ï¼Œç„¶åä½¿ç”¨æ•°ç»„çš„æ–¹æ³•ã€‚
date: 2019/01/09
---


# å‰è¨€

å‰äº›å¤©å†™äº†ç¯‡æ•°ç»„çš„æ€»ç»“ï¼Œå…¶å®æˆ‘ä»¬å†æ¥çœ‹çœ‹å­—ç¬¦ä¸²ï¼Œå’Œæ•°ç»„æœ‰å¼‚æ›²åŒå·¥ä¹‹å¦™ï¼Œå­—ç¬¦ä¸²ä¹Ÿå¯ä»¥é€šè¿‡ `split` æ¥å˜æˆæ•°ç»„ï¼Œç„¶åä½¿ç”¨æ•°ç»„çš„æ–¹æ³•ã€‚

å¦å¤–ï¼Œå¯¹äºå­—ç¬¦ä¸²ï¼Œå…¶å®æˆ‘ä»¬å…³å¿ƒçš„åªæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œ**è¿”å›å€¼æ˜¯ä»€ä¹ˆ**ã€‚

æ¥ä¸‹æ¥ï¼Œæˆ‘ä¼šå¸¦å¤§å®¶ä¸€æ­¥æ­¥çš„ä½¿ç”¨ `String` é‡Œé¢æ‰€æ‹¥æœ‰çš„æ–¹æ³•å’Œå±æ€§

# å­—ç¬¦ä¸²çš„å±æ€§

## length

lengthå±æ€§è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ä¸²çš„é•¿åº¦ã€‚è¯¥å±æ€§è¿”å›å­—ç¬¦ä¸²ä¸­å­—ç¬¦ç¼–ç å•å…ƒçš„æ•°é‡ã€‚JavaScript ä½¿ç”¨ UTF-16 ç¼–ç ï¼Œè¯¥ç¼–ç ä½¿ç”¨ä¸€ä¸ª 16 æ¯”ç‰¹çš„ç¼–ç å•å…ƒæ¥è¡¨ç¤ºå¤§éƒ¨åˆ†å¸¸è§çš„å­—ç¬¦ï¼Œä½¿ç”¨ä¸¤ä¸ªä»£ç å•å…ƒè¡¨ç¤ºä¸å¸¸ç”¨çš„å­—ç¬¦ã€‚å› æ­¤ length è¿”å›å€¼å¯èƒ½ä¸å­—ç¬¦ä¸²ä¸­å®é™…çš„å­—ç¬¦æ•°é‡ä¸ç›¸åŒã€‚

**ç©ºå­—ç¬¦ä¸²çš„ length ä¸º 0ã€‚**

**é™æ€å±æ€§ String.length è¿”å› 1ã€‚**

```javascript
let str = "gating"
console.log(str.length) // 6

let empty = ""
console.log(empty.length) // 0  


// JavaScript å†…éƒ¨ï¼Œå­—ç¬¦ä»¥ UTF-16 çš„æ ¼å¼å‚¨å­˜ï¼Œæ¯ä¸ªå­—ç¬¦å›ºå®šä¸º2ä¸ªå­—èŠ‚ã€‚
// å¯¹äºé‚£äº›éœ€è¦4ä¸ªå­—èŠ‚å‚¨å­˜çš„å­—ç¬¦ï¼ˆUnicode ç ç‚¹å¤§äº0xFFFFçš„å­—ç¬¦ï¼‰ï¼ŒJavaScript ä¼šè®¤ä¸ºå®ƒä»¬æ˜¯ä¸¤ä¸ªå­—ç¬¦ã€‚
let double = "ğªš¥"
console.log(double.length) // 2

// ä»æ•°ç»„çš„lengthæˆ‘ä»¬å¯å¾—çŸ¥ï¼Œæ•°ç»„çš„ length æ¥æˆªæ–­æ•°ç»„ï¼Œå­—ç¬¦ä¸²çš„å¯ä¸å¯ä»¥å‘¢ï¼Ÿ
// å¾ˆé—æ†¾çš„è¯´ï¼Œä¸è¡Œï¼Œå› ä¸ºå­—ç¬¦ä¸²çš„lengthåªå¯è¯»ï¼Œä¸å¯å†™
let name = "gating"
name.length = 1
console.log(name,name.length) // gating,6
```

# å­—ç¬¦ä¸²çš„é™æ€æ–¹æ³•

## å­—ç¬¦çš„ Unicode è¡¨ç¤ºæ³•

è¯´åˆ°å­—ç¬¦ä¸²ï¼Œä¸å¾—ä¸è¯´ JavaScript ä¸­çš„å­—ç¬¦ä¸²çš„ `Unicode` è¡¨ç¤ºå½¢å¼ï¼ŒJavaScript å…è®¸é‡‡ç”¨`\uxxxx`å½¢å¼è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ï¼Œå…¶ä¸­`xxxx`è¡¨ç¤ºå­—ç¬¦çš„`Unicode`ç ç‚¹ã€‚

ä½†æ˜¯ï¼Œè¿™ç§è¡¨ç¤ºæ³•åªé™äºç ç‚¹åœ¨\u0000~\uFFFFä¹‹é—´çš„å­—ç¬¦ã€‚è¶…å‡ºè¿™ä¸ªèŒƒå›´çš„å­—ç¬¦ï¼Œå¿…é¡»ç”¨ä¸¤ä¸ªåŒå­—èŠ‚çš„å½¢å¼è¡¨ç¤ºã€‚

```javascript
// æ¯”å¦‚
console.log("\u0061") // a
console.log("\uD842\uDFB7") // ğ ®·
console.log("\u20BB7") // "â‚»7"

// ä½†æ˜¯ es6 å¯¹è¿™ä¸€ç‚¹åšå‡ºäº†æ”¹è¿›ï¼Œåªè¦å°†ç ç‚¹æ”¾å…¥å¤§æ‹¬å·ï¼Œå°±èƒ½æ­£ç¡®è§£è¯»è¯¥å­—ç¬¦ã€‚
console.log("\u{20BB7}")
```

> å‚è€ƒé“¾æ¥ [ECMAScript 6 å…¥é—¨](http://es6.ruanyifeng.com/#docs/string) å»ºè®®å»äº†è§£ä¸€ä¸‹ï¼Œè¿™é‡Œæˆ‘å°±ä¸åšè¿‡å¤šè§£é‡Šäº†ï¼Œå› ä¸ºæˆ‘ç”¨çš„çœŸçš„ä¸å¤šï¼ˆä¸»è¦ä¹Ÿæ˜¯ä¸ä¼šï¼‰

## String.fromCharCode()

String.fromCharCode() æ–¹æ³•è¿”å›ä½¿ç”¨æŒ‡å®šçš„Unicodeå€¼åºåˆ—åˆ›å»ºçš„å­—ç¬¦ä¸²ã€‚

```javascript
/**
 * String.fromCharCode(numN)
 * @param {Number/String} numN => ä¸€ç»„åºåˆ—æ•°å­—ï¼Œè¡¨ç¤º Unicode å€¼ã€‚
 * ----------------------------------------------
 * è¿”å›å€¼
 * @param {String} è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè€Œä¸æ˜¯ä¸€ä¸ª String å¯¹è±¡ã€‚
 */

console.log(String.fromCharCode(65)) // A
console.log(String.fromCharCode(65,66)) // AB
console.log(String.fromCharCode("----")) // " "
```

### ä½œç”¨äºé«˜ä½ç¼–ç ï¼ˆhigher valuesï¼‰

å°½ç®¡ç»å¤§éƒ¨åˆ†å¸¸ç”¨çš„ Unicode å€¼å¯ä»¥ç”¨ä¸€ä¸ª 16-bit æ•°å­—è¡¨ç¤ºï¼ˆæ­£å¦‚ JavaScript æ ‡å‡†åŒ–è¿‡ç¨‹æ—©æœŸï¼‰ï¼Œå¹¶ä¸”å¯¹äºç»å¤§éƒ¨åˆ†å€¼ fromCharCode() è¿”å›ä¸€ä¸ªå­—ç¬¦ï¼ˆå³å¯¹äºç»å¤§éƒ¨åˆ†å­—ç¬¦ UCS-2 å€¼æ˜¯ UTF-16 çš„å­é›†ï¼‰ï¼Œä½†æ˜¯ä¸ºäº†å¤„ç†æ‰€æœ‰çš„ Unicode å€¼ï¼ˆè‡³ 21 bitsï¼‰ï¼Œåªç”¨ fromCharCode() æ˜¯ä¸è¶³çš„ã€‚ç”±äºé«˜ä½ç¼–ç å­—ç¬¦æ˜¯ç”¨ä¸¤ä¸ªä½ä½ç¼–ç ï¼ˆlower valueï¼‰è¡¨ç¤ºå½¢æˆçš„ä¸€ä¸ªå­—ç¬¦ï¼Œå› æ­¤String.fromCodePoint() ï¼ˆES6 è§„èŒƒçš„ä¸€éƒ¨åˆ†ï¼‰è¢«ç”¨æ¥è¿”å›è¿™æ ·ä¸€å¯¹ä½ä½ç¼–ç ï¼Œä»è€Œå¯ä»¥å®Œå…¨è¡¨ç¤ºè¿™äº›é«˜ä½ç¼–ç å­—ç¬¦ã€‚


## String.fromCodePoint()

String.fromCodePoint() é™æ€æ–¹æ³•è¿”å›ä½¿ç”¨æŒ‡å®šçš„ä»£ç ç‚¹åºåˆ—åˆ›å»ºçš„å­—ç¬¦ä¸²ã€‚

```javascript
/**
 * String.fromCodePoint(numN)
 * @param {Number/String} numN => ä¸€ä¸² Unicode ç¼–ç ã€‚å¦‚æœä¼ å…¥æ— æ•ˆçš„ Unicode ç¼–ç ï¼Œå°†ä¼šæŠ›å‡ºä¸€ä¸ªRangeError
 * ----------------------------------------------
 * è¿”å›å€¼
 * @param {String} è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè€Œä¸æ˜¯ä¸€ä¸ª String å¯¹è±¡ã€‚
 */
console.log(String.fromCodePoint(65)) // A
console.log(String.fromCodePoint(65,66)) // AB
console.log(String.fromCodePoint("----")) // RangeError

// String.fromCharCode() æ–¹æ³•ä¸èƒ½å•ç‹¬è·å–åœ¨é«˜ä»£ç ç‚¹ä½ä¸Šçš„å­—ç¬¦
console.log(String.fromCharCode(0x2F804)) // ï „
console.log(String.fromCodePoint(0x2F804)) // ğ¯ „
```

> å…·ä½“å®é™…ç”¨ç†å¯ä»¥çœ‹çœ‹ MDN è¿™é‡Œä¸åšé˜è¿°äº†ï¼Œå› ä¸ºåšä¸»è¿™ä¸¤ä¸ªæ–¹æ³•ç”¨ç€ä¸å¤š [String.fromCharCode()](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/fromCharCode)ã€[String.fromCodePoint()](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/fromCodePoint)

## String.raw å’Œ æ¨¡æ¿å­—ç¬¦ä¸²

### æ¨¡æ¿å­—ç¬¦ä¸²

äº†è§£`String.raw`æ—¶ï¼Œæˆ‘ä»¬å¿…é¡»å…ˆäº†è§£ä¸€ä¸‹ä»€ä¹ˆæ˜¯æ¨¡æ¿å­—ç¬¦ä¸²ï¼Œç®€å•æ¥è¯´æ¨¡æ¿å­—ç¬¦ä¸²æ˜¯å¢å¼ºç‰ˆçš„å­—ç¬¦ä¸²ï¼Œä»–ç”¨åå¼•å·ï¼ˆ`ï¼‰æ ‡è¯†ã€‚

```javascript
// å­—ç¬¦ä¸²ä¸­åµŒå…¥å˜é‡
// es6 ä¹‹å‰ï¼Œæˆ‘ä»¬å¦‚æœæƒ³è¦åœ¨å­—ç¬¦ä¸²åµŒå…¥å˜é‡éœ€è¦é€šè¿‡+å·
let name = "gating", time = "today";
console.log("Hello "+name+", how are you " + time) // Hello gating, how are you today?

// æ¨¡æ¿å­—ç¬¦ä¸²å
let name = "gating", time = "today";
console.log(`Hello ${name}, how are you ${time}?`) // Hello gating, how are you today?

// å¦å¤–æ¨¡æ¿å­—ç¬¦ä¸²å¯ä»¥è¡¨ç¤ºå¤šè¡Œå­—ç¬¦ä¸²
var str = `<ul>
             <li>first</li>
             <li>second</li>
          </ul>`
```


### String.raw

String.raw() æ˜¯ä¸€ä¸ªæ¨¡æ¿å­—ç¬¦ä¸²çš„æ ‡ç­¾å‡½æ•°ï¼Œå®ƒçš„ä½œç”¨ç±»ä¼¼äº Python ä¸­çš„å­—ç¬¦ä¸²å‰ç¼€ r å’Œ C# ä¸­çš„å­—ç¬¦ä¸²å‰ç¼€ @ï¼Œæ˜¯ç”¨æ¥è·å–ä¸€ä¸ªæ¨¡æ¿å­—ç¬¦ä¸²çš„åŸå§‹å­—é¢é‡å€¼çš„ã€‚

```javascript
/**
 * String.raw(callSite, ...substitutions) || String.raw`templateString`
 * @param {Object} callSite => ä¸€ä¸ªæ¨¡æ¿å­—ç¬¦ä¸²çš„â€œè°ƒç”¨ç‚¹å¯¹è±¡â€ã€‚ç±»ä¼¼{ raw: ['foo', 'bar', 'baz'] }ã€‚
 * @param {Any} ...substitutions => ä»»æ„ä¸ªå¯é€‰çš„å‚æ•°ï¼Œè¡¨ç¤ºä»»æ„ä¸ªå†…æ’è¡¨è¾¾å¼å¯¹åº”çš„å€¼ã€‚
 * @param {String} templateString => æ¨¡æ¿å­—ç¬¦ä¸²ã€‚
 * ----------------------------------------------
 * è¿”å›å€¼
 * @param {String} ç»™å®šæ¨¡æ¿å­—ç¬¦ä¸²çš„åŸå§‹å­—é¢é‡å€¼ã€‚
 */
// "Hi\\u000A!"ï¼Œè¿™é‡Œå¾—åˆ°çš„ä¼šæ˜¯ \ã€uã€0ã€0ã€0ã€A 6ä¸ªå­—ç¬¦
// ä»»ä½•ç±»å‹çš„è½¬ä¹‰å½¢å¼éƒ½ä¼šå¤±æ•ˆ
console.log(String.raw `Hi\u000A!`) // Hi\u000A!

let name = "Bob"
console.log(String.raw `Hi\n${name}!`) // Hi\nBob!

// æˆ‘è®¤ä¸ºä½ é€šå¸¸ä¸éœ€è¦æŠŠå®ƒå½“æˆæ™®é€šå‡½æ•°æ¥è°ƒç”¨
console.log(String.raw({ raw: 'test' }, 0, 1, 2)) // t0e1s2t
console.log(String.raw({ raw: ['t','e','s','t'] }, 0, 1, 2)) // t0e1s2t
```

ä½œä¸ºå‡½æ•°ï¼ŒString.rawçš„ä»£ç å®ç°åŸºæœ¬å¦‚ä¸‹ã€‚

```javascript
String.raw = function (strings, ...values) {
  let output = '';
  let index;
  for (index = 0; index < values.length; index++) {
    output += strings.raw[index] + values[index];
  }

  output += strings.raw[index]
  return output;
}
```

> [ES6å…¥é—¨ String.raw()](http://es6.ruanyifeng.com/#docs/string#String-raw)


# æ­£åˆ™ç›¸å…³

> æ­£åˆ™æ¨èè§‚çœ‹æ–‡æœ«çš„ æ­£åˆ™è¡¨è¾¾å¼30åˆ†é’Ÿå…¥é—¨æ•™ç¨‹ ï¼Œå†™çš„éå¸¸å¥½

## split

split() æ–¹æ³•ä½¿ç”¨æŒ‡å®šçš„åˆ†éš”ç¬¦å­—ç¬¦ä¸²å°†ä¸€ä¸ªStringå¯¹è±¡åˆ†å‰²æˆå­—ç¬¦ä¸²æ•°ç»„ï¼Œä»¥å°†å­—ç¬¦ä¸²åˆ†éš”ä¸ºå­å­—ç¬¦ä¸²ï¼Œä»¥ç¡®å®šæ¯ä¸ªæ‹†åˆ†çš„ä½ç½®ã€‚ 

> Tip: å¦‚æœç©ºå­—ç¬¦ä¸²("")è¢«ç”¨ä½œåˆ†éš”ç¬¦ï¼Œåˆ™å­—ç¬¦ä¸²ä¼šåœ¨æ¯ä¸ªå­—ç¬¦ä¹‹é—´åˆ†å‰²ã€‚

```javascript
/**
 * str.split(separator,limit)
 * @param {String} separator => ä¸€ä¸ªä»‹äº0 å’Œå­—ç¬¦ä¸²é•¿åº¦å‡1ä¹‹é—´çš„æ•´æ•°ã€‚ (0~length-1) å¦‚æœæ²¡æœ‰æä¾›ç´¢å¼•ï¼ŒcharAt() å°†ä½¿ç”¨ 0ã€‚å¦‚æœæŒ‡å®šçš„ index å€¼è¶…å‡ºäº†è¯¥èŒƒå›´ï¼Œåˆ™è¿”å›ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ã€‚
 * @param {Number} limit => ä¸€ä¸ªæ•´æ•°ï¼Œé™å®šè¿”å›çš„åˆ†å‰²ç‰‡æ®µæ•°é‡ã€‚å½“æä¾›æ­¤å‚æ•°æ—¶ï¼Œsplit æ–¹æ³•ä¼šåœ¨æŒ‡å®šåˆ†éš”ç¬¦çš„æ¯æ¬¡å‡ºç°æ—¶åˆ†å‰²è¯¥å­—ç¬¦ä¸²ï¼Œä½†åœ¨é™åˆ¶æ¡ç›®å·²æ”¾å…¥æ•°ç»„æ—¶åœæ­¢ã€‚å¦‚æœåœ¨è¾¾åˆ°æŒ‡å®šé™åˆ¶ä¹‹å‰è¾¾åˆ°å­—ç¬¦ä¸²çš„æœ«å°¾ï¼Œå®ƒå¯èƒ½ä»ç„¶åŒ…å«å°‘äºé™åˆ¶çš„æ¡ç›®ã€‚æ–°æ•°ç»„ä¸­ä¸è¿”å›å‰©ä¸‹çš„æ–‡æœ¬ã€‚
 * ----------------------------------------------
 * è¿”å›å€¼
 * @param {Array} è¿”å›æºå­—ç¬¦ä¸²ä»¥åˆ†éš”ç¬¦å‡ºç°ä½ç½®åˆ†éš”è€Œæˆçš„ä¸€ä¸ª Array 
 */

let str = "gating"
console.log(str.split('')) //Â ["g", "a", "t", "i", "n", "g"]
console.log(str.split('',1)) //Â ["g"]
console.log(str.split('',8)) //Â ["g", "a", "t", "i", "n", "g"]

```

çœ‹åˆ°è¿™é‡Œï¼Œæ˜¯ä¸æ˜¯æ„Ÿè§‰å¯ä»¥ç”¨é€šè¿‡`split`è½¬æˆæ•°ç»„ï¼Œä½¿ç”¨æ•°ç»„çš„æ–¹æ³•å•¦ï¼Ÿæ²¡é”™æ˜¯çš„ï¼Œè¿˜è®°å¾—å‰äº›å¤©æˆ‘å†™è¿‡ä¸€ç¯‡æ•°ç»„çš„æ–¹æ³•çš„æ€»ç»“å—ï¼Ÿæ²¡é”™ï¼Œé‡æ–°çœ‹ä¸€éå°±å¯ä»¥äº†O(âˆ©_âˆ©)O

ä¸ä¿¡ï¼Œä½ çœ‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ `split` è·å–å­—ç¬¦ä¸²çš„äº¤é›†æˆ–å·®é›†å“¦

```javascript
/**
 * è¿”å›ä¸¤ä¸ªå­—ç¬¦ä¸²çš„äº¤é›†
 * @param {String} str => å­—ç¬¦ä¸²1 
 * @param {String} str => å­—ç¬¦ä¸²2
 */
function intersection(str1, str2) {
    return str1.split("").filter(v => str2.split("").includes(v)).toString().replace(/,/g, "")
}
console.log(intersection("abc","bcd")) // bc
```

æ˜¯ä¸æ˜¯æ„Ÿè§‰è‡ªå·±å·²ç»å¯¹å­—ç¬¦ä¸²äº†å¦‚æŒ‡æŒäº†å—ï¼Ÿ

> å¥½äº†ï¼Œæœ¬æ¬¡æ•™ç¨‹åˆ°æ­¤ç»“æŸäº†

å¼€ä¸ªç©ç¬‘å˜›ï¼Œæ¥ä¸‹æ¥æˆ‘ä¼šé™†é™†ç»­ç»­å¸¦å¤§å®¶è®¤è¯†ä¸‹ `string` çš„æ–¹æ³•çš„ã€‚

## match

å½“ä¸€ä¸ªå­—ç¬¦ä¸²ä¸ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼åŒ¹é…æ—¶ï¼Œ match()æ–¹æ³•æ£€ç´¢åŒ¹é…é¡¹

```javascript
/**
 * str.match(regexp)
 * @param {RegExp} regexp => ä¸ªæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ã€‚å¦‚æœä¼ å…¥ä¸€ä¸ªéæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ï¼Œåˆ™ä¼šéšå¼åœ°ä½¿ç”¨ new RegExp(obj) å°†å…¶è½¬æ¢ä¸ºä¸€ä¸ª RegExp ã€‚å¦‚æœä½ æœªæä¾›ä»»ä½•å‚æ•°ï¼Œç›´æ¥ä½¿ç”¨ match() ï¼Œé‚£ä¹ˆä½ ä¼šå¾—åˆ°ä¸€ä¸ªåŒ…å«ç©ºå­—ç¬¦ä¸²çš„ Array ï¼š[""] ã€‚
 * ----------------------------------------------
 * è¿”å›å€¼
 * @param {String}  å¦‚æœå­—ç¬¦ä¸²åŒ¹é…åˆ°äº†è¡¨è¾¾å¼ï¼Œä¼šè¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„çš„ç¬¬ä¸€é¡¹æ˜¯è¿›è¡ŒåŒ¹é…å®Œæ•´çš„å­—ç¬¦ä¸²ï¼Œä¹‹åçš„é¡¹æ˜¯ç”¨åœ†æ‹¬å·æ•è·çš„ç»“æœã€‚å¦‚æœæ²¡æœ‰åŒ¹é…åˆ°ï¼Œè¿”å›null
 */

let str = "gating"
const res = str.match(/g/g)
console.log(res) // ["g", "g"]
console.log(str.match()) // [""]
console.log(str.match(/sadasd/)) // null

let str1 = "NaN means not a number. Infinity contains -Infinity and +Infinity in JavaScript.",
    str2 = "My grandfather is 65 years old and My grandmother is 63 years old.",
    str3 = "The contract was declared null and void.";
str1.match("number");   // "number" æ˜¯å­—ç¬¦ä¸²ã€‚è¿”å›["number"]
str1.match(NaN);        // NaNçš„ç±»å‹æ˜¯numberã€‚è¿”å›["NaN"]
str1.match(Infinity);   // Infinityçš„ç±»å‹æ˜¯numberã€‚è¿”å›["Infinity"]
str1.match(+Infinity);  // è¿”å›["Infinity"]
str1.match(-Infinity);  // è¿”å›["-Infinity"]
str2.match(65);         // è¿”å›["65"]
str2.match(+65);        // æœ‰æ­£å·çš„numberã€‚è¿”å›["65"]
str3.match(null);       // è¿”å›["null"]
```

## replace

replace() æ–¹æ³•è¿”å›ä¸€ä¸ªç”±æ›¿æ¢å€¼æ›¿æ¢ä¸€äº›æˆ–æ‰€æœ‰åŒ¹é…çš„æ¨¡å¼åçš„æ–°å­—ç¬¦ä¸²ã€‚æ¨¡å¼å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–è€…ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼, æ›¿æ¢å€¼å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–è€…ä¸€ä¸ªæ¯æ¬¡åŒ¹é…éƒ½è¦è°ƒç”¨çš„å‡½æ•°ã€‚

> replace ååˆ†é‡è¦ï¼Œå¿…é¡»æŒæ¡

```javascript
/**
 * str.replace(regexp|substr, newSubStr|function)
 *  @param {RegExp} regexp => ä¸€ä¸ªRegExp å¯¹è±¡æˆ–è€…å…¶å­—é¢é‡ã€‚è¯¥æ­£åˆ™æ‰€åŒ¹é…çš„å†…å®¹ä¼šè¢«ç¬¬äºŒä¸ªå‚æ•°çš„è¿”å›å€¼æ›¿æ¢æ‰ã€‚
 *  @param {String} substr => ä¸€ä¸ªè¦è¢« newSubStr æ›¿æ¢çš„å­—ç¬¦ä¸²ã€‚å…¶è¢«è§†ä¸ºä¸€æ•´ä¸ªå­—ç¬¦ä¸²ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ã€‚ä»…ä»…æ˜¯ç¬¬ä¸€ä¸ªåŒ¹é…ä¼šè¢«æ›¿æ¢ã€‚
 *  @param {String} newSubStr =>  ç”¨äºæ›¿æ¢æ‰ç¬¬ä¸€ä¸ªå‚æ•°åœ¨åŸå­—ç¬¦ä¸²ä¸­çš„åŒ¹é…éƒ¨åˆ†çš„å­—ç¬¦ä¸²ã€‚è¯¥å­—ç¬¦ä¸²ä¸­å¯ä»¥å†…æ’ä¸€äº›ç‰¹æ®Šçš„å˜é‡å 
 *  @param {Function} function => ä¸€ä¸ªç”¨æ¥åˆ›å»ºæ–°å­å­—ç¬¦ä¸²çš„å‡½æ•°ï¼Œè¯¥å‡½æ•°çš„è¿”å›å€¼å°†æ›¿æ¢æ‰ç¬¬ä¸€ä¸ªå‚æ•°åŒ¹é…åˆ°çš„ç»“æœ 
 * ----------------------------------------------
 * è¿”å›å€¼
 * @param {String}  ä¸€ä¸ªéƒ¨åˆ†æˆ–å…¨éƒ¨åŒ¹é…ç”±æ›¿ä»£æ¨¡å¼æ‰€å–ä»£çš„æ–°çš„å­—ç¬¦ä¸²
 */

// ç‰¹æ®Šçš„å˜é‡å å’Œ function åœ¨å®ä¾‹ä¸­ ä¼šæ›´è¯¦ç»†è¯´æ˜
let str = "gating"
// å¦‚æœç”¨ substr ï¼Œåªä¼šæ›¿æ¢æ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼Œæ›¿æ¢å¤šä¸ªå­—ç¬¦åˆ™éœ€è¦ç”¨æ­£åˆ™
console.log(str.replace('g','å®¶åº­')) // å®¶åº­ating
console.log(str.replace(/g/,'å®¶åº­')) // å®¶åº­ating
console.log(str.replace(/g/g,'å®¶åº­')) // å®¶åº­atinå®¶åº­
console.log(str.replace(/g/i,'G')) // Gating

let word = "hello,gating"
// å•è¯é¦–å­—æ¯å¤§å†™
// è¿™é‡Œçš„ word å‚æ•°æ—¶åŒ¹é…çš„å­—ç¬¦ä¸²ï¼Œä¸‹æ–‡æœ‰è¯´æ˜
let res = word.replace(/\b\w+\b/g,(word)=>(word[0].toUpperCase()+word.slice(1)))
console.log(res) // Hello,Gating
```


å®é™…åº”ç”¨åœºæ™¯ä¸­ï¼Œ`replace` æ–¹æ³•éå¸¸çµæ´»ï¼Œå¯ä»¥åšå¾ˆå¤šæˆ‘ä»¬æƒ³è¦çš„äº‹ï¼Œæ¯”å¦‚ï¼šğŸ˜„

ç±»ä¼¼äºæˆ‘ä»¬çš„æ¨¡æ¿å¼•æ“ replace å°±å¯ä»¥å®ç°ï¼Œä¸è¿‡è¿™é‡Œæˆ‘å°±ä¸å¸¦ç€å¤§å®¶å®ç°äº†= =

åœ¨å†™å®ä¾‹æ—¶ï¼Œæˆ‘å¸Œæœ›å¯ä»¥å…ˆææ‡‚å‡ ä¸ªæ¦‚å¿µå’Œç”¨æ³•

### newSubStr çš„ç‰¹æ®Šå˜é‡å

| å˜é‡å | ä»£è¡¨çš„å€¼                                                     |
| ------ | ------------------------------------------------------------ |
| ` $$ `   | æ’å…¥ä¸€ä¸ª "$"ã€‚                                               |
| ` $& `   | æ’å…¥åŒ¹é…çš„å­ä¸²ã€‚                                             |
| `` $` ``   | æ’å…¥å½“å‰åŒ¹é…çš„å­ä¸²å·¦è¾¹çš„å†…å®¹ã€‚                               |
| ` $' `   | æ’å…¥å½“å‰åŒ¹é…çš„å­ä¸²å³è¾¹çš„å†…å®¹ã€‚                               |
| ` $*n* ` | å‡å¦‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ [`RegExp`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/RegExp)å¯¹è±¡ï¼Œå¹¶ä¸” n æ˜¯ä¸ªå°äº100çš„éè´Ÿæ•´æ•°ï¼Œé‚£ä¹ˆæ’å…¥ç¬¬ n ä¸ªæ‹¬å·åŒ¹é…çš„å­—ç¬¦ä¸²ã€‚æç¤ºï¼šç´¢å¼•æ˜¯ä»1å¼€å§‹ |

### replace ä¸­ function çš„å‚æ•°

| å˜é‡å       | ä»£è¡¨çš„å€¼                                                     |
| ------------ | ------------------------------------------------------------ |
| match        | åŒ¹é…çš„å­ä¸²ã€‚ï¼ˆå¯¹åº”äºä¸Šè¿°çš„$&ã€‚ï¼‰                             |
| `p1,p2, ...` | å‡å¦‚replace()æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ª[`RegExp`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/RegExp) å¯¹è±¡ï¼Œåˆ™ä»£è¡¨ç¬¬nä¸ªæ‹¬å·åŒ¹é…çš„å­—ç¬¦ä¸²ã€‚ï¼ˆå¯¹åº”äºä¸Šè¿°çš„$1ï¼Œ$2ç­‰ã€‚ï¼‰ä¾‹å¦‚, å¦‚æœæ˜¯ç”¨ `/(\a+)(\b+)/`è¿™ä¸ªæ¥åŒ¹é…ï¼Œ `p1`å°±æ˜¯åŒ¹é…çš„ `\a+`,  `p2 å°±æ˜¯åŒ¹é…çš„` `\b+ã€‚` |
| `offset`     | åŒ¹é…åˆ°çš„å­å­—ç¬¦ä¸²åœ¨åŸå­—ç¬¦ä¸²ä¸­çš„åç§»é‡ã€‚ï¼ˆæ¯”å¦‚ï¼Œå¦‚æœåŸå­—ç¬¦ä¸²æ˜¯â€œabcdâ€ï¼ŒåŒ¹é…åˆ°çš„å­å­—ç¬¦ä¸²æ˜¯â€œbcâ€ï¼Œé‚£ä¹ˆè¿™ä¸ªå‚æ•°å°†æ˜¯1ï¼‰ |
| string       | è¢«åŒ¹é…çš„åŸå­—ç¬¦ä¸²ã€‚                                           |

> ä½ å¯ä»¥æŒ‡å®šä¸€ä¸ªå‡½æ•°ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå½“åŒ¹é…æ‰§è¡Œåï¼Œ è¯¥å‡½æ•°å°±ä¼šæ‰§è¡Œã€‚ å‡½æ•°çš„è¿”å›å€¼ä½œä¸ºæ›¿æ¢å­—ç¬¦ä¸²ã€‚ (æ³¨æ„:  ä¸Šé¢æåˆ°çš„ç‰¹æ®Šæ›¿æ¢å‚æ•°åœ¨è¿™é‡Œä¸èƒ½è¢«ä½¿ç”¨ã€‚) å¦å¤–è¦æ³¨æ„çš„æ˜¯ï¼Œ å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ­£åˆ™è¡¨è¾¾å¼ï¼Œ å¹¶ä¸”å…¶ä¸ºå…¨å±€åŒ¹é…æ¨¡å¼ï¼Œ é‚£ä¹ˆè¿™ä¸ªæ–¹æ³•å°†è¢«å¤šæ¬¡è°ƒç”¨ï¼Œ æ¯æ¬¡åŒ¹é…éƒ½ä¼šè¢«è°ƒç”¨ã€‚

åœ¨å®é™…åº”ç”¨ä¸­,`replace`çš„ä½¿ç”¨å¯ä»¥æ»¡è¶³å¤§éƒ¨åˆ†çš„æ“ä½œå­—ç¬¦ä¸²åœºæ™¯,ç‰¹åˆ«æ˜¯functionçš„å¼•å…¥,æå¤§çš„å¢å¼ºäº†replaceçš„å®åŠ›,ä»è€Œä½¿å¾—æˆ‘ä»¬æ“ä½œå­—ç¬¦æ¸¸åˆƒæœ‰ä½™.

åœ¨å†™å®ä¾‹çš„æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ææ‡‚å‡ ä¸ª`newSubStr`ç‰¹æ®Šå˜é‡åï¼Œä»–åœ¨å®é™…åº”ç”¨ä¸­ä¹Ÿå¾ˆæœ‰ä½œç”¨

```javascript
let name = 'gating'
// $& è¡¨ç¤ºåŒ¹é…åˆ°çš„å­—ä¸²ï¼Œè¿™é‡ŒåŒ¹é…åˆ°äº† gating ï¼Œæ‰€ä»¥ $& å°±ç­‰äº gating
console.log(name.replace(/\w+/,'$&-$&')) // gating-gating

let str = "gating say hello for mosen"
// $1 è¡¨ç¤ºåŒ¹é…ç¬¬ä¸€ä¸ªæ‹¬å·é‡Œçš„å†…å®¹ ä¹Ÿå°±æ˜¯ $1 å°±æ˜¯ gating 
console.log(str.replace(/(^\w+)(.*?)(\w+)$/,'$3$2$1')) // mosen say hello for gating\

let hello = "hello,gating"
// $`å½“å‰åŒ¹é…çš„å­ä¸²å·¦è¾¹çš„å†…å®¹ã€‚
console.log(hello.replace(/gating/,"&.$`mosen")) // hello,gating.hello,mosen
// $'å½“å‰åŒ¹é…çš„å­ä¸²å³è¾¹çš„å†…å®¹ã€‚(ä¸æ˜¯ä¾‹å­çš„ä¾‹å­)
console.log(hello.replace(/hello,/,"$' say hi for $`")) // gating say hi for gating

// function çš„ ç”¨æ³•
let paragraph = "what is this?"
let res = paragraph.replace(" is this",(match,offset,string)=>{
    // match åŒ¹é…çš„å­ä¸²
    // offset åç§»é‡ è¿™æ˜¯æ˜¯4 ä¹Ÿå°±æ˜¯ åç§»äº†what4ä¸ªå­—ç¬¦
    // string å…ƒå­—ç¬¦
    console.log(match,offset,string) //  is this 4 what is this?
    return " is that"
})
console.log(res) // what is that?
```

äº†è§£äº†è¿™äº›ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥åšå†™ç‚¹æ¯”è¾ƒå®é™…çš„äº†

```javascript
// js éšè—æ‰‹æœºä¸­é—´5ä½å·ç 
let phone='13700000137'
console.log(phone.replace(/(\d{3})\d+(\d{3})/, '$1****$2')) // 137****137

// å°†é˜¿æ‹‰ä¼¯æ•°å­—æ¯ä¸‰ä½ä¸€é€—å·åˆ†éš”ï¼Œå¦‚ï¼š1000è½¬åŒ–ä¸º1,000
let price =  '3521.08'
console.log(price.replace(/(?=(?!^)(?:\d{3})+(?:\.|$))(\d{3}(\.\d+$)?)/g,',$1')) // 3,521.08

// html è½¬ä¹‰ï¼Œé˜²æ­¢ç”¨æˆ·æ³¨å…¥
let html = '<div>"hello & world"</div>';
let res = html.replace(/[<>\"\'\&']/g,function(a){
    switch(a){
        case '<':
            return '&lt;';
        case '>':
            return '&gt;';
        case '\"':
            return '&quot;';
        case '\'':
            return '&#39;';
        case '\&':
            return '&amp;';
    }
})
console.log(res) // &lt;div&gt;&quot;hello &amp; world&quot;&lt;/div&gt;


// ç®€æ˜“çš„å­—ç¬¦ä¸²æ¨¡æ¿å¼•æ“
let template = "My name is {name}"
const obj = {name:'gating'}
const tmpl = (template,obj)=> template.replace(/([^{}]*){(.*)}/g,(match,p1,p2) => (p1+obj[p2]))
console.log(tmpl(template,obj)) // My name is gating
```

# å­—ç¬¦ç¼–ç ç›¸å…³

## charAt

charAt() æ–¹æ³•ä»ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­è¿”å›æŒ‡å®šçš„å­—ç¬¦

```javascript
/**
 * str.charAt(index)
 * @param {Number} index => ä¸€ä¸ªä»‹äº0 å’Œå­—ç¬¦ä¸²é•¿åº¦å‡1ä¹‹é—´çš„æ•´æ•°ã€‚ (0~length-1) å¦‚æœæ²¡æœ‰æä¾›ç´¢å¼•ï¼ŒcharAt() å°†ä½¿ç”¨ 0ã€‚å¦‚æœæŒ‡å®šçš„ index å€¼è¶…å‡ºäº†è¯¥èŒƒå›´ï¼Œåˆ™è¿”å›ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ã€‚
 * ----------------------------------------------
 * è¿”å›å€¼
 * @param {String} å½“å‰ç´¢å¼•çš„å­—ç¬¦ä¸²
 */

let str = "gating"
console.log(str.charAt(0)) // g
console.log(str.charAt(6)) // ""

// charAt å’Œ fromCharCode ç”¨åŒæ ·çš„é—®é¢˜ï¼Œä»–ä¸èƒ½è¯†åˆ«é«˜ä½ç¼–ç 
console.log("ğ ®·".charAt(0)) // ï¿½
```

## charCodeAt

charCodeAt() æ–¹æ³•è¿”å›0åˆ°65535ä¹‹é—´çš„æ•´æ•°ï¼Œè¡¨ç¤ºç»™å®šç´¢å¼•å¤„çš„UTF-16ä»£ç å•å…ƒ (åœ¨ Unicode ç¼–ç å•å…ƒè¡¨ç¤ºä¸€ä¸ªå•ä¸€çš„ UTF-16 ç¼–ç å•å…ƒçš„æƒ…å†µä¸‹ï¼ŒUTF-16 ç¼–ç å•å…ƒåŒ¹é… Unicode ç¼–ç å•å…ƒã€‚ä½†åœ¨â€”â€”ä¾‹å¦‚ Unicode ç¼–ç å•å…ƒ > 0x10000 çš„è¿™ç§â€”â€”ä¸èƒ½è¢«ä¸€ä¸ª UTF-16 ç¼–ç å•å…ƒå•ç‹¬è¡¨ç¤ºçš„æƒ…å†µä¸‹ï¼Œåªèƒ½åŒ¹é… Unicode ä»£ç†å¯¹çš„ç¬¬ä¸€ä¸ªç¼–ç å•å…ƒ) ã€‚å¦‚æœä½ æƒ³è¦æ•´ä¸ªä»£ç ç‚¹çš„å€¼ï¼Œä½¿ç”¨ codePointAt()ã€‚

```javascript
/**
 * str.charCodeAt(index)
 * @param {Number} index => ä¸€ä¸ªå¤§äºç­‰äº 0ï¼Œå°äºå­—ç¬¦ä¸²é•¿åº¦çš„æ•´æ•°ã€‚å¦‚æœä¸æ˜¯ä¸€ä¸ªæ•°å€¼ï¼Œåˆ™é»˜è®¤ä¸º 0ã€‚
 * ----------------------------------------------
 * è¿”å›å€¼
 * @param {Number} è¿”å›å€¼æ˜¯ä¸€è¡¨ç¤ºç»™å®šç´¢å¼•å¤„ï¼ˆStringä¸­indexç´¢å¼•å¤„ï¼‰å­—ç¬¦çš„ UTF-16 ä»£ç å•å…ƒå€¼çš„æ•°å­—ï¼›å¦‚æœç´¢å¼•è¶…å‡ºèŒƒå›´ï¼Œåˆ™è¿”å› NaNã€‚
 */
console.log("ABC".charCodeAt(0)) // 65
console.log("ABC".charCodeAt(1)) // 66
console.log("ABC".charCodeAt(3)) // NaN

// é’ˆå¯¹é«˜ä½ç¼–ç ï¼Œä»–ä¼šæ‹†åˆ†æˆä¸¤ä¸ªåŒå­—èŠ‚çš„å½¢å¼å†æ¥è·å–
// ä¹Ÿå°±æ˜¯ "\uD842\uDFB7".charCodeAt(0)
console.log("ğ ®·".charCodeAt(0)) // 55362
console.log("ğ ®·".charCodeAt(1)) // 57271
```

## codePointAt

codePointAt() æ–¹æ³•è¿”å› ä¸€ä¸ª Unicode ç¼–ç ç‚¹å€¼çš„éè´Ÿæ•´æ•°ã€‚

```javascript
/**
 * str.codePointAt(pos)
 * @param {Number} pos => è¿™ä¸ªå­—ç¬¦ä¸²ä¸­éœ€è¦è½¬ç çš„å…ƒç´ çš„ä½ç½®ã€‚
 * ----------------------------------------------
 * è¿”å›å€¼
 * @param {String} è¿”å›å€¼æ˜¯åœ¨å­—ç¬¦ä¸²ä¸­çš„ç»™å®šç´¢å¼•çš„ç¼–ç å•å…ƒä½“ç°çš„æ•°å­—(10è¿›åˆ¶æ•°)ï¼Œå¦‚æœåœ¨ç´¢å¼•å¤„æ²¡æ‰¾åˆ°å…ƒç´ åˆ™è¿”å› undefined ã€‚
 */
console.log("ABC".charCodeAt(0)) // 65
console.log("ABC".charCodeAt(3)) // undefined
console.log("ğ ®·".codePointAt(0)) // 134071
console.log("ğ ®·".codePointAt(1)) // 57271
```

æ±‰å­—â€œğ ®·â€ï¼ˆæ³¨æ„ï¼Œè¿™ä¸ªå­—ä¸æ˜¯â€œå‰ç¥¥â€çš„â€œå‰â€ï¼‰çš„ç ç‚¹æ˜¯0x20BB7ï¼ŒUTF-16 ç¼–ç ä¸º0xD842 0xDFB7ï¼ˆåè¿›åˆ¶ä¸º55362 57271ï¼‰ï¼Œéœ€è¦4ä¸ªå­—èŠ‚å‚¨å­˜ã€‚å¯¹äºè¿™ç§4ä¸ªå­—èŠ‚çš„å­—ç¬¦ï¼ŒJavaScript ä¸èƒ½æ­£ç¡®å¤„ç†ï¼Œå­—ç¬¦ä¸²é•¿åº¦ä¼šè¯¯åˆ¤ä¸º2ï¼Œè€Œä¸”charAtæ–¹æ³•æ— æ³•è¯»å–æ•´ä¸ªå­—ç¬¦ï¼ŒcharCodeAtæ–¹æ³•åªèƒ½åˆ†åˆ«è¿”å›å‰ä¸¤ä¸ªå­—èŠ‚å’Œåä¸¤ä¸ªå­—èŠ‚çš„å€¼ã€‚

> codePointAt æ–¹æ³•åœ¨ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸Šï¼Œæ­£ç¡®åœ°è¯†åˆ«äº†â€œğ ®·â€ï¼Œè¿”å›äº†å®ƒçš„åè¿›åˆ¶ç ç‚¹ 134071ï¼ˆå³åå…­è¿›åˆ¶çš„20BB7ï¼‰ï¼Œåœ¨ç¬¬äºŒä¸ªå­—ç¬¦ï¼ˆå³â€œğ ®·â€çš„åä¸¤ä¸ªå­—èŠ‚ï¼‰codePointAtæ–¹æ³•çš„ç»“æœä¸charCodeAtæ–¹æ³•ç›¸åŒã€‚

> codePointAtæ–¹æ³•è¿”å›çš„æ˜¯ç ç‚¹çš„åè¿›åˆ¶å€¼ï¼Œå¦‚æœæƒ³è¦åå…­è¿›åˆ¶çš„å€¼ï¼Œå¯ä»¥ä½¿ç”¨toString(16)æ–¹æ³•è½¬æ¢ä¸€ä¸‹ã€‚

```javascript
let s = 'ğ ®·a'
s.codePointAt(0) // 134071
s.codePointAt(1) // 57271
s.codePointAt(2) // 97

// ä½ å¯èƒ½æ³¨æ„åˆ°äº†ï¼ŒcodePointAtæ–¹æ³•çš„å‚æ•°ï¼Œä»ç„¶æ˜¯ä¸æ­£ç¡®çš„ã€‚
// æ¯”å¦‚ï¼Œä¸Šé¢ä»£ç ä¸­ï¼Œå­—ç¬¦aåœ¨å­—ç¬¦ä¸²sçš„æ­£ç¡®ä½ç½®åºå·åº”è¯¥æ˜¯ 1ï¼Œä½†æ˜¯å¿…é¡»å‘codePointAtæ–¹æ³•ä¼ å…¥ 2ã€‚
// è§£å†³è¿™ä¸ªé—®é¢˜çš„ä¸€ä¸ªåŠæ³•æ˜¯ä½¿ç”¨for...ofå¾ªç¯ï¼Œå› ä¸ºå®ƒä¼šæ­£ç¡®è¯†åˆ« 32 ä½çš„ UTF-16 å­—ç¬¦ã€‚
for (let ch of s) {
  console.log(ch.codePointAt(0).toString(16)) // 20bb7 61
}
console.log("\u{20bb7}") // ğ ®·
```

## normalize

normalize() æ–¹æ³•ä¼šæŒ‰ç…§æŒ‡å®šçš„ä¸€ç§ Unicode æ­£è§„å½¢å¼å°†å½“å‰å­—ç¬¦ä¸²æ­£è§„åŒ–.

è®¸å¤šæ¬§æ´²è¯­è¨€æœ‰è¯­è°ƒç¬¦å·å’Œé‡éŸ³ç¬¦å·ã€‚ä¸ºäº†è¡¨ç¤ºå®ƒä»¬ï¼ŒUnicode æä¾›äº†ä¸¤ç§æ–¹æ³•ã€‚ä¸€ç§æ˜¯ç›´æ¥æä¾›å¸¦é‡éŸ³ç¬¦å·çš„å­—ç¬¦ï¼Œæ¯”å¦‚Ç‘ï¼ˆ\u01D1ï¼‰ã€‚å¦ä¸€ç§æ˜¯æä¾›åˆæˆç¬¦å·ï¼ˆcombining characterï¼‰ï¼Œå³åŸå­—ç¬¦ä¸é‡éŸ³ç¬¦å·çš„åˆæˆï¼Œä¸¤ä¸ªå­—ç¬¦åˆæˆä¸€ä¸ªå­—ç¬¦ï¼Œæ¯”å¦‚Oï¼ˆ\u004Fï¼‰å’ŒË‡ï¼ˆ\u030Cï¼‰åˆæˆÇ‘ï¼ˆ\u004F\u030Cï¼‰ã€‚

è¿™ä¸¤ç§è¡¨ç¤ºæ–¹æ³•ï¼Œåœ¨è§†è§‰å’Œè¯­ä¹‰ä¸Šéƒ½ç­‰ä»·ï¼Œä½†æ˜¯ JavaScript ä¸èƒ½è¯†åˆ«ã€‚

```javascript
/**
 * str.normalize(form)
 * @param {String} form => å››ç§ Unicode æ­£è§„å½¢å¼ "NFC", "NFD", "NFKC", ä»¥åŠ "NFKD" å…¶ä¸­çš„ä¸€ä¸ª, é»˜è®¤å€¼ä¸º "NFC".
 * ----------------------------------------------
 * è¿”å›å€¼
 * @param {String} æ­£è§„åŒ–åçš„å­—ç¬¦ä¸²ã€‚å¦‚æœç»™ form ä¼ å…¥äº†éæ³•çš„å‚æ•°å€¼, åˆ™ä¼šæŠ›å‡º RangeError å¼‚å¸¸.
 */
console.log('\u01D1'==='\u004F\u030C') // false
console.log('\u01D1'.normalize() === '\u004F\u030C'.normalize()) // true

// NFCå‚æ•°è¿”å›å­—ç¬¦çš„åˆæˆå½¢å¼ï¼ŒNFDå‚æ•°è¿”å›å­—ç¬¦çš„åˆ†è§£å½¢å¼ã€‚
'\u004F\u030C'.normalize('NFC').length // 1
'\u004F\u030C'.normalize('NFD').length // 2
```

1. `NFC`ï¼Œé»˜è®¤å‚æ•°ï¼Œè¡¨ç¤ºâ€œæ ‡å‡†ç­‰ä»·åˆæˆâ€ï¼ˆNormalization Form Canonical Compositionï¼‰ï¼Œè¿”å›å¤šä¸ªç®€å•å­—ç¬¦çš„åˆæˆå­—ç¬¦ã€‚æ‰€è°“â€œæ ‡å‡†ç­‰ä»·â€æŒ‡çš„æ˜¯è§†è§‰å’Œè¯­ä¹‰ä¸Šçš„ç­‰ä»·ã€‚

2. `NFD`ï¼Œè¡¨ç¤ºâ€œæ ‡å‡†ç­‰ä»·åˆ†è§£â€ï¼ˆNormalization Form Canonical Decompositionï¼‰ï¼Œå³åœ¨æ ‡å‡†ç­‰ä»·çš„å‰æä¸‹ï¼Œè¿”å›åˆæˆå­—ç¬¦åˆ†è§£çš„å¤šä¸ªç®€å•å­—ç¬¦ã€‚

3. `NFKC`ï¼Œè¡¨ç¤ºâ€œå…¼å®¹ç­‰ä»·åˆæˆâ€ï¼ˆNormalization Form Compatibility Compositionï¼‰ï¼Œè¿”å›åˆæˆå­—ç¬¦ã€‚æ‰€è°“â€œå…¼å®¹ç­‰ä»·â€æŒ‡çš„æ˜¯è¯­ä¹‰ä¸Šå­˜åœ¨ç­‰ä»·ï¼Œä½†è§†è§‰ä¸Šä¸ç­‰ä»·ï¼Œæ¯”å¦‚â€œå›â€å’Œâ€œå–œå–œâ€ã€‚ï¼ˆè¿™åªæ˜¯ç”¨æ¥ä¸¾ä¾‹ï¼Œnormalizeæ–¹æ³•ä¸èƒ½è¯†åˆ«ä¸­æ–‡ã€‚ï¼‰

4. `NFKD`ï¼Œè¡¨ç¤ºâ€œå…¼å®¹ç­‰ä»·åˆ†è§£â€ï¼ˆNormalization Form Compatibility Decompositionï¼‰ï¼Œå³åœ¨å…¼å®¹ç­‰ä»·çš„å‰æä¸‹ï¼Œè¿”å›åˆæˆå­—ç¬¦åˆ†è§£çš„å¤šä¸ªç®€å•å­—ç¬¦ã€‚


> ä¸è¿‡ï¼Œnormalizeæ–¹æ³•ç›®å‰ä¸èƒ½è¯†åˆ«ä¸‰ä¸ªæˆ–ä¸‰ä¸ªä»¥ä¸Šå­—ç¬¦çš„åˆæˆã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œè¿˜æ˜¯åªèƒ½ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼Œé€šè¿‡ Unicode ç¼–å·åŒºé—´åˆ¤æ–­ã€‚

> æ­¤å†…å®¹å‚è€ƒäº† [é˜®è€å¸ˆçš„normalize()](http://es6.ruanyifeng.com/#docs/string#normalize)

# åˆå¹¶å¡«å……ç›¸å…³

## concat

concat() æ–¹æ³•å°†ä¸€ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ä¸²ä¸åŸå­—ç¬¦ä¸²è¿æ¥åˆå¹¶ï¼Œå½¢æˆä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²å¹¶è¿”å›ã€‚

> å¼ºçƒˆå»ºè®®ä½¿ç”¨ èµ‹å€¼æ“ä½œç¬¦ï¼ˆ+, +=ï¼‰ä»£æ›¿ concat æ–¹æ³•ã€‚å› ä¸º concat æ€§èƒ½æ¯”è¾ƒåƒåœ¾

```javascript
/**
 * str.concat(stringN)
 * @param {String} stringN => å’ŒåŸå­—ç¬¦ä¸²è¿æ¥çš„å¤šä¸ªå­—ç¬¦ä¸²
 * ----------------------------------------------
 * è¿”å›å€¼
 * @param {String} è¿æ¥åçš„å­—ç¬¦ä¸²
 */
let str = "hello,"
console.log(str.concat("gating")) // hello,gating
```

## padEnd

padEnd()  æ–¹æ³•ä¼šç”¨ä¸€ä¸ªå­—ç¬¦ä¸²å¡«å……å½“å‰å­—ç¬¦ä¸²ï¼ˆå¦‚æœéœ€è¦çš„è¯åˆ™é‡å¤å¡«å……ï¼‰ï¼Œè¿”å›å¡«å……åè¾¾åˆ°æŒ‡å®šé•¿åº¦çš„å­—ç¬¦ä¸²ã€‚ä»å½“å‰å­—ç¬¦ä¸²çš„æœ«å°¾ï¼ˆå³ä¾§ï¼‰å¼€å§‹å¡«å……ã€‚

```javascript
/**
 * str.padEnd(targetLength,padString)
 * @param {Number} targetLength => å½“å‰å­—ç¬¦ä¸²éœ€è¦å¡«å……åˆ°çš„ç›®æ ‡é•¿åº¦ã€‚å¦‚æœè¿™ä¸ªæ•°å€¼å°äºå½“å‰å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œåˆ™è¿”å›å½“å‰å­—ç¬¦ä¸²æœ¬èº«ã€‚
 * @param {String} padString  => å¡«å……å­—ç¬¦ä¸²ã€‚å¦‚æœå­—ç¬¦ä¸²å¤ªé•¿ï¼Œä½¿å¡«å……åçš„å­—ç¬¦ä¸²é•¿åº¦è¶…è¿‡äº†ç›®æ ‡é•¿åº¦ï¼Œåˆ™åªä¿ç•™æœ€å·¦ä¾§çš„éƒ¨åˆ†ï¼Œå…¶ä»–éƒ¨åˆ†ä¼šè¢«æˆªæ–­ã€‚æ­¤å‚æ•°çš„ç¼ºçœå€¼ä¸º " "ï¼ˆU+0020ï¼‰ã€‚
 * ----------------------------------------------
 * è¿”å›å€¼
 * @param {String} åœ¨åŸå­—ç¬¦ä¸²æœ«å°¾å¡«å……æŒ‡å®šçš„å¡«å……å­—ç¬¦ä¸²ç›´åˆ°ç›®æ ‡é•¿åº¦æ‰€å½¢æˆçš„æ–°å­—ç¬¦ä¸²ã€‚
 */

let str = "abc"
console.log(str.padEnd(1)) // abc
console.log(str.padEnd(1,"123")) // abc
console.log(str.padEnd(4,"123")) // abc1
console.log(str.padEnd(7,"123")) // abc1231
```

## padStart

padStart() æ–¹æ³•ç”¨å¦ä¸€ä¸ªå­—ç¬¦ä¸²å¡«å……å½“å‰å­—ç¬¦ä¸²(é‡å¤ï¼Œå¦‚æœéœ€è¦çš„è¯)ï¼Œä»¥ä¾¿äº§ç”Ÿçš„å­—ç¬¦ä¸²è¾¾åˆ°ç»™å®šçš„é•¿åº¦ã€‚å¡«å……ä»å½“å‰å­—ç¬¦ä¸²çš„å¼€å§‹(å·¦ä¾§)åº”ç”¨çš„ã€‚

```javascript
/**
 * str.padStart(targetLength,padString)
 * @param {Number} targetLength => å½“å‰å­—ç¬¦ä¸²éœ€è¦å¡«å……åˆ°çš„ç›®æ ‡é•¿åº¦ã€‚å¦‚æœè¿™ä¸ªæ•°å€¼å°äºå½“å‰å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œåˆ™è¿”å›å½“å‰å­—ç¬¦ä¸²æœ¬èº«ã€‚
 * @param {String} padString  => å¡«å……å­—ç¬¦ä¸²ã€‚å¦‚æœå­—ç¬¦ä¸²å¤ªé•¿ï¼Œä½¿å¡«å……åçš„å­—ç¬¦ä¸²é•¿åº¦è¶…è¿‡äº†ç›®æ ‡é•¿åº¦ï¼Œåˆ™åªä¿ç•™æœ€å·¦ä¾§çš„éƒ¨åˆ†ï¼Œå…¶ä»–éƒ¨åˆ†ä¼šè¢«æˆªæ–­ã€‚æ­¤å‚æ•°çš„ç¼ºçœå€¼ä¸º " "ï¼ˆU+0020ï¼‰ã€‚
 * ----------------------------------------------
 * è¿”å›å€¼
 * @param {String} åœ¨åŸå­—ç¬¦ä¸²å¼€å¤´å¡«å……æŒ‡å®šçš„å¡«å……å­—ç¬¦ä¸²ç›´åˆ°ç›®æ ‡é•¿åº¦æ‰€å½¢æˆçš„æ–°å­—ç¬¦ä¸²ã€‚
 */

let str = "abc"
console.log(str.padStart(1)) // abc
console.log(str.padStart(3,'123')) // abc
console.log(str.padStart(6,'123')) // 123abc
console.log(str.padStart(7,'123')) // 1231abc
```

padStart()çš„å¸¸è§ç”¨é€”æ˜¯ä¸ºæ•°å€¼è¡¥å…¨æŒ‡å®šä½æ•°å’Œæç¤ºå­—ç¬¦ä¸²æ ¼å¼ã€‚

```javascript
// ç”Ÿæˆ 10 ä½çš„æ•°å€¼å­—ç¬¦ä¸²
'1'.padStart(10, '0') // "0000000001"
'12'.padStart(10, '0') // "0000000012"
'123456'.padStart(10, '0') // "0000123456"

// æç¤ºå­—ç¬¦ä¸²æ ¼å¼
'12'.padStart(10, 'YYYY-MM-DD') // "YYYY-MM-12"
'09-12'.padStart(10, 'YYYY-MM-DD') // "YYYY-09-12"
```

## repeat

repeat() æ„é€ å¹¶è¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œè¯¥å­—ç¬¦ä¸²åŒ…å«è¢«è¿æ¥åœ¨ä¸€èµ·çš„æŒ‡å®šæ•°é‡çš„å­—ç¬¦ä¸²çš„å‰¯æœ¬ã€‚

```javascript
/**
 * str.repeat(count)
 * @param {Number} count => ä»‹äº0å’Œæ­£æ— ç©·å¤§ä¹‹é—´çš„æ•´æ•° : [0, +âˆ) ã€‚è¡¨ç¤ºåœ¨æ–°æ„é€ çš„å­—ç¬¦ä¸²ä¸­é‡å¤äº†å¤šå°‘éåŸå­—ç¬¦ä¸²ã€‚é‡å¤æ¬¡æ•°ä¸èƒ½ä¸ºè´Ÿæ•°ã€‚é‡å¤æ¬¡æ•°å¿…é¡»å°äº infinityï¼Œä¸”é•¿åº¦ä¸ä¼šå¤§äºæœ€é•¿çš„å­—ç¬¦ä¸²ã€‚
 * ----------------------------------------------
 * è¿”å›å€¼
 * @param {String} åŒ…å«æŒ‡å®šå­—ç¬¦ä¸²çš„æŒ‡å®šæ•°é‡å‰¯æœ¬çš„æ–°å­—ç¬¦ä¸²ã€‚
 */
let str = "gating"
console.log(str.repeat(2)) // gatinggating
// å‚æ•°countå°†ä¼šè¢«è‡ªåŠ¨è½¬æ¢æˆæ•´æ•°(å‘ä¸‹å–æ•´)
console.log(str.repeat(3.5)) // gatinggatinggating
console.log(str.repeat(3.4)) // gatinggatinggating
// ä½†æ˜¯ï¼Œå¦‚æœå‚æ•°æ˜¯ 0 åˆ°-1 ä¹‹é—´çš„å°æ•°ï¼Œåˆ™ç­‰åŒäº 0ï¼Œè¿™æ˜¯å› ä¸ºä¼šå…ˆè¿›è¡Œå–æ•´è¿ç®—ã€‚
console.log(str.repeat(-0.5)) // ""
console.log(str.repeat(0)) // ""
// å‚æ•°NaNç­‰åŒäº 0ã€‚
console.log(str.repeat(NaN)) // ""
// å¦‚æœrepeatçš„å‚æ•°æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™ä¼šå…ˆè½¬æ¢æˆæ•°å­—
console.log(str.repeat("aaa")) // ""

// RangeError: repeat count must be positive and less than inifinity
console.log(str.repeat(-1)) 
console.log(str.repeat(1/0))
```

repeat å…¶å®å¾ˆé€‚åˆæˆ‘ä»¬è°ƒè¯•çš„æ—¶å€™ç”Ÿæˆå¤šä»½æµ‹è¯•æ•°æ®ï¼Œæ¯”å¦‚

```javascript
let newData = ["1","2","3"]

// å‡è®¾æˆ‘ä»¬æƒ³ç”Ÿæˆ ["1","1","2","2","3","3"] çš„åŒä»½æ•°æ®ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ repeat æ¥å®ç°
let newData = myDate.map(item=>item.repeat(2).split('')).reduce((arr,val)=>arr.concat(val))
console.log(newData)) // ["1","1","2","2","3","3"]
```

#  æœç´¢æŸ¥æ‰¾ç›¸å…³

## indexOf

indexOf() æ–¹æ³•è¿”å›è°ƒç”¨  String å¯¹è±¡ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„æŒ‡å®šå€¼çš„ç´¢å¼•ï¼Œå¼€å§‹åœ¨ fromIndexè¿›è¡Œæœç´¢ã€‚å¦‚æœæœªæ‰¾åˆ°è¯¥å€¼ï¼Œåˆ™è¿”å›-1ã€‚

```javascript
/**
 * str.indexOf(searchValue,fromIndex)
 * @param {String} searchValue => ä¸€ä¸ªå­—ç¬¦ä¸²è¡¨ç¤ºè¢«æŸ¥æ‰¾çš„å€¼ã€‚
 * @param {String/Number} fromIndex => è¡¨ç¤ºè°ƒç”¨è¯¥æ–¹æ³•çš„å­—ç¬¦ä¸²ä¸­å¼€å§‹æŸ¥æ‰¾çš„ä½ç½®ã€‚å¯ä»¥æ˜¯ä»»æ„æ•´æ•°ã€‚é»˜è®¤å€¼ä¸º 0ã€‚å¦‚æœ fromIndex < 0 åˆ™æŸ¥æ‰¾æ•´ä¸ªå­—ç¬¦ä¸²ï¼ˆå¦‚åŒä¼ è¿›äº† 0ï¼‰ã€‚å¦‚æœ fromIndex >= str.lengthï¼Œåˆ™è¯¥æ–¹æ³•è¿”å› -1ã€‚å½“è¢«æŸ¥æ‰¾çš„å­—ç¬¦ä¸²æ˜¯ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ï¼ŒfromIndex <= 0æ—¶è¿”å›0ï¼Œ0 < fromIndex <= str.lengthæ—¶è¿”å›fromIndexï¼ŒfromIndex > str.lengthæ—¶è¿”å›str.lengthã€‚
 * ----------------------------------------------
 * è¿”å›å€¼
 * @param {Number} æŒ‡å®šå€¼çš„ç¬¬ä¸€æ¬¡å‡ºç°çš„ç´¢å¼•; å¦‚æœæ²¡æœ‰æ‰¾åˆ° -1ã€‚
 */

let str = "gating"
console.log(str.indexOf("g")) // 0
// è¿™é‡Œçš„ -1 ä¹Ÿå°± fromIndex < 0 æ—¶ï¼Œstr.indexOf("a",-1) ç­‰åŒäº str.indexOf("a",0)
console.log(str.indexOf("a",-1)) // 1
// è¿™é‡Œçš„ 8 ä¹Ÿå°± fromIndex > str.length æ—¶ï¼Œstr.indexOf("a",8) ç­‰åŒäº str.indexOf("a",6)
console.log(str.indexOf("g",8)) // -1

// åŒºåˆ†å¤§å°å†™
console.log(str.indexOf("G")) // -1 
```

å®é™…åº”ç”¨åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä½¿ç”¨ indexOf ç»Ÿè®¡ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æŸä¸ªå­—ç¬¦å‡ºç°çš„æ¬¡æ•°

```javascript
let str = "gating"

function countStr(str,value){
    let count = 0
    let pos = str.indexOf('g');
    while (pos !== -1) {
        count++;
        pos = str.indexOf('g', pos + 1);
    }
    return count
}

console.log(countStr(str,'g')) // 2
```

## lastIndexOf

lastIndexOf() æ–¹æ³•è¿”å›æŒ‡å®šå€¼åœ¨è°ƒç”¨è¯¥æ–¹æ³•çš„å­—ç¬¦ä¸²ä¸­æœ€åå‡ºç°çš„ä½ç½®ï¼Œå¦‚æœæ²¡æ‰¾åˆ°åˆ™è¿”å› -1ã€‚ä»è¯¥å­—ç¬¦ä¸²çš„åé¢å‘å‰æŸ¥æ‰¾ï¼Œä» fromIndex å¤„å¼€å§‹ã€‚

```javascript
/**
 * str.indexOf(searchValue,fromIndex)
 * @param {String} searchValue => ä¸€ä¸ªå­—ç¬¦ä¸²è¡¨ç¤ºè¢«æŸ¥æ‰¾çš„å€¼ã€‚
 * @param {String/Number} fromIndex => ä»è°ƒç”¨è¯¥æ–¹æ³•å­—ç¬¦ä¸²çš„æ­¤ä½ç½®å¤„å¼€å§‹æŸ¥æ‰¾ã€‚å¯ä»¥æ˜¯ä»»æ„æ•´æ•°ã€‚é»˜è®¤å€¼ä¸º str.lengthã€‚å¦‚æœä¸ºè´Ÿå€¼ï¼Œåˆ™è¢«çœ‹ä½œ 0ã€‚å¦‚æœ fromIndex > str.lengthï¼Œåˆ™ fromIndex è¢«çœ‹ä½œ str.lengthã€‚
 * ----------------------------------------------
 * è¿”å›å€¼
 * @param {Number} æŒ‡å®šå€¼çš„ç¬¬ä¸€æ¬¡å‡ºç°çš„ç´¢å¼•ï¼ˆä»åå¾€å‰æ•°ï¼‰; å¦‚æœæ²¡æœ‰æ‰¾åˆ° -1ã€‚
 */
let str = "gating"
console.log(str.lastIndexOf('g')) // 5
console.log(str.lastIndexOf('g',2)) // 0 
// è¿™é‡Œçš„ 8 ä¹Ÿå°± fromIndex > str.length æ—¶ï¼Œstr.lastIndexOf("a",8) ç­‰åŒäº str.lastIndexOf("a",6) ä¹Ÿå°±æ˜¯ str.lastIndexOf("a")
console.log(str.lastIndexOf('g',8)) // 5 
console.log(str.lastIndexOf('g',-1)) // -1
console.log(str.lastIndexOf('g',0)) // 0
```

## search

search() æ–¹æ³•æ‰§è¡Œæ­£åˆ™è¡¨è¾¾å¼å’Œ Stringå¯¹è±¡ä¹‹é—´çš„ä¸€ä¸ªæœç´¢åŒ¹é…ã€‚

```javascript
/**
 * str.search(regexp)
 * @param {Regexp} regexp => ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼ˆregular expressionï¼‰å¯¹è±¡ã€‚å¦‚æœä¼ å…¥ä¸€ä¸ªéæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ï¼Œåˆ™ä¼šä½¿ç”¨ new RegExp(obj) éšå¼åœ°å°†å…¶è½¬æ¢ä¸ºæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ã€‚
 * ----------------------------------------------
 * è¿”å›å€¼
 * @param {Number} å¦‚æœåŒ¹é…æˆåŠŸï¼Œåˆ™ search() è¿”å›æ­£åˆ™è¡¨è¾¾å¼åœ¨å­—ç¬¦ä¸²ä¸­é¦–æ¬¡åŒ¹é…é¡¹çš„ç´¢å¼•ã€‚å¦åˆ™ï¼Œè¿”å› -1ã€‚
 */

let str = "gating"
console.log(str.search("g")) // 0
console.log(str.search(/g/)) // 0
```


## includes

includes() æ–¹æ³•ç”¨äºåˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦åŒ…å«åœ¨å¦ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ï¼Œæ ¹æ®æƒ…å†µè¿”å› true æˆ– falseã€‚

```javascript
/**
 * str.includes(searchString,position)
 * @param {String} searchString => è¦åœ¨æ­¤å­—ç¬¦ä¸²ä¸­æœç´¢çš„å­—ç¬¦ä¸²ã€‚
 * @param {Number} position => å¯é€‰ã€‚ä»å½“å‰å­—ç¬¦ä¸²çš„å“ªä¸ªç´¢å¼•ä½ç½®å¼€å§‹æœå¯»å­å­—ç¬¦ä¸²ï¼Œé»˜è®¤å€¼ä¸º0ã€‚
 * ----------------------------------------------
 * è¿”å›å€¼
 * @param {Boolean} å¦‚æœå½“å‰å­—ç¬¦ä¸²åŒ…å«è¢«æœå¯»çš„å­—ç¬¦ä¸²ï¼Œå°±è¿”å› trueï¼›å¦åˆ™è¿”å› falseã€‚
 */
let str = "gating"
console.log(str.includes("a")) // true
console.log(str.includes("a",1)) // true
console.log(str.includes("a",2)) // false
```

> åœ¨ Firefox 18 - 39ä¸­ï¼Œè¿™ä¸ªæ–¹æ³•çš„åç§°å« contains()ã€‚ [å…·ä½“åŸå› è¯·æŸ¥çœ‹](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/includes#String.prototype.contains())


## startsWith

startsWith()æ–¹æ³•ç”¨æ¥åˆ¤æ–­å½“å‰å­—ç¬¦ä¸²æ˜¯å¦æ˜¯ä»¥å¦å¤–ä¸€ä¸ªç»™å®šçš„å­å­—ç¬¦ä¸²â€œå¼€å¤´â€çš„ï¼Œæ ¹æ®åˆ¤æ–­ç»“æœè¿”å› true æˆ– falseã€‚

```javascript
/**
 * str.startsWith(searchString,position)
 * @param {String} searchString =>è¦æœç´¢çš„å­å­—ç¬¦ä¸²ã€‚
 * @param {Number} position => åœ¨ str ä¸­æœç´¢ searchString çš„å¼€å§‹ä½ç½®ï¼Œé»˜è®¤å€¼ä¸º 0ï¼Œä¹Ÿå°±æ˜¯çœŸæ­£çš„å­—ç¬¦ä¸²å¼€å¤´å¤„ã€‚
 * ----------------------------------------------
 * è¿”å›å€¼
 * @param {Boolean} å¦‚æœå½“å‰å­—ç¬¦ä¸²ä»¥æœç´ å­—ç¬¦ä¸²å¼€å¤´ï¼Œå°±è¿”å› trueï¼›å¦åˆ™è¿”å› falseã€‚
 */

let str = "gating"
console.log(str.startsWith('g')) // true
console.log(str.startsWith('g',1)) // false
console.log(str.startsWith('g',7)) // false
```

## endsWith

endsWith()æ–¹æ³•ç”¨æ¥åˆ¤æ–­å½“å‰å­—ç¬¦ä¸²æ˜¯å¦æ˜¯ä»¥å¦å¤–ä¸€ä¸ªç»™å®šçš„å­å­—ç¬¦ä¸²â€œç»“å°¾â€çš„ï¼Œæ ¹æ®åˆ¤æ–­ç»“æœè¿”å› true æˆ– falseã€‚


```javascript
/**
 * str.endsWith(searchString,position)
 * @param {String} searchString => è¦æœç´¢çš„å­å­—ç¬¦ä¸²ã€‚
 * @param {Number} position => å¯é€‰ã€‚ä½œä¸ºstrçš„é•¿åº¦ï¼Œé»˜è®¤å€¼ä¸º str.lengthã€‚
 * ----------------------------------------------
 * è¿”å›å€¼
 * @param {Boolean}  å¦‚æœä¼ å…¥çš„å­å­—ç¬¦ä¸²åœ¨æœç´¢å­—ç¬¦ä¸²çš„æœ«å°¾å°±è¿”å›trueï¼›å¦åˆ™å°†è¿”å› false
 */

let str = "gating"
console.log(str.endsWith('g')) // true
// è¿™é‡Œ position ä¸º 2 è¡¨ç¤º str çš„å€¼å°±æ˜¯ gaï¼Œä¹Ÿå°±æ˜¯ç›¸å½“äº ga.endsWith('g')
console.log(str.endsWith('g',2)) // false
console.log(str.endsWith('g',7)) // true
```

# æˆªå–ç›¸å…³

## slice

slice() æ–¹æ³•æå–ä¸€ä¸ªå­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†ï¼Œå¹¶è¿”å›ä¸€æ–°çš„å­—ç¬¦ä¸²ã€‚

```javascript
/**
 * str.slice(beginSlice,endSlice)
 * @param {Number} beginSlice => ä»è¯¥ç´¢å¼•ï¼ˆä»¥ 0 ä¸ºåŸºæ•°ï¼‰å¤„å¼€å§‹æå–åŸå­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ã€‚å¦‚æœå€¼ä¸ºè´Ÿæ•°ï¼Œä¼šè¢«å½“åš sourceLength + beginSlice çœ‹å¾…ï¼Œè¿™é‡Œçš„sourceLength æ˜¯å­—ç¬¦ä¸²çš„é•¿åº¦ (ä¾‹å¦‚ï¼Œ å¦‚æœbeginSlice æ˜¯ -3 åˆ™çœ‹ä½œæ˜¯: sourceLength - 3)
 * @param {Number} endSlice => å¯é€‰ã€‚å¯é€‰ã€‚åœ¨è¯¥ç´¢å¼•ï¼ˆä»¥ 0 ä¸ºåŸºæ•°ï¼‰å¤„ç»“æŸæå–å­—ç¬¦ä¸²ã€‚å¦‚æœçœç•¥è¯¥å‚æ•°ï¼Œsliceä¼šä¸€ç›´æå–åˆ°å­—ç¬¦ä¸²æœ«å°¾ã€‚å¦‚æœè¯¥å‚æ•°ä¸ºè´Ÿæ•°ï¼Œåˆ™è¢«çœ‹ä½œæ˜¯ sourceLength + endSliceï¼Œè¿™é‡Œçš„ sourceLength å°±æ˜¯å­—ç¬¦ä¸²çš„é•¿åº¦(ä¾‹å¦‚ï¼Œå¦‚æœ endSlice æ˜¯ -3ï¼Œåˆ™æ˜¯, sourceLength - 3)ã€‚
 * ----------------------------------------------
 * è¿”å›å€¼
 * @param {Number}  è¿”å›ä¸€ä¸ªä»åŸå­—ç¬¦ä¸²ä¸­æå–å‡ºæ¥çš„æ–°å­—ç¬¦ä¸²
 */
let str = "gating"
console.log(str.slice(1)) // ating
// è¿™é‡Œçš„-1å®é™…ä¸Šå°±æ˜¯ (6-1) ä¹Ÿå°±æ˜¯ 5 å³ str.slice(5)
console.log(str.slice(-1)) // g

// è¿™é‡Œçš„-1å®é™…ä¸Šå°±æ˜¯ (6-1) ä¹Ÿå°±æ˜¯ 5 å³ str.slice(0,5)
console.log(str.slice(0,-1)) // gatin
console.log(str.slice(-2,-1)) // n
console.log(str.slice(-1,-2)) // ""
```

> æ³¨æ„ï¼šslice() æå–çš„æ–°å­—ç¬¦ä¸²åŒ…æ‹¬beginSliceä½†ä¸åŒ…æ‹¬ endSliceã€‚

## substr

substr() æ–¹æ³•è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ä»æŒ‡å®šä½ç½®å¼€å§‹åˆ°æŒ‡å®šå­—ç¬¦æ•°çš„å­—ç¬¦ã€‚

```javascript
/**
 * str.substr(start,length)
 * @param {Number} searchString => å¼€å§‹æå–å­—ç¬¦çš„ä½ç½®ã€‚å¦‚æœä¸ºè´Ÿå€¼ï¼Œåˆ™è¢«çœ‹ä½œ strLength + startï¼Œå…¶ä¸­ strLength ä¸ºå­—ç¬¦ä¸²çš„é•¿åº¦ï¼ˆä¾‹å¦‚ï¼Œå¦‚æœ start ä¸º -3ï¼Œåˆ™è¢«çœ‹ä½œ strLength + (-3)ï¼‰
 * @param {Number} position => å¯é€‰ã€‚æå–çš„å­—ç¬¦æ•°ã€‚é»˜è®¤æ˜¯strLength
 * ----------------------------------------------
 * è¿”å›å€¼
 * @param {String}  è¿”å›ä¸€ä¸ªä»åŸå­—ç¬¦ä¸²ä¸­æå–å‡ºæ¥çš„æ–°å­—ç¬¦ä¸²
 */

let str = "gating"
console.log(str.substr(1)) // ating
// è¿™é‡Œçš„-1å®é™…ä¸Šå°±æ˜¯ (6-1) ä¹Ÿå°±æ˜¯ 5 å³ str.slice(5)
console.log(str.substr(-1)) // g

// å› ä¸ºé•¿åº¦ä¸èƒ½å°äº0,æ‰€ä»¥è¿”å›""
console.log(str.substr(-1,-2)) // ""
```

> æ³¨æ„:åœ¨IE8ä¸‹,substr()æ–¹æ³•ä¼ é€’è´Ÿå€¼ä¼šè¿”å›åŸå§‹çš„å­—ç¬¦ä¸²,IE9ä¿®å¤äº†æ­¤BUG

## substring

substring() æ–¹æ³•è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²åœ¨å¼€å§‹ç´¢å¼•åˆ°ç»“æŸç´¢å¼•ä¹‹é—´çš„ä¸€ä¸ªå­é›†, æˆ–ä»å¼€å§‹ç´¢å¼•ç›´åˆ°å­—ç¬¦ä¸²çš„æœ«å°¾çš„ä¸€ä¸ªå­é›†ã€‚

```javascript
/**
 * str.substring(indexStart,indexEnd)
 * @param {Number} indexStart => éœ€è¦æˆªå–çš„ç¬¬ä¸€ä¸ªå­—ç¬¦çš„ç´¢å¼•ï¼Œè¯¥å­—ç¬¦ä½œä¸ºè¿”å›çš„å­—ç¬¦ä¸²çš„é¦–å­—æ¯ã€‚
 * @param {Number} indexEnd => å¯é€‰ã€‚ä¸€ä¸ª 0 åˆ°å­—ç¬¦ä¸²é•¿åº¦ä¹‹é—´çš„æ•´æ•°ï¼Œä»¥è¯¥æ•°å­—ä¸ºç´¢å¼•çš„å­—ç¬¦ä¸åŒ…å«åœ¨æˆªå–çš„å­—ç¬¦ä¸²å†…ã€‚
 * ----------------------------------------------
 * è¿”å›å€¼
 * @param {String}  åŒ…å«ç»™å®šå­—ç¬¦ä¸²çš„æŒ‡å®šéƒ¨åˆ†çš„æ–°å­—ç¬¦ä¸²ã€‚
 */
let str = "gating"
console.log(str.substring(0,3)) // gat
// å¦‚æœ indexStart å¤§äº indexEndï¼Œåˆ™ä¼šå˜æˆ str.substring(0,3)
console.log(str.substring(3,0)) // gat

// å¦‚æœä»»ä¸€å‚æ•°å°äº 0 æˆ–ä¸º NaNï¼Œåˆ™è¢«å½“ä½œ 0ã€‚
console.log(str.substring(-2,3)) // gat
console.log(str.substring(NaN,3)) // gat

console.log(str.substring(4,4)) // ""
console.log(str.substring(0)) // gating
console.log(str.substring(0,10)) // gating
```

> substring æå–ä» indexStart åˆ° indexEndï¼ˆä¸åŒ…æ‹¬ï¼‰

- å¦‚æœ indexStart ç­‰äº indexEndï¼Œsubstring è¿”å›ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ã€‚
- å¦‚æœçœç•¥ indexEndï¼Œsubstring æå–å­—ç¬¦ä¸€ç›´åˆ°å­—ç¬¦ä¸²æœ«å°¾ã€‚
- å¦‚æœä»»ä¸€å‚æ•°å°äº 0 æˆ–ä¸º NaNï¼Œåˆ™è¢«å½“ä½œ 0ã€‚
- å¦‚æœä»»ä¸€å‚æ•°å¤§äº stringName.lengthï¼Œåˆ™è¢«å½“ä½œ stringName.lengthã€‚
- å¦‚æœ indexStart å¤§äº indexEndï¼Œåˆ™ substring çš„æ‰§è¡Œæ•ˆæœå°±åƒä¸¤ä¸ªå‚æ•°è°ƒæ¢äº†ä¸€æ ·ã€‚


# è½¬æ¢å¤§å°å†™ç›¸å…³

> æ³¨æ„: toLocaleLowerCaseã€toLocaleUpperCase æŒ‰ç…§æœ¬åœ°æ–¹å¼æŠŠå­—ç¬¦ä¸²è½¬æ¢ä¸ºå°å†™ã€‚åªæœ‰å‡ ç§è¯­è¨€ï¼ˆå¦‚åœŸè€³å…¶è¯­ï¼‰å…·æœ‰åœ°æ–¹ç‰¹æœ‰çš„å¤§å°å†™æ˜ å°„ã€‚

## toLowerCase

toLowerCase() ä¼šå°†è°ƒç”¨è¯¥æ–¹æ³•çš„å­—ç¬¦ä¸²å€¼è½¬ä¸ºå°å†™å½¢å¼ï¼Œå¹¶è¿”å›ã€‚

```javascript
/**
 * str.toLowerCase()
 * ----------------------------------------------
 * è¿”å›å€¼
 * @param {String}  ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºä¸²è½¬æ¢ä¸ºå°å†™çš„è°ƒç”¨å­—ç¬¦ã€‚
 */
let str = "GATING"
console.log(str.toLowerCase()) // gating
```

## toLocaleLowerCase

toLocaleLowerCase() æ ¹æ®ä»»ä½•ç‰¹å®šäºè¯­è¨€ç¯å¢ƒçš„æ¡ˆä¾‹æ˜ å°„ï¼Œå°†è¡¨ç¤ºè°ƒç”¨å­—ç¬¦ä¸²çš„æ–°å­—ç¬¦ä¸²è½¬æ¢ä¸ºå°å†™ã€‚

```javascript
/**
 * str.toLocaleLowerCase()
 * ----------------------------------------------
 * è¿”å›å€¼
 * @param {String}  æ ¹æ®ä»»ä½•ç‰¹å®šäºè¯­è¨€ç¯å¢ƒçš„æ¡ˆä¾‹æ˜ å°„ï¼Œå°†è¡¨ç¤ºè°ƒç”¨å­—ç¬¦ä¸²çš„æ–°å­—ç¬¦ä¸²è½¬æ¢ä¸ºå°å†™ã€‚
 */
let str = "GATING"
console.log(str.toLocaleLowerCase()) // gating
```

## toUpperCase

toUpperCase() å°†è°ƒç”¨è¯¥æ–¹æ³•çš„å­—ç¬¦ä¸²å€¼è½¬æ¢ä¸ºå¤§å†™å½¢å¼ï¼Œå¹¶è¿”å›ã€‚

```javascript
/**
 * str.toUpperCase()
 * ----------------------------------------------
 * è¿”å›å€¼
 * @param {String}  å°†è°ƒç”¨è¯¥æ–¹æ³•çš„å­—ç¬¦ä¸²å€¼è½¬æ¢ä¸ºå¤§å†™å½¢å¼
 */
let str = "gating"
console.log(str.toUpperCase()) // GATING
```


## toLocaleUpperCase

toLocaleUpperCase() å°†è°ƒç”¨è¯¥æ–¹æ³•çš„å­—ç¬¦ä¸²å€¼è½¬æ¢ä¸ºå¤§å†™å½¢å¼ï¼Œå¹¶è¿”å›ã€‚

```javascript
/**
 * str.toLocaleUpperCase()
 * ----------------------------------------------
 * è¿”å›å€¼
 * @param {String}  ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œå³æ ¹æ®æœ¬åœ°åŒ–çš„å¤§å°å†™æ˜ å°„è§„åˆ™å°†è¾“å…¥çš„å­—ç¬¦ä¸²è½¬åŒ–æˆå¤§å†™å½¢å¼çš„ç»“æœã€‚
 */
let str = "gating"
console.log(str.toLocaleUpperCase()) // GATING
```

# åˆ é™¤ç©ºç™½å­—ç¬¦ç›¸å…³

## trim

trim() æ–¹æ³•ä¼šä»ä¸€ä¸ªå­—ç¬¦ä¸²çš„ä¸¤ç«¯åˆ é™¤ç©ºç™½å­—ç¬¦ã€‚åœ¨è¿™ä¸ªä¸Šä¸‹æ–‡ä¸­çš„ç©ºç™½å­—ç¬¦æ˜¯æ‰€æœ‰çš„ç©ºç™½å­—ç¬¦ (space, tab, no-break space ç­‰) ä»¥åŠæ‰€æœ‰è¡Œç»ˆæ­¢ç¬¦å­—ç¬¦ï¼ˆå¦‚ LFï¼ŒCRï¼‰

```javascript
/**
 * str.trim()
 * ----------------------------------------------
 * è¿”å›å€¼
 * @param {String}  è¿”å›æ–¹æ³•ç§»é™¤åŸå­—ç¬¦ä¸²ä¸¤ç«¯ç«¯çš„è¿ç»­ç©ºç™½ç¬¦
 */
let str = "   gating   "
console.log(str.trim()) // "gating"
```

## trimRight

trimRight() æ–¹æ³•ä»ä¸€ä¸ªå­—ç¬¦ä¸²çš„å³ç«¯ç§»é™¤ç©ºç™½å­—ç¬¦ã€‚

```javascript
/**
 * str.trimRight()
 * ----------------------------------------------
 * è¿”å›å€¼
 * @param {String}  è¿”å›æ–¹æ³•ç§»é™¤åŸå­—ç¬¦ä¸²å³ç«¯çš„è¿ç»­ç©ºç™½ç¬¦
 */
let str = "gating   "
console.log(str.trimRight()) // "gating"

// å…¼å®¹ç”Ÿäº§ç¯å¢ƒ
const trimRight = (str)=> str.replace(/(\s*$)/g, "")
```

> è¯¥ç‰¹æ€§æ˜¯éæ ‡å‡†çš„ï¼Œè¯·å°½é‡ä¸è¦åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨å®ƒï¼

## trimLeft

trimLeft() æ–¹æ³•ä»ä¸€ä¸ªå­—ç¬¦ä¸²çš„å·¦ç«¯ç§»é™¤ç©ºç™½å­—ç¬¦ã€‚

```javascript
/**
 * str.trimLeft()
 * ----------------------------------------------
 * è¿”å›å€¼
 * @param {String}  è¿”å›æ–¹æ³•ç§»é™¤åŸå­—ç¬¦ä¸²å·¦ç«¯çš„è¿ç»­ç©ºç™½ç¬¦
 */
let str = "  gating"
console.log(str.trimLeft()) // "gating"

// å…¼å®¹ç”Ÿäº§ç¯å¢ƒ
const trimLeft = (str)=> str.replace(/(^\s*)/g, "")
```

> è¯¥ç‰¹æ€§æ˜¯éæ ‡å‡†çš„ï¼Œè¯·å°½é‡ä¸è¦åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨å®ƒï¼


# ä¸¤ä¸ªä¸çŸ¥åçš„æ–¹æ³•

## toString

toString() æ–¹æ³•è¿”å›æŒ‡å®šå¯¹è±¡çš„å­—ç¬¦ä¸²å½¢å¼ã€‚

String å¯¹è±¡è¦†ç›–äº†Object å¯¹è±¡çš„ toString æ–¹æ³•ï¼›å¹¶æ²¡æœ‰ç»§æ‰¿ Object.toString()ã€‚å¯¹äº String å¯¹è±¡ï¼ŒtoString æ–¹æ³•è¿”å›è¯¥å¯¹è±¡çš„å­—ç¬¦ä¸²å½¢å¼ï¼Œå’Œ String.prototype.valueOf() æ–¹æ³•è¿”å›å€¼ä¸€æ ·

```javascript
/**
 * str.toString()
 * ----------------------------------------------
 * è¿”å›å€¼
 * @param {String}  è¿”å›æŒ‡å®šå¯¹è±¡çš„å­—ç¬¦ä¸²å½¢å¼
 */

let str = new String("gating");
console.log(str.toString()) // gating
```

## valueOf

valueOf() æ–¹æ³•è¿”å›ä¸€ä¸ªStringå¯¹è±¡çš„åŸå§‹å€¼ï¼ˆprimitive valueï¼‰ã€‚

String å¯¹è±¡çš„ valueOf æ–¹æ³•è¿”å›ä¸€ä¸ªStringå¯¹è±¡çš„åŸå§‹å€¼ã€‚è¯¥å€¼ç­‰åŒäºString.prototype.toString()ã€‚

è¯¥æ–¹æ³•é€šå¸¸åœ¨ JavaScript å†…éƒ¨è¢«è°ƒç”¨ï¼Œè€Œä¸æ˜¯åœ¨ä»£ç é‡Œæ˜¾ç¤ºè°ƒç”¨ã€‚


```javascript
/**
 * str.valueOf()
 * ----------------------------------------------
 * è¿”å›å€¼
 * @param {String}  è¿”å›æŒ‡å®šå¯¹è±¡çš„å­—ç¬¦ä¸²å½¢å¼
 */

let str = new String("gating");
console.log(str.valueOf()) // gating
```

# æ’åºç›¸å…³

## localeCompare

localeCompare() æ–¹æ³•è¿”å›ä¸€ä¸ªæ•°å­—æ¥æŒ‡ç¤ºä¸€ä¸ªå‚è€ƒå­—ç¬¦ä¸²æ˜¯å¦åœ¨æ’åºé¡ºåºå‰é¢æˆ–ä¹‹åæˆ–ä¸ç»™å®šå­—ç¬¦ä¸²ç›¸åŒã€‚

æ–°çš„ locales ã€ options å‚æ•°èƒ½è®©åº”ç”¨ç¨‹åºå®šåˆ¶å‡½æ•°çš„è¡Œä¸ºå³æŒ‡å®šç”¨æ¥æ’åºçš„è¯­è¨€ã€‚  locales å’Œ options å‚æ•°æ˜¯ä¾èµ–äºå…·ä½“å®ç°çš„ï¼Œåœ¨æ—§çš„å®ç°ä¸­è¿™ä¸¤ä¸ªå‚æ•°æ˜¯å®Œå…¨è¢«å¿½ç•¥çš„ã€‚

```javascript
/**
 * str.localeCompare(compareString,locales,options)
 * @param {String} compareString => ç”¨æ¥æ¯”è¾ƒçš„å­—ç¬¦ä¸²
 * @param {locales} locales => å¯é€‰ã€‚ç”¨æ¥è¡¨ç¤ºä¸€ç§æˆ–å¤šç§è¯­è¨€æˆ–åŒºåŸŸçš„ä¸€ä¸ªç¬¦åˆ BCP 47 æ ‡å‡†çš„å­—ç¬¦ä¸²æˆ–ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ã€‚localeså‚æ•°çš„ä¸€èˆ¬å½¢å¼ä¸è§£é‡Šï¼Œ è¯¦æƒ…è¯·å‚è€ƒ MDN
 * @param {options} options => å¯é€‰ã€‚ æ”¯æŒä¸‹åˆ—çš„ä¸€äº›æˆ–å…¨éƒ¨å±æ€§çš„ä¸€ä¸ªå¯¹è±¡: è¯¦æƒ…è¯·å‚è€ƒ MDN
 * ----------------------------------------------
 * è¿”å›å€¼
 * @param {String}  å¦‚æœå¼•ç”¨å­—ç¬¦å­˜åœ¨äºæ¯”è¾ƒå­—ç¬¦ä¹‹å‰åˆ™ä¸ºè´Ÿæ•°; å¦‚æœå¼•ç”¨å­—ç¬¦å­˜åœ¨äºæ¯”è¾ƒå­—ç¬¦ä¹‹ååˆ™ä¸ºæ­£æ•°; ç›¸ç­‰çš„æ—¶å€™è¿”å› 0 .ä¸åŒæµè§ˆå™¨ä¹‹é—´ï¼ˆä»¥åŠä¸åŒæµè§ˆå™¨ç‰ˆæœ¬ä¹‹é—´ï¼‰è¿”å›çš„æ­£è´Ÿæ•°çš„å€¼å„æœ‰ä¸åŒ
 */

let str = "b"
console.log(str.localeCompare("b")) // 0
console.log(str.localeCompare("a")) // 1
console.log(str.localeCompare("c")) // -1

```

å®é™…ä¸Šï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ localeCompare å®ç°ä¸­æ–‡æ’åºäº†ã€‚

```javascript
let arr = ["åŒ—äº¬","ä¸Šæµ·","æ·±åœ³","å¹¿å·"]
let res1 = arr.sort((a,b)=>a-b)
// ä¼ ç»Ÿçš„æ’åºæ–¹æ³•ï¼Œä½ ä¼šå‘ç°é¡ºåºæ˜¯æœ‰é—®é¢˜çš„
console.log(res1) //Â ["åŒ—äº¬", "ä¸Šæµ·", "å¹¿å·", "æ·±åœ³"]

// é€šè¿‡ localeCompare æˆ‘ä»¬å°±å®ç°äº†ä¸­æ–‡çš„æ’åºäº†
let res2 = arr.sort((a,b)=>a.localeCompare(String(b)))
console.log(res2) // ["åŒ—äº¬", "å¹¿å·", "ä¸Šæµ·", "æ·±åœ³"]

// ä½†æ˜¯å…¶å®è¿™ä¸ªè¿˜æ˜¯æ²¡æœ‰å®ç°æˆ‘ä»¬çš„éœ€æ±‚ï¼Œå‡è®¾æˆ‘ä»¬ æ•°ç»„æ—¢æœ‰æ•°å­—ã€è‹±æ–‡ã€ä¸­æ–‡ã€ç‰¹æ®Šç¬¦å·çš„è¯ï¼Œæˆ‘ä»¬çš„æ’åºå°±ä¸èƒ½è¿™ä¹ˆç®€å•çš„æ’åºäº†
let myData = ["åŒ—äº¬","ä¸Šæµ·","æ·±åœ³","å¹¿å·",null,undefined,10,2,"apple","bird","banana"]
let result = myData.sort(function(a,b){
    var r = a - b;
    if(isNaN(r)){
        r = String(a).localeCompare(String(b));
    };
    return r;
})
console.log(result)
```

> [localeCompareæ–¹æ³•ï¼Œååˆ†å»ºè®®çœ‹çœ‹MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/localeCompare)ï¼Œå› ä¸ºæˆ‘å®åœ¨å¤ªèœäº† â”­â”®ï¹â”­â”®

å½“æ¯”è¾ƒå¤§é‡å­—ç¬¦ä¸²æ—¶ï¼Œ æ¯”å¦‚æ¯”è¾ƒå¤§é‡æ•°ç»„æ—¶ï¼Œ æœ€å¥½åˆ›å»ºä¸€ä¸ª `[Intl.Collator](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Collator)` å¯¹è±¡å¹¶ä½¿ç”¨compare å±æ€§æ‰€æä¾›çš„å‡½æ•°ã€‚

``` javascript
// Intl.Collator æ˜¯ç”¨äºè¯­è¨€æ•æ„Ÿå­—ç¬¦ä¸²æ¯”è¾ƒçš„ collatorsæ„é€ å‡½æ•°ã€‚
function letterSort(lang, letters) {
  letters.sort(new Intl.Collator(lang).compare)
  return letters;
}

// å…·ä½“è¯·çœ‹ä¸Šé¢ MDN çš„è¯´æ˜
console.log(letterSort('de', ['a','z','Ã¤'])) // ["a", "Ã¤", "z"]
console.log(letterSort('sv', ['a','z','Ã¤'])) // ["a", "z", "Ã¤"]
```


# æ–‡ä¸­æŸäº›çŸ¥è¯†ç‚¹å‚è€ƒé“¾æ¥

[é˜®è€å¸ˆçš„es6å…¥é—¨ï¼Œå­—ç¬¦ä¸²çš„æ‰©å±• æ¨èï¼](http://es6.ruanyifeng.com/#docs/string)

[localeCompareæ–¹æ³•ï¼Œååˆ†å»ºè®®çœ‹çœ‹MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/localeCompare)

[Intl.Collator](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Collator)

[Array.sorté«˜çº§ç”¨æ³•](https://github.com/sunmaobin/sunmaobin.github.io/issues/43)

[JavaScript æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…æ±‰å­—](https://zhuanlan.zhihu.com/p/33335629)

[æ­£åˆ™è¡¨è¾¾å¼30åˆ†é’Ÿå…¥é—¨æ•™ç¨‹ æ¨è](http://deerchao.net/tutorials/regex/regex.htm)

# æ€»ç»“

è¿™é‡Œæˆ‘å°±ä¸åšæ€»ç»“äº†ï¼Œç•™ä¸ªå°ä½œä¸šç»™å„ä½è§‚ä¼—è€çˆ·ï¼Œè‡ªå·±æ€»ç»“ä¸‹å’¯

æœ€åï¼Œæ„Ÿè°¢å„ä½è§‚ä¼—è€çˆ·è§‚çœ‹å•¦O(âˆ©_âˆ©)O