<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5"><title>JS中有趣的内置对象-JSON | 磨蹭先生</title><meta name="description" content="在以前的web开发中，我们多数选择纯文本或XML作为我们的提交的数据格式，大多数是XML，少数纯文本。其实从AJAX(Asynchronous JavaScript and XML)的命名我们也知道，数据交换是大多数通过XML格式进行的。"><meta name="keywords" content="javascript"><meta name="author" content="gating"><meta name="copyright" content="gating"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/GATING/blog_imgs@master/blog/favicon.ico"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="https://hm.baidu.com"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="JS中有趣的内置对象-JSON"><meta name="twitter:description" content="在以前的web开发中，我们多数选择纯文本或XML作为我们的提交的数据格式，大多数是XML，少数纯文本。其实从AJAX(Asynchronous JavaScript and XML)的命名我们也知道，数据交换是大多数通过XML格式进行的。"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png"><meta property="og:type" content="article"><meta property="og:title" content="JS中有趣的内置对象-JSON"><meta property="og:url" content="https://gatings.cn/2020-09-08/JS%E4%B8%AD%E6%9C%89%E8%B6%A3%E7%9A%84%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1-JSON/"><meta property="og:site_name" content="磨蹭先生"><meta property="og:description" content="在以前的web开发中，我们多数选择纯文本或XML作为我们的提交的数据格式，大多数是XML，少数纯文本。其实从AJAX(Asynchronous JavaScript and XML)的命名我们也知道，数据交换是大多数通过XML格式进行的。"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>const autoChangeMode="1";var t=Cookies.get("theme");{const e=window.matchMedia("(prefers-color-scheme: dark)").matches,o=window.matchMedia("(prefers-color-scheme: light)").matches,a=window.matchMedia("(prefers-color-scheme: no-preference)").matches,c=!e&&!o&&!a;void 0===t?o?activateLightMode():e?activateDarkMode():(a||c)&&(console.log("You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time."),now=new Date,hour=now.getHours(),isNight=hour<6||hour>=18,isNight?activateDarkMode():activateLightMode()):"light"==t?activateLightMode():activateDarkMode()}function activateDarkMode(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#000")}function activateLightMode(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#fff")}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css"><link rel="canonical" href="https://gatings.cn/2020-09-08/JS%E4%B8%AD%E6%9C%89%E8%B6%A3%E7%9A%84%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1-JSON/"><link rel="prev" title="Vue+Antd搭配百度地图实现搜索定位等功能" href="https://gatings.cn/2020-11-03/Vue+Antd%E6%90%AD%E9%85%8D%E7%99%BE%E5%BA%A6%E5%9C%B0%E5%9B%BE%E5%AE%9E%E7%8E%B0%E6%90%9C%E7%B4%A2%E5%AE%9A%E4%BD%8D%E7%AD%89%E5%8A%9F%E8%83%BD/"><link rel="next" title="node实现文件属性批量修改(文件名)" href="https://gatings.cn/2020-07-05/node%E5%AE%9E%E7%8E%B0%E6%96%87%E4%BB%B6%E5%B1%9E%E6%80%A7%E6%89%B9%E9%87%8F%E4%BF%AE%E6%94%B9(%E6%96%87%E4%BB%B6%E5%90%8D)/"><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?914d8fcbdf614fcc92017b47706d7bee";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"search.xml",languages:{hits_empty:"找不到您查询的内容:${query}"}},translate:{defaultEncoding:2,translateDelay:0,cookieDomain:"https://gatings.cn/",msgToTraditionalChinese:"繁",msgToSimplifiedChinese:"简"},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},bookmark:{title:"Snackbar.bookmark.title",message_prev:"按",message_next:"键将本页加入书签"},runtime_unit:"天",runtime:!0,copyright:void 0,ClickShowText:void 0,medium_zoom:!0,fancybox:!0,Snackbar:{bookmark:{title:"Snackbar.bookmark.title",message_prev:"按",message_next:"键将本页加入书签"},chs_to_cht:"你已切换为繁体",cht_to_chs:"你已切换为简体",day_to_night:"你已切换为深色模式",night_to_day:"你已切换为浅色模式",bgLight:"#49b1f5",bgDark:"#2d3035",position:"bottom-left"},baiduPush:!0,isHome:!1,isPost:!0}</script><meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="磨蹭先生" type="application/atom+xml">
</head><body><header><div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">磨蹭先生</a></span><span class="toggle-menu pull_right close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div></span><span class="pull_right" id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> 搜索</span></a></span></div></header><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="https://cdn.jsdelivr.net/gh/GATING/blog_imgs@master/blog/avatar.png" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">38</div></a></div></div><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">18</div></a></div></div><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">8</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">目录</div><div class="sidebar-toc__content"><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#前言"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">前言</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#JavaScript-与-JSON-的区别"><span class="toc_mobile_items-number">2.</span> <span class="toc_mobile_items-text">JavaScript 与 JSON 的区别</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#stringify"><span class="toc_mobile_items-number">3.</span> <span class="toc_mobile_items-text">stringify</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#value参数"><span class="toc_mobile_items-number">3.1.</span> <span class="toc_mobile_items-text">value参数</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#NaN-和-Infinity-格式的数值及-null-都会被当做-null"><span class="toc_mobile_items-number">3.1.1.</span> <span class="toc_mobile_items-text">NaN 和 Infinity 格式的数值及 null 都会被当做 null</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#undefined、任意的函数以及-symbol-值的处理"><span class="toc_mobile_items-number">3.1.2.</span> <span class="toc_mobile_items-text">undefined、任意的函数以及 symbol 值的处理</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#出现在非数组对象的属性值中时，在序列化过程中会被忽略"><span class="toc_mobile_items-number">3.1.2.1.</span> <span class="toc_mobile_items-text">出现在非数组对象的属性值中时，在序列化过程中会被忽略</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#出现在数组中时被转换成null"><span class="toc_mobile_items-number">3.1.2.2.</span> <span class="toc_mobile_items-text">出现在数组中时被转换成null</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#单独出现则会返回undefined"><span class="toc_mobile_items-number">3.1.2.3.</span> <span class="toc_mobile_items-text">单独出现则会返回undefined</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#所有以-symbol-为属性键的属性都会被完全忽略掉，即便-replacer-参数中强制指定包含了它们。"><span class="toc_mobile_items-number">3.1.3.</span> <span class="toc_mobile_items-text">所有以 symbol 为属性键的属性都会被完全忽略掉，即便 replacer 参数中强制指定包含了它们。</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#转换值如果有-toJSON-方法，该方法定义什么值将被序列化。"><span class="toc_mobile_items-number">3.1.4.</span> <span class="toc_mobile_items-text">转换值如果有 toJSON() 方法，该方法定义什么值将被序列化。</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#其他类型的对象，仅会序列化对象可枚举的属性，包括-Map-Set-WeakMap-WeakSet"><span class="toc_mobile_items-number">3.1.5.</span> <span class="toc_mobile_items-text">其他类型的对象，仅会序列化对象可枚举的属性，包括 Map&#x2F;Set&#x2F;WeakMap&#x2F;WeakSet</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#replacer参数"><span class="toc_mobile_items-number">3.2.</span> <span class="toc_mobile_items-text">replacer参数</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#作为函数"><span class="toc_mobile_items-number">3.2.1.</span> <span class="toc_mobile_items-text">作为函数</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#replacer——数字Double"><span class="toc_mobile_items-number">3.2.1.1.</span> <span class="toc_mobile_items-text">replacer——数字Double</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#replacer——剔除不要的属性"><span class="toc_mobile_items-number">3.2.1.2.</span> <span class="toc_mobile_items-text">replacer——剔除不要的属性</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#作为数组"><span class="toc_mobile_items-number">3.2.2.</span> <span class="toc_mobile_items-text">作为数组</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#space参数"><span class="toc_mobile_items-number">3.3.</span> <span class="toc_mobile_items-text">space参数</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#使用数字"><span class="toc_mobile_items-number">3.3.1.</span> <span class="toc_mobile_items-text">使用数字</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#使用字符串"><span class="toc_mobile_items-number">3.3.2.</span> <span class="toc_mobile_items-text">使用字符串</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#使用制表符（-t）来缩进"><span class="toc_mobile_items-number">3.3.3.</span> <span class="toc_mobile_items-text">使用制表符（\t）来缩进</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#总结"><span class="toc_mobile_items-number">3.4.</span> <span class="toc_mobile_items-text">总结</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#parse"><span class="toc_mobile_items-number">4.</span> <span class="toc_mobile_items-text">parse</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#text参数"><span class="toc_mobile_items-number">4.1.</span> <span class="toc_mobile_items-text">text参数</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#reviver参数"><span class="toc_mobile_items-number">4.2.</span> <span class="toc_mobile_items-text">reviver参数</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#参考链接"><span class="toc_mobile_items-number">5.</span> <span class="toc_mobile_items-text">参考链接</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#最后"><span class="toc_mobile_items-number">6.</span> <span class="toc_mobile_items-text">最后</span></a></li></ol></div></div></div><div id="body-wrap"><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#前言"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#JavaScript-与-JSON-的区别"><span class="toc-number">2.</span> <span class="toc-text">JavaScript 与 JSON 的区别</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#stringify"><span class="toc-number">3.</span> <span class="toc-text">stringify</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#value参数"><span class="toc-number">3.1.</span> <span class="toc-text">value参数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#NaN-和-Infinity-格式的数值及-null-都会被当做-null"><span class="toc-number">3.1.1.</span> <span class="toc-text">NaN 和 Infinity 格式的数值及 null 都会被当做 null</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#undefined、任意的函数以及-symbol-值的处理"><span class="toc-number">3.1.2.</span> <span class="toc-text">undefined、任意的函数以及 symbol 值的处理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#出现在非数组对象的属性值中时，在序列化过程中会被忽略"><span class="toc-number">3.1.2.1.</span> <span class="toc-text">出现在非数组对象的属性值中时，在序列化过程中会被忽略</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#出现在数组中时被转换成null"><span class="toc-number">3.1.2.2.</span> <span class="toc-text">出现在数组中时被转换成null</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#单独出现则会返回undefined"><span class="toc-number">3.1.2.3.</span> <span class="toc-text">单独出现则会返回undefined</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#所有以-symbol-为属性键的属性都会被完全忽略掉，即便-replacer-参数中强制指定包含了它们。"><span class="toc-number">3.1.3.</span> <span class="toc-text">所有以 symbol 为属性键的属性都会被完全忽略掉，即便 replacer 参数中强制指定包含了它们。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#转换值如果有-toJSON-方法，该方法定义什么值将被序列化。"><span class="toc-number">3.1.4.</span> <span class="toc-text">转换值如果有 toJSON() 方法，该方法定义什么值将被序列化。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#其他类型的对象，仅会序列化对象可枚举的属性，包括-Map-Set-WeakMap-WeakSet"><span class="toc-number">3.1.5.</span> <span class="toc-text">其他类型的对象，仅会序列化对象可枚举的属性，包括 Map&#x2F;Set&#x2F;WeakMap&#x2F;WeakSet</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#replacer参数"><span class="toc-number">3.2.</span> <span class="toc-text">replacer参数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#作为函数"><span class="toc-number">3.2.1.</span> <span class="toc-text">作为函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#replacer——数字Double"><span class="toc-number">3.2.1.1.</span> <span class="toc-text">replacer——数字Double</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#replacer——剔除不要的属性"><span class="toc-number">3.2.1.2.</span> <span class="toc-text">replacer——剔除不要的属性</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#作为数组"><span class="toc-number">3.2.2.</span> <span class="toc-text">作为数组</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#space参数"><span class="toc-number">3.3.</span> <span class="toc-text">space参数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#使用数字"><span class="toc-number">3.3.1.</span> <span class="toc-text">使用数字</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用字符串"><span class="toc-number">3.3.2.</span> <span class="toc-text">使用字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用制表符（-t）来缩进"><span class="toc-number">3.3.3.</span> <span class="toc-text">使用制表符（\t）来缩进</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#总结"><span class="toc-number">3.4.</span> <span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#parse"><span class="toc-number">4.</span> <span class="toc-text">parse</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#text参数"><span class="toc-number">4.1.</span> <span class="toc-text">text参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#reviver参数"><span class="toc-number">4.2.</span> <span class="toc-text">reviver参数</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#参考链接"><span class="toc-number">5.</span> <span class="toc-text">参考链接</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#最后"><span class="toc-number">6.</span> <span class="toc-text">最后</span></a></li></ol></div></div></div><main id="content-outer"><div id="top-container" style="background-image:url(https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png)"><div id="post-info"><div id="post-title"><div class="posttitle">JS中有趣的内置对象-JSON</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 发表于 2020-09-08<span class="post-meta__separator">|</span><i class="fa fa-history fa-fw" aria-hidden="true"></i> 更新于 2020-11-03</time><span class="post-meta__separator">|</span><span><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/%E8%AE%B0%E5%BD%95/">记录</a></span><div class="post-meta-wordcount"><i class="fa fa-file-word-o post-meta__icon fa-fw" aria-hidden="true"></i><span>字数总计:</span><span class="word-count">3.3k</span><span class="post-meta__separator">|</span><i class="fa fa-clock-o post-meta__icon fa-fw" aria-hidden="true"></i><span>阅读时长: 12 分钟</span><div class="post-meta-pv-cv"><span class="post-meta__separator">|</span><span><i class="fa fa-eye post-meta__icon fa-fw" aria-hidden="true"> </i>阅读量:</span><span id="busuanzi_value_page_pv"></span></div></div></div></div></div><div class="layout layout_post" id="content-inner"><article id="post"><div class="article-container" id="post-content"><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>在以前的<code>web开发中</code>，我们多数选择<code>纯文本</code>或<code>XML</code>作为我们的提交的数据格式，大多数是<code>XML</code>，少数<code>纯文本</code>。其实从<code>AJAX(Asynchronous JavaScript and XML)</code>的命名我们也知道，数据交换是大多数通过<code>XML</code>格式进行的。但是<code>XML</code>格式有一个缺点，就是文档构造复杂，需要传输比较多的字节数，并且解析起来也比较麻烦。所以就创建了<code>JSON</code>这种数据描述格式，可以很简单的就描述很复杂的数据。同时独立于语言，这样就可以在多种语言内使用。也正是因为这个，<code>JSON</code>的轻便性逐渐得到重视，后来替代<code>XML</code>成为最主要的数据传输格式。</p><blockquote><p>ps: 当然，虽然说了很多<code>JSON</code>的好处，你就以为不用学习<code>XML</code>了吗？肯定不是啦，微信公共平台接口中的有是有相当一部分接口使用了<code>XML</code>的。</p></blockquote><p><code>JSON</code>对象包含两个方法: 用于解析 <a href="https://www.json.org/json-en.html" target="_blank" rel="noopener">JavaScript Object Notation</a> (<a href="https://developer.mozilla.org/zh-CN/docs/Glossary/JSON" target="_blank" rel="noopener">JSON</a>) 的 parse() 方法，以及将对象/值转换为 JSON 字符串的 stringify() 方法。除了这两个方法, JSON 这个对象本身并没有其他作用，也不能被调用或者作为构造函数调用。</p><blockquote><p>ps: <a href="http://timelessrepo.com/json-isnt-a-javascript-subset" target="_blank" rel="noopener">JSON：并不是 JavaScript 的子集。</a>尽管不是严格意义上的子集，JSON 非常接近 JavaScript 语法的子集。</p></blockquote><h1 id="JavaScript-与-JSON-的区别"><a href="#JavaScript-与-JSON-的区别" class="headerlink" title="JavaScript 与 JSON 的区别"></a>JavaScript 与 JSON 的区别</h1><table><thead><tr><th>JavaScript类型</th><th>JSON 的不同点</th></tr></thead><tbody><tr><td>对象和数组</td><td>属性名称必须是双引号括起来的字符串；最后一个属性后不能有逗号。</td></tr><tr><td>数值</td><td>禁止出现前导零（JSON.stringify 方法自动忽略前导零，而在 JSON.parse 方法中将会抛出 SyntaxError）；如果有小数点, 则后面至少跟着一位数字。</td></tr></tbody></table><p>针对于这两点，我们举个例子，对于对象和数组类型：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 属性名称必须是双引号括起来的字符串</span></span><br><span class="line"><span class="keyword">const</span> test1 = <span class="string">"['1','1']"</span></span><br><span class="line"><span class="built_in">JSON</span>.parse(test1) <span class="comment">// Uncaught SyntaxError: Unexpected token ' in JSON at position 1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> test2 = <span class="string">"&#123;'name':'gating'&#125;"</span></span><br><span class="line"><span class="built_in">JSON</span>.parse(test2) <span class="comment">// Uncaught SyntaxError: Unexpected token o in JSON at position 1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> test3 = <span class="string">'["2","1"]'</span></span><br><span class="line"><span class="built_in">JSON</span>.parse(test3) <span class="comment">// ["2","1"]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> test4 = <span class="string">'&#123;"name":"gating"&#125;'</span></span><br><span class="line"><span class="built_in">JSON</span>.parse(test3) <span class="comment">// &#123;name: "gating"&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 最后一个属性后不能有逗号</span></span><br><span class="line"><span class="keyword">const</span> test5 = <span class="string">'["2","1",]'</span></span><br><span class="line"><span class="built_in">JSON</span>.parse(test5) <span class="comment">// Uncaught SyntaxError: Unexpected token ] in JSON at position 9</span></span><br><span class="line"><span class="keyword">const</span> test6 = <span class="string">'&#123;"name":"gating",&#125;'</span></span><br><span class="line"><span class="built_in">JSON</span>.parse(test6) <span class="comment">// Uncaught SyntaxError: Unexpected token &#125; in JSON at position 17</span></span><br></pre></td></tr></table></figure></div><p>对于数值类型：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 禁止出现前导零</span></span><br><span class="line"><span class="keyword">const</span> test7 = [<span class="number">00010</span>, <span class="number">1</span>]</span><br><span class="line"><span class="built_in">JSON</span>.stringify(test7) <span class="comment">// "[8,1]"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> test8 = <span class="string">"[00010, 1]"</span></span><br><span class="line"><span class="built_in">JSON</span>.parse(test8) <span class="comment">// SyntaxError: Unexpected number in JSON at position 2**</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 如果有小数点，则后面至少跟着一位数字。</span></span><br><span class="line"><span class="keyword">const</span> test9 = [<span class="number">1</span>, <span class="number">1.</span>]</span><br><span class="line"><span class="built_in">JSON</span>.stringify(test9) <span class="comment">// "[1,1]"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> test10 = <span class="string">"[1, 1.]"</span></span><br><span class="line"><span class="built_in">JSON</span>.parse(test10) <span class="comment">// Uncaught SyntaxError: Unexpected token ] in JSON at position 6</span></span><br></pre></td></tr></table></figure></div><blockquote><p>ps: <strong>0+数字</strong>表示8进制，- -所以上面打印出来的是8，同样的有：<strong>0b+数字(二进制)</strong>、<strong>0x+数字(16进制)</strong>，其实<strong>0o+数字</strong>也可以表示8进制</p></blockquote><p>其实还有一个字符串类型，<strong>JavaScript</strong>和<strong>JSON</strong>处理是不一致的，这里为啥我只写两点呢？是因为还有现在在新版的<strong>Chrome</strong>已经可以解析正常，但是想具体可以查看下面<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/JSON" target="_blank" rel="noopener">参考链接</a>自行了解，这里就不展开了</p><blockquote><p>参考：<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/JSON" target="_blank" rel="noopener">JavaScript 与 JSON 的区别</a>，字符串那一点我在<strong>Chrome 85.0.4183.83</strong>以及可以正常解析</p></blockquote><h1 id="stringify"><a href="#stringify" class="headerlink" title="stringify"></a>stringify</h1><p>stringify() 方法用于将<code>JavaScript</code>值转换为<code>JSON</code>字符串。</p><p>虽然我们经常用这个方法，但我想估计有不少人不知道它居然有三个参数之多吧？分别是<code>value</code>、<code>replacer</code>、<code>space</code>。</p><blockquote><p>JSON.stringify(value[, replacer [, space]])</p></blockquote><ul><li>value<ul><li>将要序列化成 一个 JSON 字符串的值。</li></ul></li><li>replacer <code>可选</code><ul><li>如果该参数是一个<strong>函数</strong>，则在序列化过程中，被序列化的值的每个属性都会经过该函数的转换和处理；如果该参数是一个<strong>数组</strong>，则只有包含在这个数组中的属性名才会被序列化到最终的 JSON 字符串中；如果该参数为 <strong>null</strong> 或者未提供，则对象所有的属性都会被序列化。</li></ul></li><li>space <code>可选</code><ul><li>指定缩进用的空白字符串，用于美化输出（pretty-print）；如果参数是个数字，它代表有多少的空格；上限为10。该值若小于1，则意味着没有空格；如果该参数为字符串（当字符串长度超过10个字母，取其前10个字母），该字符串将被作为空格；如果该参数没有提供（或者为 null），将没有空格。</li></ul></li></ul><h2 id="value参数"><a href="#value参数" class="headerlink" title="value参数"></a>value参数</h2><p>通常我们最常用的就是第一个参数，也就是value参数，但是你知道它的运算规则是怎么样的吗？闲话不多说，直接上例子</p><h3 id="NaN-和-Infinity-格式的数值及-null-都会被当做-null"><a href="#NaN-和-Infinity-格式的数值及-null-都会被当做-null" class="headerlink" title="NaN 和 Infinity 格式的数值及 null 都会被当做 null"></a>NaN 和 Infinity 格式的数值及 null 都会被当做 null</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">JSON</span>.stringify([<span class="literal">NaN</span>, <span class="literal">Infinity</span>, <span class="literal">null</span>]) <span class="comment">// [null,null,null]</span></span><br></pre></td></tr></table></figure></div><h3 id="undefined、任意的函数以及-symbol-值的处理"><a href="#undefined、任意的函数以及-symbol-值的处理" class="headerlink" title="undefined、任意的函数以及 symbol 值的处理"></a>undefined、任意的函数以及 symbol 值的处理</h3><h4 id="出现在非数组对象的属性值中时，在序列化过程中会被忽略"><a href="#出现在非数组对象的属性值中时，在序列化过程中会被忽略" class="headerlink" title="出现在非数组对象的属性值中时，在序列化过程中会被忽略"></a>出现在非数组对象的属性值中时，在序列化过程中会被忽略</h4><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">JSON</span>.stringify(&#123;<span class="attr">x</span>: <span class="literal">undefined</span>, <span class="attr">y</span>: <span class="built_in">Object</span>, <span class="attr">z</span>: <span class="built_in">Symbol</span>(<span class="string">""</span>)&#125;) <span class="comment">// "&#123;&#125;"</span></span><br></pre></td></tr></table></figure></div><h4 id="出现在数组中时被转换成null"><a href="#出现在数组中时被转换成null" class="headerlink" title="出现在数组中时被转换成null"></a>出现在数组中时被转换成null</h4><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">JSON</span>.stringify([<span class="literal">undefined</span>, <span class="built_in">Object</span>, <span class="built_in">Symbol</span>(<span class="string">""</span>)])  <span class="comment">// "[null,null,null]"</span></span><br></pre></td></tr></table></figure></div><h4 id="单独出现则会返回undefined"><a href="#单独出现则会返回undefined" class="headerlink" title="单独出现则会返回undefined"></a>单独出现则会返回undefined</h4><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">JSON</span>.stringify(<span class="literal">undefined</span>)  <span class="comment">// undefined</span></span><br><span class="line"><span class="built_in">JSON</span>.stringify(<span class="built_in">Object</span>)  <span class="comment">// undefined</span></span><br><span class="line"><span class="built_in">JSON</span>.stringify(<span class="built_in">Symbol</span>(<span class="string">""</span>))  <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure></div><h3 id="所有以-symbol-为属性键的属性都会被完全忽略掉，即便-replacer-参数中强制指定包含了它们。"><a href="#所有以-symbol-为属性键的属性都会被完全忽略掉，即便-replacer-参数中强制指定包含了它们。" class="headerlink" title="所有以 symbol 为属性键的属性都会被完全忽略掉，即便 replacer 参数中强制指定包含了它们。"></a>所有以 symbol 为属性键的属性都会被完全忽略掉，即便 replacer 参数中强制指定包含了它们。</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">JSON</span>.stringify(&#123;[<span class="built_in">Symbol</span>(<span class="string">"foo"</span>)]: <span class="string">"foo"</span>&#125;) <span class="comment">// "&#123;&#125;"</span></span><br><span class="line"><span class="built_in">JSON</span>.stringify(&#123;[<span class="built_in">Symbol</span>.for(<span class="string">"foo"</span>)]: <span class="string">"foo"</span>&#125;, [<span class="built_in">Symbol</span>.for(<span class="string">"foo"</span>)]) <span class="comment">// "&#123;&#125;"</span></span><br></pre></td></tr></table></figure></div><h3 id="转换值如果有-toJSON-方法，该方法定义什么值将被序列化。"><a href="#转换值如果有-toJSON-方法，该方法定义什么值将被序列化。" class="headerlink" title="转换值如果有 toJSON() 方法，该方法定义什么值将被序列化。"></a>转换值如果有 toJSON() 方法，该方法定义什么值将被序列化。</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">JSON</span>.stringify(&#123;</span><br><span class="line">  toJSON: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'gating'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;) <span class="comment">// "gating"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> name = &#123;</span><br><span class="line">  age: <span class="number">18</span>,</span><br><span class="line">  toJSON: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'gating'</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">JSON</span>.stringify(&#123; name &#125;) <span class="comment">// &#123;"name":"gating"&#125;</span></span><br></pre></td></tr></table></figure></div><p>又因为<strong>Date</strong>对象上挂载了一个<strong>toJSON</strong>方法，所以针对于<strong>Date</strong>类型，它默认就会调用<strong>Date</strong>类型上的<strong>toJSON</strong>方法(同Date.toISOString())</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">JSON</span>.stringify(<span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">"2020/01/01"</span>)) <span class="comment">// "2019-12-31T16:00:00.000Z" 因为中国在东八区，所以相差了8小时</span></span><br></pre></td></tr></table></figure></div><blockquote><p>ps: 东八区（UTC/GMT+08:00）是比世界协调时间（UTC）/格林尼治时间（GMT）快8小时的时区</p></blockquote><h3 id="其他类型的对象，仅会序列化对象可枚举的属性，包括-Map-Set-WeakMap-WeakSet"><a href="#其他类型的对象，仅会序列化对象可枚举的属性，包括-Map-Set-WeakMap-WeakSet" class="headerlink" title="其他类型的对象，仅会序列化对象可枚举的属性，包括 Map/Set/WeakMap/WeakSet"></a>其他类型的对象，仅会序列化对象可枚举的属性，包括 Map/Set/WeakMap/WeakSet</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">JSON</span>.stringify(</span><br><span class="line">  <span class="built_in">Object</span>.create(<span class="literal">null</span>, &#123;</span><br><span class="line">    x: &#123; <span class="attr">value</span>: <span class="string">'x'</span>&#125;, <span class="comment">// enumerable 默认为不可枚举</span></span><br><span class="line">    y: &#123; <span class="attr">value</span>: <span class="string">'y'</span>, <span class="attr">enumerable</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">  &#125;)</span><br><span class="line">) <span class="comment">// "&#123;"y":"y"&#125;"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>()</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(map, <span class="string">'name'</span>, &#123;</span><br><span class="line">  value: <span class="string">'gating'</span>,</span><br><span class="line">  enumerable: <span class="literal">true</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(map, <span class="string">'age'</span>, &#123;</span><br><span class="line">  value: <span class="number">18</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">JSON</span>.stringify(map) <span class="comment">// &#123;"name":"gating"&#125;</span></span><br><span class="line"><span class="built_in">JSON</span>.stringify(<span class="keyword">new</span> <span class="built_in">Set</span>) <span class="comment">// &#123;&#125;</span></span><br><span class="line"><span class="built_in">JSON</span>.stringify(<span class="keyword">new</span> <span class="built_in">RegExp</span>) <span class="comment">// &#123;&#125;</span></span><br></pre></td></tr></table></figure></div><p>看到这里，你基本已经知道运算规则是怎么样滴了，也就知道了为什么<code>JSON.stringify + JSON.parse</code>不能转换函数、正则、Error等对象了吧？</p><p>那么接下来就要了解下更有意思的东西啦，就是<code>stringify</code>第二个参数<code>replacer</code>啦</p><h2 id="replacer参数"><a href="#replacer参数" class="headerlink" title="replacer参数"></a>replacer参数</h2><p>replacer 参数可以用来来更改默认的字符串化的行为。它可以是一个函数或者一个数组。如果该参数为 null 或者未提供，则对象所有的属性都会被序列化。</p><h3 id="作为函数"><a href="#作为函数" class="headerlink" title="作为函数"></a>作为函数</h3><p>在开始时, replacer 函数会被传入一个空字符串作为 key 值，代表着要被 stringify 的这个对象。随后每个对象或数组上的属性会被依次传入。</p><p>这句话看不太懂？不要紧，举个例子你就懂了</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">replacer</span>(<span class="params">key, value</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'['</span> + key + <span class="string">']:'</span> + value)</span><br><span class="line">  <span class="keyword">return</span> value</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">JSON</span>.stringify(&#123; <span class="attr">name</span>: <span class="string">'gating'</span>, <span class="attr">age</span>: <span class="number">18</span> &#125;, replacer)</span><br><span class="line"><span class="comment">// []:[object Object]</span></span><br><span class="line"><span class="comment">// [name]:gating</span></span><br><span class="line"><span class="comment">// [age]:18</span></span><br></pre></td></tr></table></figure></div><p>上面例子中，他会执行三次，也就是一开始他会默认传一个空字符串作为键，而键值是整个对象；第二次键为<code>name</code>，键值为<code>gating</code>，以此类推。</p><p>当然，这里也有个特别需要注意的点，就是返回的是一个对象的时候，该对象递归地序列化成 JSON 字符串，对每个属性调用<code>replacer</code>方法。除非该对象是一个函数，这种情况将不会被序列化成 JSON 字符串。</p><p>比如：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">replacer</span>(<span class="params">key, value</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;<span class="attr">a</span>:<span class="number">1</span>&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">JSON</span>.stringify(&#123;&#125;, replacer)</span><br></pre></td></tr></table></figure></div><p>因为我们每次返回的都是对象，那么每次都会调用<code>replacer</code>，所以会造成堆栈溢出，那么我们举个不会溢出的小栗子例子吧🤣：</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">replacer</span>(<span class="params">key, value</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(<span class="keyword">typeof</span> value === <span class="string">'object'</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123; <span class="attr">age</span>: <span class="number">9</span> &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> value * <span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> name = &#123;&#125;</span><br><span class="line"><span class="built_in">JSON</span>.stringify(name, replacer) <span class="comment">// &#123;"age":18&#125;</span></span><br></pre></td></tr></table></figure></div><p>在这里，每一次处理的对象，都是前一次返回的值。因为我们<code>replacer</code>修改了<code>name</code>对象，接着就要递归<code>replacer</code>处理修改后的对象。</p><blockquote><p>总结：递归处理中，每一次处理的对象，都是前一次返回的值。</p></blockquote><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">key, value</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(value)</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> value === <span class="string">"object"</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="attr">b</span>: <span class="number">2</span>&#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> value*<span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">JSON</span>.stringify(o,f)</span><br></pre></td></tr></table></figure></div><p>那么，既然是更改默认的字符串化的行为，那么我就尝试下更改下吧</p><h4 id="replacer——数字Double"><a href="#replacer——数字Double" class="headerlink" title="replacer——数字Double"></a>replacer——数字Double</h4><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">replacer</span>(<span class="params">key, value</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> value === <span class="string">"number"</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> value * <span class="number">2</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> value;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> me = &#123;</span><br><span class="line">  name: <span class="string">'gating'</span>,</span><br><span class="line">  age: <span class="number">9</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">JSON</span>.stringify(me, replacer) <span class="comment">// &#123;"name":"gating","age":18&#125;</span></span><br></pre></td></tr></table></figure></div><h4 id="replacer——剔除不要的属性"><a href="#replacer——剔除不要的属性" class="headerlink" title="replacer——剔除不要的属性"></a>replacer——剔除不要的属性</h4><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">replacer</span>(<span class="params">key, value</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> value === <span class="string">"string"</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">undefined</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> value;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> me = &#123;</span><br><span class="line">  name: <span class="string">'gating'</span>,</span><br><span class="line">  age: <span class="number">18</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">JSON</span>.stringify(me, replacer) <span class="comment">// &#123;"age":18&#125; 剔除了name属性</span></span><br><span class="line"><span class="built_in">JSON</span>.stringify([<span class="number">1</span>,<span class="string">"2"</span>], replacer) <span class="comment">// "[1,null]"</span></span><br></pre></td></tr></table></figure></div><blockquote><p>注意: 不能用 replacer 方法，从数组中移除值（values），如若返回 undefined 或者一个函数，将会被 null 取代(其实从 value 的运算规则我们也知道会出现这个结果了)。</p></blockquote><h3 id="作为数组"><a href="#作为数组" class="headerlink" title="作为数组"></a>作为数组</h3><p>数组的值代表将被序列化成<code>JSON</code>字符串的属性名</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> me = &#123;</span><br><span class="line">  name: <span class="string">'gating'</span>,</span><br><span class="line">  age: <span class="number">18</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">JSON</span>.stringify(me, [<span class="string">'name'</span>]) <span class="comment">// &#123;"name":"gating"&#125; 只保留了name的属性值</span></span><br><span class="line"><span class="built_in">JSON</span>.stringify([<span class="string">'a'</span>, <span class="string">'b'</span>], [<span class="string">'0'</span>]) <span class="comment">// ['a', 'b']</span></span><br></pre></td></tr></table></figure></div><blockquote><p>这个类似白名单的数组，只对对象的属性有效，对数组无效。</p></blockquote><h2 id="space参数"><a href="#space参数" class="headerlink" title="space参数"></a>space参数</h2><p>space 参数用来控制结果字符串里面的间距，增加返回的 JSON 字符串的可读性。如果是一个数字, 则在字符串化时每一级别会比上一级别缩进多这个数字值的空格（最多10个空格）；如果是一个字符串，则每一级别会比上一级别多缩进该字符串（或该字符串的前10个字符）。</p><h3 id="使用数字"><a href="#使用数字" class="headerlink" title="使用数字"></a>使用数字</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">JSON</span>.stringify(&#123; <span class="attr">name</span>: <span class="string">"gating"</span>, <span class="attr">age</span>: <span class="number">18</span> &#125;, <span class="literal">null</span>, <span class="number">6</span>)</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">"&#123;</span></span><br><span class="line"><span class="comment">      "name": "gating",</span></span><br><span class="line"><span class="comment">      "age": 18</span></span><br><span class="line"><span class="comment">&#125;"</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></div><h3 id="使用字符串"><a href="#使用字符串" class="headerlink" title="使用字符串"></a>使用字符串</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">JSON</span>.stringify(&#123; <span class="attr">name</span>: <span class="string">"gating"</span>, <span class="attr">age</span>: <span class="number">18</span> &#125;, <span class="literal">null</span>, <span class="string">'|-'</span>)</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">"&#123;</span></span><br><span class="line"><span class="comment">|-"name": "gating",</span></span><br><span class="line"><span class="comment">|-"age": 18</span></span><br><span class="line"><span class="comment">&#125;"</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></div><h3 id="使用制表符（-t）来缩进"><a href="#使用制表符（-t）来缩进" class="headerlink" title="使用制表符（\t）来缩进"></a>使用制表符（\t）来缩进</h3><p>因为最用用到要美化JSON的场景，所以顺便把制表符也写出来了 😊</p><p>就是提交的时候是json，返回的时候美化json显示到输入框内</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">JSON</span>.stringify(&#123; <span class="attr">name</span>: <span class="string">"gating"</span>, <span class="attr">age</span>: <span class="number">18</span> &#125;, <span class="literal">null</span>, <span class="string">'\t'</span>)</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">"&#123;</span></span><br><span class="line"><span class="comment">	"name": "gating",</span></span><br><span class="line"><span class="comment">	"age": 18</span></span><br><span class="line"><span class="comment">&#125;"</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></div><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ul><li>JSON.stringify()将值转换为相应的JSON格式：<ul><li>转换值如果有 toJSON() 方法，该方法定义什么值将被序列化。</li><li>非数组对象的属性不能保证以特定的顺序出现在序列化后的字符串中。</li><li>布尔值、数字、字符串的包装对象在序列化过程中会自动转换成对应的原始值。</li><li>undefined、任意的函数以及 symbol 值，在序列化过程中会被忽略（出现在非数组对象的属性值中时）或者被转换成 null（出现在数组中时）。函数、undefined 被单独转换时，会返回 undefined，如JSON.stringify(function(){}) or JSON.stringify(undefined).</li><li>对包含循环引用的对象（对象之间相互引用，形成无限循环）执行此方法，会抛出错误。</li><li>所有以 symbol 为属性键的属性都会被完全忽略掉，即便 replacer 参数中强制指定包含了它们。</li><li>Date 日期调用了 toJSON() 将其转换为了 string 字符串（同Date.toISOString()），因此会被当做字符串处理。</li><li>NaN 和 Infinity 格式的数值及 null 都会被当做 null。</li><li>其他类型的对象，包括 Map/Set/WeakMap/WeakSet，仅会序列化可枚举的属性。</li></ul></li></ul><h1 id="parse"><a href="#parse" class="headerlink" title="parse"></a>parse</h1><p>parse() 方法用于将一个 JSON 字符串转换为对象。</p><blockquote><p>JSON.parse(text[, reviver])</p></blockquote><h2 id="text参数"><a href="#text参数" class="headerlink" title="text参数"></a>text参数</h2><p>text参数没啥可说的，就是要被解析成 JavaScript 值的字符串，必须符合<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/JSON" target="_blank" rel="noopener">JSON</a>的语法格式</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">JSON</span>.parse(<span class="string">'&#123;&#125;'</span>) <span class="comment">// &#123;&#125;</span></span><br><span class="line"><span class="comment">// 如果传入的字符串不是有效的 JSON 格式, JSON.parse方法将报错。</span></span><br><span class="line"><span class="built_in">JSON</span>.parse(<span class="string">"'String'"</span>) <span class="comment">// Uncaught SyntaxError: Unexpected token ' in JSON at position 0</span></span><br></pre></td></tr></table></figure></div><h2 id="reviver参数"><a href="#reviver参数" class="headerlink" title="reviver参数"></a>reviver参数</h2><p>reviver参数和JSON.stringify方法的reviver参数类似，唯一不同的是如果有深层对象，他的遍历顺序依照：</p><p>从最内层开始，按照层级顺序，依次向外遍历，而JSON.stringify的遍历顺序刚好相反，从外向内</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">Javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">JSON</span>.parse(<span class="string">'&#123;"1": 1, "2": 2,"3": &#123;"4": 4, "5": &#123;"6": 6&#125;&#125;&#125;'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">k, v</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(k); <span class="comment">// 输出当前的属性名，从而得知遍历顺序是从内向外的，</span></span><br><span class="line">                    <span class="comment">// 最后一个属性名会是个空字符串。</span></span><br><span class="line">    <span class="keyword">return</span> v;       <span class="comment">// 返回原始属性值，相当于没有传递 reviver 参数。</span></span><br><span class="line">&#125;) <span class="comment">// 1 2 4 6 5 3 ""</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">JSON</span>.stringify(&#123;<span class="string">"1"</span>: <span class="number">1</span>, <span class="string">"2"</span>: <span class="number">2</span>,<span class="string">"3"</span>: &#123;<span class="string">"4"</span>: <span class="number">4</span>, <span class="string">"5"</span>: &#123;<span class="string">"6"</span>: <span class="number">6</span>&#125;&#125;&#125;, <span class="function"><span class="keyword">function</span> (<span class="params">k, v</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(k); </span><br><span class="line">    <span class="keyword">return</span> v;      </span><br><span class="line">&#125;) <span class="comment">// "" 1 2 3 4 5 6</span></span><br></pre></td></tr></table></figure></div><h1 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h1><ul><li><a href="https://javascript.ruanyifeng.com/stdlib/json.html" target="_blank" rel="noopener">JSON对象</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/JSON" target="_blank" rel="noopener">JSON</a></li></ul><h1 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h1><p>虽然本文罗嗦了点，但还是感谢各位观众老爷的能看到最后 O(∩_∩)O 希望你能有所收获 😁</p></div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">gating</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://gatings.cn/2020-09-08/JS%E4%B8%AD%E6%9C%89%E8%B6%A3%E7%9A%84%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1-JSON/">https://gatings.cn/2020-09-08/JS%E4%B8%AD%E6%9C%89%E8%B6%A3%E7%9A%84%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1-JSON/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://gatings.cn">磨蹭先生</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/javascript/">javascript</a></div><div class="post_share"></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"><i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lazyload post-qr-code__img" src="https://cdn.jsdelivr.net/gh/GATING/blog_imgs@master/blog/wechat.jpg" alt="微信"><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="lazyload post-qr-code__img" src="https://cdn.jsdelivr.net/gh/GATING/blog_imgs@master/blog/alipay.jpg" alt="支付宝"><div class="post-qr-code__desc">支付宝</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2020-11-03/Vue+Antd%E6%90%AD%E9%85%8D%E7%99%BE%E5%BA%A6%E5%9C%B0%E5%9B%BE%E5%AE%9E%E7%8E%B0%E6%90%9C%E7%B4%A2%E5%AE%9A%E4%BD%8D%E7%AD%89%E5%8A%9F%E8%83%BD/"><img class="prev_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png" onerror='onerror=null,src="/img/404.jpg"'><div class="label">上一篇</div><div class="prev_info"><span>Vue+Antd搭配百度地图实现搜索定位等功能</span></div></a></div><div class="next-post pull_right"><a href="/2020-07-05/node%E5%AE%9E%E7%8E%B0%E6%96%87%E4%BB%B6%E5%B1%9E%E6%80%A7%E6%89%B9%E9%87%8F%E4%BF%AE%E6%94%B9(%E6%96%87%E4%BB%B6%E5%90%8D)/"><img class="next_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png" onerror='onerror=null,src="/img/404.jpg"'><div class="label">下一篇</div><div class="next_info"><span>node实现文件属性批量修改(文件名)</span></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2020-02-25/Windows10开启Ubuntu子系统并搭建Docker环境 - 副本/" title="Windows10开启Ubuntu子系统并搭建Docker环境"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-02-25</div><div class="relatedPosts_title">Windows10开启Ubuntu子系统并搭建Docker环境</div></div></a></div><div class="relatedPosts_item"><a href="/2020-01-17/从零搭建Window前端开发环境/" title="从零搭建Window前端开发环境"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-01-17</div><div class="relatedPosts_title">从零搭建Window前端开发环境</div></div></a></div><div class="relatedPosts_item"><a href="/2019-12-30/docker-compose的mysql和mongo问题解决/" title="docker-compose mysql和node连接认证mongo问题"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2019-12-30</div><div class="relatedPosts_title">docker-compose mysql和node连接认证mongo问题</div></div></a></div><div class="relatedPosts_item"><a href="/2019-01-09/字符串的方法的总结和使用/" title="字符串的方法的总结和使用"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2019-01-09</div><div class="relatedPosts_title">字符串的方法的总结和使用</div></div></a></div><div class="relatedPosts_item"><a href="/2018-12-25/数组的方法的总结和使用/" title="数组的方法的总结和使用"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2018-12-25</div><div class="relatedPosts_title">数组的方法的总结和使用</div></div></a></div><div class="relatedPosts_item"><a href="/2018-10-24/awardRotate转盘插件文字模糊问题和图片加载问题/" title="awardRotate转盘插件文字模糊问题和图片加载问题"><img class="relatedPosts_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2018-10-24</div><div class="relatedPosts_title">awardRotate转盘插件文字模糊问题和图片加载问题</div></div></a></div></div><div class="clear_both"></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> 评论</span></div><div id="lv-container" data-id="city" data-uid="MTAyMC8zNTA5MC8xMTYyNQ=="><script>!function(e,t){var n,c=e.getElementsByTagName(t)[0];"function"!=typeof LivereTower&&((n=e.createElement(t)).src="https://cdn-city.livere.com/js/embed.dist.js",n.async=!0,c.parentNode.insertBefore(n,c))}(document,"script")</script></div></div></div></main><footer id="footer" style="background-image:url(https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2017 - 2020 By gating</div><div class="footer_custom_text">由<b>&nbsp;磨蹭&nbsp;</b>倾力打造&nbsp;|&nbsp;<b>女王大人</b>&nbsp;-&nbsp;热情赞助</div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fa fa-comments"></i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async></script><script src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/js/click_heart.js"></script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener" style="color:#49b1f5">hexo-generator-search</a> <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>