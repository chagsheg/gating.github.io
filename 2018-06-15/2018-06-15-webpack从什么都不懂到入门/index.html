<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><title>webpack从什么都不懂到入门 | 磨蹭先生</title><meta name="description" content="这篇文章是自己在整理webpack相关的东西时候突发奇想，想总结自己所学知识，也希望能够帮助想学习webpack的同学们，都是入门级别的，大佬请出门右转。"><meta name="keywords" content="webpack"><meta name="author" content="gating"><meta name="copyright" content="gating"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/GATING/blog_imgs@master/blog/favicon.ico"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="https://hm.baidu.com"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="webpack从什么都不懂到入门"><meta name="twitter:description" content="这篇文章是自己在整理webpack相关的东西时候突发奇想，想总结自己所学知识，也希望能够帮助想学习webpack的同学们，都是入门级别的，大佬请出门右转。"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png"><meta property="og:type" content="article"><meta property="og:title" content="webpack从什么都不懂到入门"><meta property="og:url" content="https://gatings.cn/2018-06-15/2018-06-15-webpack%E4%BB%8E%E4%BB%80%E4%B9%88%E9%83%BD%E4%B8%8D%E6%87%82%E5%88%B0%E5%85%A5%E9%97%A8/"><meta property="og:site_name" content="磨蹭先生"><meta property="og:description" content="这篇文章是自己在整理webpack相关的东西时候突发奇想，想总结自己所学知识，也希望能够帮助想学习webpack的同学们，都是入门级别的，大佬请出门右转。"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>const autoChangeMode = '1'
var t = Cookies.get("theme");
if (autoChangeMode == '1'){
const isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
const isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
const isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

if (t === undefined){
  if (isLightMode) activateLightMode()
  else if (isDarkMode) activateDarkMode()
  else if (isNotSpecified || hasNoSupport){
    console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
    now = new Date();
    hour = now.getHours();
    isNight = hour < 6 || hour >= 18
    isNight ? activateDarkMode() : activateLightMode()
}
} else if (t == 'light') activateLightMode()
else activateDarkMode()


} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css"><link rel="canonical" href="https://gatings.cn/2018-06-15/2018-06-15-webpack%E4%BB%8E%E4%BB%80%E4%B9%88%E9%83%BD%E4%B8%8D%E6%87%82%E5%88%B0%E5%85%A5%E9%97%A8/"><link rel="prev" title="webpack从单页面到多页面" href="https://gatings.cn/2018-08-22/2018-08-22-webpack%E4%BB%8E%E5%8D%95%E9%A1%B5%E9%9D%A2%E5%88%B0%E5%A4%9A%E9%A1%B5%E9%9D%A2/"><link rel="next" title="用jq实现的单个span为单个的数字动画" href="https://gatings.cn/2018-06-14/2018-06-14-%E7%94%A8jq%E5%AE%9E%E7%8E%B0%E7%9A%84%E5%8D%95%E4%B8%AAspan%E4%B8%BA%E5%8D%95%E4%B8%AA%E7%9A%84%E6%95%B0%E5%AD%97%E5%8A%A8%E7%94%BB/"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?914d8fcbdf614fcc92017b47706d7bee";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://gatings.cn/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    title: 'Snackbar.bookmark.title',
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: true,
  fancybox: true,
  Snackbar: {"bookmark":{"title":"Snackbar.bookmark.title","message_prev":"按","message_next":"键将本页加入书签"},"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#2d3035","position":"bottom-left"},
  baiduPush: true,
  isHome: false,
  isPost: true
  
}</script><meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="磨蹭先生" type="application/atom+xml">
</head><body><header> <div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">磨蹭先生</a></span><span class="toggle-menu pull_right close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div></span><span class="pull_right" id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> 搜索</span></a></span></div></header><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">29</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">12</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">5</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">目录</div><div class="sidebar-toc__content"><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#前言"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">前言</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#初识webpack"><span class="toc_mobile_items-number">2.</span> <span class="toc_mobile_items-text">初识webpack</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#webpack的基本配置项"><span class="toc_mobile_items-number">2.1.</span> <span class="toc_mobile_items-text">webpack的基本配置项</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Entry"><span class="toc_mobile_items-number">2.1.1.</span> <span class="toc_mobile_items-text">Entry</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Output"><span class="toc_mobile_items-number">2.1.2.</span> <span class="toc_mobile_items-text">Output</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Loaders"><span class="toc_mobile_items-number">2.1.3.</span> <span class="toc_mobile_items-text">Loaders</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Plugins"><span class="toc_mobile_items-number">2.1.4.</span> <span class="toc_mobile_items-text">Plugins</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Mode"><span class="toc_mobile_items-number">2.1.5.</span> <span class="toc_mobile_items-text">Mode</span></a></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#webpack初体验"><span class="toc_mobile_items-number">3.</span> <span class="toc_mobile_items-text">webpack初体验</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#安装-webpack-和-webpack-cli"><span class="toc_mobile_items-number">3.1.</span> <span class="toc_mobile_items-text">安装 webpack 和 webpack-cli</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#新建入口文件和配置webpack-config-js"><span class="toc_mobile_items-number">3.2.</span> <span class="toc_mobile_items-text">新建入口文件和配置webpack.config.js</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#针对css文件和img文件的Loaders"><span class="toc_mobile_items-number">3.3.</span> <span class="toc_mobile_items-text">针对css文件和img文件的Loaders</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#安装style-loader、css-loader-和-url-loader、file-loader"><span class="toc_mobile_items-number">3.3.1.</span> <span class="toc_mobile_items-text">安装style-loader、css-loader 和 url-loader、file-loader</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#添加webpack规则"><span class="toc_mobile_items-number">3.3.2.</span> <span class="toc_mobile_items-text">添加webpack规则</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#常用的插件"><span class="toc_mobile_items-number">3.4.</span> <span class="toc_mobile_items-text">常用的插件</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#html-webpack-plugin"><span class="toc_mobile_items-number">3.4.1.</span> <span class="toc_mobile_items-text">html-webpack-plugin</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#clean-webpack-plugin"><span class="toc_mobile_items-number">3.4.2.</span> <span class="toc_mobile_items-text">clean-webpack-plugin</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#copy-webpack-plugin"><span class="toc_mobile_items-number">3.4.3.</span> <span class="toc_mobile_items-text">copy-webpack-plugin</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#服务器运行"><span class="toc_mobile_items-number">3.5.</span> <span class="toc_mobile_items-text">服务器运行</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#DIY一个临时的静态服务器"><span class="toc_mobile_items-number">3.5.1.</span> <span class="toc_mobile_items-text">DIY一个临时的静态服务器</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#DIY服务器存在的问题"><span class="toc_mobile_items-number">3.5.2.</span> <span class="toc_mobile_items-text">DIY服务器存在的问题</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#devServer"><span class="toc_mobile_items-number">3.5.3.</span> <span class="toc_mobile_items-text">devServer</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#打包优化"><span class="toc_mobile_items-number">3.6.</span> <span class="toc_mobile_items-text">打包优化</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#提取css"><span class="toc_mobile_items-number">3.6.1.</span> <span class="toc_mobile_items-text">提取css</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#暴露第三方库和提取公共js"><span class="toc_mobile_items-number">3.6.2.</span> <span class="toc_mobile_items-text">暴露第三方库和提取公共js</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#暴露第三方库"><span class="toc_mobile_items-number">3.6.2.1.</span> <span class="toc_mobile_items-text">暴露第三方库</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#提取公共js"><span class="toc_mobile_items-number">3.6.2.2.</span> <span class="toc_mobile_items-text">提取公共js</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#img压缩和css优化"><span class="toc_mobile_items-number">3.6.3.</span> <span class="toc_mobile_items-text">img压缩和css优化</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#image-webpack-loader"><span class="toc_mobile_items-number">3.6.3.1.</span> <span class="toc_mobile_items-text">image-webpack-loader</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#css优化篇——css自动增加前缀"><span class="toc_mobile_items-number">3.6.3.2.</span> <span class="toc_mobile_items-text">css优化篇——css自动增加前缀</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-5"><a class="toc_mobile_items-link" href="#题外话，为什么需要浏览器引擎前缀？"><span class="toc_mobile_items-number">3.6.3.2.1.</span> <span class="toc_mobile_items-text">题外话，为什么需要浏览器引擎前缀？</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-5"><a class="toc_mobile_items-link" href="#postcss-loader"><span class="toc_mobile_items-number">3.6.3.2.2.</span> <span class="toc_mobile_items-text">postcss-loader</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#css优化篇——去除冗余css代码"><span class="toc_mobile_items-number">3.6.3.3.</span> <span class="toc_mobile_items-text">css优化篇——去除冗余css代码</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#使用less"><span class="toc_mobile_items-number">3.6.4.</span> <span class="toc_mobile_items-text">使用less</span></a></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#插件传送门"><span class="toc_mobile_items-number">4.</span> <span class="toc_mobile_items-text">插件传送门</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#总结"><span class="toc_mobile_items-number">5.</span> <span class="toc_mobile_items-text">总结</span></a></li></ol></div></div></div><div id="body-wrap"><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#前言"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#初识webpack"><span class="toc-number">2.</span> <span class="toc-text">初识webpack</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#webpack的基本配置项"><span class="toc-number">2.1.</span> <span class="toc-text">webpack的基本配置项</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Entry"><span class="toc-number">2.1.1.</span> <span class="toc-text">Entry</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Output"><span class="toc-number">2.1.2.</span> <span class="toc-text">Output</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Loaders"><span class="toc-number">2.1.3.</span> <span class="toc-text">Loaders</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Plugins"><span class="toc-number">2.1.4.</span> <span class="toc-text">Plugins</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Mode"><span class="toc-number">2.1.5.</span> <span class="toc-text">Mode</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#webpack初体验"><span class="toc-number">3.</span> <span class="toc-text">webpack初体验</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#安装-webpack-和-webpack-cli"><span class="toc-number">3.1.</span> <span class="toc-text">安装 webpack 和 webpack-cli</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#新建入口文件和配置webpack-config-js"><span class="toc-number">3.2.</span> <span class="toc-text">新建入口文件和配置webpack.config.js</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#针对css文件和img文件的Loaders"><span class="toc-number">3.3.</span> <span class="toc-text">针对css文件和img文件的Loaders</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#安装style-loader、css-loader-和-url-loader、file-loader"><span class="toc-number">3.3.1.</span> <span class="toc-text">安装style-loader、css-loader 和 url-loader、file-loader</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#添加webpack规则"><span class="toc-number">3.3.2.</span> <span class="toc-text">添加webpack规则</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#常用的插件"><span class="toc-number">3.4.</span> <span class="toc-text">常用的插件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#html-webpack-plugin"><span class="toc-number">3.4.1.</span> <span class="toc-text">html-webpack-plugin</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#clean-webpack-plugin"><span class="toc-number">3.4.2.</span> <span class="toc-text">clean-webpack-plugin</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#copy-webpack-plugin"><span class="toc-number">3.4.3.</span> <span class="toc-text">copy-webpack-plugin</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#服务器运行"><span class="toc-number">3.5.</span> <span class="toc-text">服务器运行</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#DIY一个临时的静态服务器"><span class="toc-number">3.5.1.</span> <span class="toc-text">DIY一个临时的静态服务器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DIY服务器存在的问题"><span class="toc-number">3.5.2.</span> <span class="toc-text">DIY服务器存在的问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#devServer"><span class="toc-number">3.5.3.</span> <span class="toc-text">devServer</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#打包优化"><span class="toc-number">3.6.</span> <span class="toc-text">打包优化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#提取css"><span class="toc-number">3.6.1.</span> <span class="toc-text">提取css</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#暴露第三方库和提取公共js"><span class="toc-number">3.6.2.</span> <span class="toc-text">暴露第三方库和提取公共js</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#暴露第三方库"><span class="toc-number">3.6.2.1.</span> <span class="toc-text">暴露第三方库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#提取公共js"><span class="toc-number">3.6.2.2.</span> <span class="toc-text">提取公共js</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#img压缩和css优化"><span class="toc-number">3.6.3.</span> <span class="toc-text">img压缩和css优化</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#image-webpack-loader"><span class="toc-number">3.6.3.1.</span> <span class="toc-text">image-webpack-loader</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#css优化篇——css自动增加前缀"><span class="toc-number">3.6.3.2.</span> <span class="toc-text">css优化篇——css自动增加前缀</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#题外话，为什么需要浏览器引擎前缀？"><span class="toc-number">3.6.3.2.1.</span> <span class="toc-text">题外话，为什么需要浏览器引擎前缀？</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#postcss-loader"><span class="toc-number">3.6.3.2.2.</span> <span class="toc-text">postcss-loader</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#css优化篇——去除冗余css代码"><span class="toc-number">3.6.3.3.</span> <span class="toc-text">css优化篇——去除冗余css代码</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用less"><span class="toc-number">3.6.4.</span> <span class="toc-text">使用less</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#插件传送门"><span class="toc-number">4.</span> <span class="toc-text">插件传送门</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#总结"><span class="toc-number">5.</span> <span class="toc-text">总结</span></a></li></ol></div></div></div><main id="content-outer"><div id="top-container" style="background-image: url(https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png)"><div id="post-info"><div id="post-title"><div class="posttitle">webpack从什么都不懂到入门</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 发表于 2018-06-15<span class="post-meta__separator">|</span><i class="fa fa-history fa-fw" aria-hidden="true"></i> 更新于 2020-03-04</time><span class="post-meta__separator">|</span><span><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/%E8%AE%B0%E5%BD%95/">记录</a></span><div class="post-meta-wordcount"><i class="fa fa-file-word-o post-meta__icon fa-fw" aria-hidden="true"></i><span>字数总计:</span><span class="word-count">6.1k</span><span class="post-meta__separator">|</span><i class="fa fa-clock-o post-meta__icon fa-fw" aria-hidden="true"></i><span>阅读时长: 22 分钟</span><div class="post-meta-pv-cv"><span class="post-meta__separator">|</span><span><i class="fa fa-eye post-meta__icon fa-fw" aria-hidden="true"> </i>阅读量:</span><span id="busuanzi_value_page_pv"></span></div></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>这篇文章是自己在整理webpack相关的东西时候突发奇想，想总结自己所学知识，也希望能够帮助想学习webpack的同学们，都是入门级别的，大佬请出门右转。</p>
<blockquote>
<p>本文的webpack基于webpack4.0，具体是4.12.0版本</p>
</blockquote>
<h1 id="初识webpack"><a href="#初识webpack" class="headerlink" title="初识webpack"></a>初识webpack</h1><p>webpack是什么？借助官网的话来说，webpack 是一个现代 JavaScript 应用程序的静态模块打包器(module bundler)。当 webpack 处理应用程序时，它会递归地构建一个依赖关系图(dependency graph)，其中包含应用程序需要的每个模块，然后将所有这些模块打包成一个或多个 bundle。</p>
<blockquote>
<p>简单的来说，webpack是一个打包工具</p>
</blockquote>
<h2 id="webpack的基本配置项"><a href="#webpack的基本配置项" class="headerlink" title="webpack的基本配置项"></a>webpack的基本配置项</h2><p>作为入门，我们只需要明白几个核心概念：</p>
<ul>
<li>Entry(入口)</li>
<li>Output(出口)</li>
<li>Loaders</li>
<li>Plugins(插件)</li>
<li>Mode(模式)</li>
</ul>
<h3 id="Entry"><a href="#Entry" class="headerlink" title="Entry"></a>Entry</h3><p>入口起点指示 webpack 应该使用哪个模块，来作为构建其内部依赖图的开始。进入入口起点后，webpack 会找出有哪些模块和库是入口起点（直接和间接）依赖的。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports=&#123;</span><br><span class="line">	<span class="comment">// 入口配置</span></span><br><span class="line">	entry:&#123;</span><br><span class="line">		index:<span class="string">'./src/index.js'</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>output 属性告诉 webpack 在哪里输出它所创建的 bundles，以及如何命名这些文件，默认值为 ./dist。</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports=&#123;</span><br><span class="line">	<span class="comment">// 出口配置</span></span><br><span class="line">	output:&#123;</span><br><span class="line">		<span class="comment">// 必须是绝对路径</span></span><br><span class="line">		path:path.resolve(__dirname,<span class="string">'dist'</span>),</span><br><span class="line">		filename:<span class="string">'js/bundle.js'</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h3 id="Loaders"><a href="#Loaders" class="headerlink" title="Loaders"></a>Loaders</h3><p>首先，webpack 自身只理解 JavaScrip，所以针对其他的文件，我们需要借助 loader 去处理。</p>
<p>loader 可以将所有类型的文件转换为 webpack 能够处理的有效模块，然后你就可以利用 webpack 的打包能力，对它们进行处理。</p>
<p>比如对于css文件，我们可以这样写：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="built_in">module</span>: &#123;</span><br><span class="line">        rules: [&#123;</span><br><span class="line">			<span class="comment">// 通过正则匹配要处理的文件</span></span><br><span class="line">            test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">            use: [<span class="string">'style-loader'</span>, <span class="string">'css-loader'</span>]</span><br><span class="line">        &#125;]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h3 id="Plugins"><a href="#Plugins" class="headerlink" title="Plugins"></a>Plugins</h3><p>loader 被用于转换某些类型的模块，而Plugins(插件)则可以用于执行范围更广的任务。</p>
<h3 id="Mode"><a href="#Mode" class="headerlink" title="Mode"></a>Mode</h3><p>通过选择 development 或 production 之中的一个，来设置 mode 参数，你可以启用相应模式下的 webpack 内置的优化</p>
<h1 id="webpack初体验"><a href="#webpack初体验" class="headerlink" title="webpack初体验"></a>webpack初体验</h1><p>通过上面基础概念的学习，我们开始动手写个小demo吧</p>
<p>安装使用webpack的方式有两种，一种是全局安装webpack，一种是在我们的项目中安装webpcak依赖，然后通过npm执行webpack命令。</p>
<blockquote>
<p>通常建议用第二种方式安装，因为前端更新太过快捷，很多人的webpack版本和你的可能不太一样，导致出现一些问题</p>
</blockquote>
<p>1、初始化我们的项目</p>
<ul>
<li>新建一个文件夹，取名叫做webpack-demo</li>
<li>通过控制台或者git bash定位到当前文件下面，执行命令: npm init -y</li>
</ul>
<p>2、项目结构搭建</p>
<ul>
<li><p>新建src目录,用于放置我们的开发所需要的css、img、js和html文件(和平时开发一致就好)</p>
</li>
<li><p>在根目录新建index.html</p>
</li>
<li><p>在根目录新建webpack.config.js,这是webpack的默认配置文件</p>
</li>
</ul>
<blockquote>
<p>ps: webpack默认会读取webpack.config.js 中的相关配置，如果更换其他名字，webpack默是找不到的（当然我们也可以去指定webpack读取的配置文件，但在现阶段，我们暂不考虑）</p>
</blockquote>
<blockquote>
<p>index.html的格式如下：</p>
</blockquote>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">html</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 我们给最终编译出的js叫做bundle.js--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./dist/js/bundle.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></div>

<h2 id="安装-webpack-和-webpack-cli"><a href="#安装-webpack-和-webpack-cli" class="headerlink" title="安装 webpack 和 webpack-cli"></a>安装 webpack 和 webpack-cli</h2><p>在当前目录(webpackDemo)执行命令: npm install webpack webpack-cli –save</p>
<blockquote>
<p>为什么要装 webpack-cli ,是因为以前webpack的cli工具移动到了一个专门的包(webpack-cli)里了</p>
</blockquote>
<p>接下来我们配置下package.json，把”scripts”字段修改为：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang"></div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight"><table><tr><td class="code"><pre><span class="line">"scripts": &#123;</span><br><span class="line">    "build": "webpack --mode development"</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h2 id="新建入口文件和配置webpack-config-js"><a href="#新建入口文件和配置webpack-config-js" class="headerlink" title="新建入口文件和配置webpack.config.js"></a>新建入口文件和配置webpack.config.js</h2><p>1、在src/js目录下新建index.js文件，作为webpack的入口文件，文件内容为：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">"hello world"</span>)</span><br></pre></td></tr></table></figure></div>
<p>2、接下来我们打开 webpack.config.js ，配置下我们的编译规则</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line"><span class="built_in">module</span>.exports=&#123;</span><br><span class="line">	<span class="comment">// 入口配置</span></span><br><span class="line">	entry:&#123;</span><br><span class="line">		index:<span class="string">'./src/js/index.js'</span></span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="comment">// 出口文件</span></span><br><span class="line">	output:&#123;</span><br><span class="line">		<span class="comment">// 必须是绝对路劲</span></span><br><span class="line">		path:path.resolve(__dirname,<span class="string">'dist'</span>),</span><br><span class="line">		filename:<span class="string">'js/bundle.js'</span></span><br><span class="line">	&#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<blockquote>
<p>__dirname是node暴露给全局的一个变量,表示当前文件所在的目录,path模块是node自带的模块，用来处理路径的</p>
</blockquote>
<p>3、在webpack-demo目录下执行npm run build命令</p>
<p>此时查看dist/js目录，会发现新增了一个bundle.js的文件，然后打开index.html文件，在f12打开控制台，是不是输出了hello world啊？</p>
<blockquote>
<p>好了，本次教程到此结束了</p>
</blockquote>
<p> 看到这里，是不是很像拍死我了，输出hello world还这么麻烦，而且还什么都没学到，浪费我青春啊！！！骚年，开个玩笑嘛，别着急，有话好好说啊，接下来重头戏开始了。</p>
<h2 id="针对css文件和img文件的Loaders"><a href="#针对css文件和img文件的Loaders" class="headerlink" title="针对css文件和img文件的Loaders"></a>针对css文件和img文件的Loaders</h2><p>通过上面的小例子，发现好像少了些什么，一个页面不可以只有js的吧，我们强大的css和好看的img呢？</p>
<p>接下来我们就开始学习强大的Loaders啦</p>
<h3 id="安装style-loader、css-loader-和-url-loader、file-loader"><a href="#安装style-loader、css-loader-和-url-loader、file-loader" class="headerlink" title="安装style-loader、css-loader 和 url-loader、file-loader"></a>安装style-loader、css-loader 和 url-loader、file-loader</h3><p>执行命令: npm install style-loader css-loader url-loader file-loader –save</p>
<p>这里特别说明下，file-loader与url-loader都是在webpack中引入图片的解决方案，但是与file-loader不同，url-loader封装了file-loader，并且可以在图片大小小于设定的limit的时候返回的是一个bDataURL（base64码），大于limit时会调用file-loader对图片进行处理。</p>
<h3 id="添加webpack规则"><a href="#添加webpack规则" class="headerlink" title="添加webpack规则"></a>添加webpack规则</h3><p>在webpack.config.js添加规则</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>: &#123;</span><br><span class="line">	rules: [&#123;</span><br><span class="line">			test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">			<span class="comment">// 从右向左(从下向上)开始执行</span></span><br><span class="line">			use: [<span class="string">'style-loader'</span>, <span class="string">'css-loader'</span>],</span><br><span class="line">		&#125;,</span><br><span class="line">		&#123;</span><br><span class="line">			test: <span class="regexp">/\.(png|jpg|gif)$/</span>,</span><br><span class="line">			use: [&#123;</span><br><span class="line">				loader: <span class="string">'url-loader'</span>,</span><br><span class="line">				options: &#123;</span><br><span class="line">					<span class="comment">// 小于10kb转成base64</span></span><br><span class="line">					limit: <span class="number">10240</span>,</span><br><span class="line">					<span class="comment">// 打包后的文件夹</span></span><br><span class="line">					outputPath: <span class="string">'img'</span></span><br><span class="line">				&#125;</span><br><span class="line">			&#125;]</span><br><span class="line">		&#125;</span><br><span class="line">	]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>添加规则之后，我们在src/css目录下新建index.css，在src/img目录下放一个img.jpg后，接下来就是修改我们的代码了</p>
<blockquote>
<p>index.css文件如下</p>
</blockquote>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">css</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: skyblue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<blockquote>
<p>修改我们的入口文件index.js</p>
</blockquote>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'../css/index.css'</span></span><br><span class="line"><span class="keyword">import</span> imgSrc <span class="keyword">from</span> <span class="string">"../img/img.jpg"</span></span><br><span class="line"><span class="keyword">const</span> img = <span class="built_in">document</span>.createElement(<span class="string">'img'</span>)</span><br><span class="line">img.src = <span class="string">'./dist/'</span> + imgSrc</span><br><span class="line"><span class="built_in">document</span>.body.appendChild(img)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"hello world"</span>)</span><br></pre></td></tr></table></figure></div>

<p>在运行一下npm run build，然后打开我们的浏览器，页面是不是有了个蓝色背景和一张图片呢？<br>这感觉是不是美滋滋</p>
<blockquote>
<p>题外话，这里我们用了es6，浏览器也没有报错，因为现在新版浏览器对es6兼容相当不错了，可是对于旧版本，浏览器兼容还是不是很好的</p>
</blockquote>
<p>所以我们针对我们写的js也需要做下babel编译</p>
<p>1、安装babel</p>
<p>执行命令: npm install babel-core babel-loader babel-preset-env –save</p>
<p>2、新建.babelrc文件</p>
<p>这里babel会默认读取根目录下的.babelrc文件作为babel的编译规则</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"presets"</span>: [</span><br><span class="line">    [<span class="string">"env"</span>, &#123;</span><br><span class="line">      <span class="string">"modules"</span>: <span class="literal">false</span></span><br><span class="line">    &#125;]</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>3、配置js的loader规则</p>
<p>增加loader的配置项：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports=&#123;</span><br><span class="line">	<span class="built_in">module</span>: &#123;</span><br><span class="line">		rules: [</span><br><span class="line">			&#123;</span><br><span class="line">				test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">				use: [<span class="string">'babel-loader'</span>],</span><br><span class="line">				<span class="comment">// 除node_modules目录外，其他都用babel编译</span></span><br><span class="line">				exclude: <span class="regexp">/node_modules/</span></span><br><span class="line">			&#125;</span><br><span class="line">		]</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>4、拓展下我们的output规则</p>
<p>现在我们细心的看一下，你会发现我的output的文件名使我们定死的，每次打包，名字都不会改变，我们怎么可以根据他的文件名生成同样的名字呢？webpack提供提议[name]的占位符，<br>表示入口的的文件名。</p>
<p>修改下webpack.config.js:</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">output: &#123;</span><br><span class="line">	<span class="comment">// 必须是绝对路劲</span></span><br><span class="line">	path: path.resolve(__dirname, <span class="string">'dist'</span>),</span><br><span class="line">	filename: <span class="string">'js/[name].js'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>那么问题又来了，我们怎么引入我们动态生成的[name].js呢？也许有人说改成和入口文件一样的名字不就行了吗？这样的确是一种方案，但是能不能可以通过一个模板，自动注入我们生成的js文件呢？接下来就是用我们更强大的插件啦</p>
<h2 id="常用的插件"><a href="#常用的插件" class="headerlink" title="常用的插件"></a>常用的插件</h2><h3 id="html-webpack-plugin"><a href="#html-webpack-plugin" class="headerlink" title="html-webpack-plugin"></a>html-webpack-plugin</h3><p>针对于上面的问题，我们就可以借助html-webpack-plugin自动生成我们的html啦。</p>
<p>1、安装html-webpack-plugin</p>
<p>肯定要先安装啦，不然怎么用╭(╯^╰)╮：npm install html-webpack-plugin –save</p>
<p>2、创建我们的模板页面</p>
<p>在src目录下新建index.html，用于我们的模板页面，代码如下：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">html</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">htmlWebpackPlugin.options.title</span> %&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></div>

<p>3、配置webpack.config.js规则</p>
<p>增加plugins的配置项：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">'html-webpack-plugin'</span>)</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">	plugins:[</span><br><span class="line">		<span class="comment">// 生成多个页面需要调用多次new HtmlWebpackPlugin() 多页面的配置</span></span><br><span class="line">		<span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">			<span class="comment">// 生成多个页面,filename作为标识</span></span><br><span class="line">			filename:<span class="string">'index.html'</span>,</span><br><span class="line">			<span class="comment">// 多页面引入自己的js</span></span><br><span class="line">			<span class="comment">// chunks:['index'],</span></span><br><span class="line">			<span class="comment">// 自定义模板标题</span></span><br><span class="line">			<span class="comment">// 模板页title定义为 &lt;%= htmlWebpackPlugin.options.title %&gt;</span></span><br><span class="line">			<span class="comment">// 必须这么写htmlWebpackPlugin</span></span><br><span class="line">			title:<span class="string">'hello world'</span>,</span><br><span class="line">			<span class="comment">// 模板</span></span><br><span class="line">			template:<span class="string">'./src/index.html'</span>,</span><br><span class="line">			<span class="comment">// 生成的文件消除缓存</span></span><br><span class="line">			hash:<span class="literal">true</span>,</span><br><span class="line">			<span class="comment">// 压缩输出</span></span><br><span class="line">			minify:&#123;</span><br><span class="line">				<span class="comment">// 删除空白字符(折叠空白区域)</span></span><br><span class="line">				collapseWhitespace:<span class="literal">true</span>,</span><br><span class="line">				<span class="comment">// 删除属性的双引号</span></span><br><span class="line">				<span class="comment">// removeAttributeQuotes:true</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;)</span><br><span class="line">	]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>这样我们就可以直接打开dist的index.html文件就好，不需要根目录下的index.html文件了</p>
<p>打开index.html文件后，你会发现图片404，并且多了一些文件，我们先解决我们图片404的问题，因为我们的index.html所在目录目录发生了改变，所以js也需要跟着改变一下</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'../css/index.css'</span></span><br><span class="line"><span class="keyword">import</span> imgSrc <span class="keyword">from</span> <span class="string">"../img/img.jpg"</span></span><br><span class="line"><span class="keyword">const</span> img = <span class="built_in">document</span>.createElement(<span class="string">'img'</span>)</span><br><span class="line"><span class="comment">// 更改</span></span><br><span class="line">img.src = imgSrc</span><br><span class="line"><span class="built_in">document</span>.body.appendChild(img)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"hello world"</span>)</span><br></pre></td></tr></table></figure></div>

<blockquote>
<p>ps:目前只考虑单页面的生成</p>
</blockquote>
<h3 id="clean-webpack-plugin"><a href="#clean-webpack-plugin" class="headerlink" title="clean-webpack-plugin"></a>clean-webpack-plugin</h3><p>到目前为止，我们学会了动态生成模板页面了，然后怎么清楚我们之前多余的文件呢，这里我们需要借助clean-webpack-plugin插件来删除我们多余的文件</p>
<p>1、安装clean-webpack-plugin</p>
<p>npm install clean-webpack-plugin –save</p>
<p>2、配置webpack.config.js规则</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 删除某些东西</span></span><br><span class="line"><span class="keyword">const</span> CleanWebpackPlugin = <span class="built_in">require</span>(<span class="string">'clean-webpack-plugin'</span>)</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">	plugins:[</span><br><span class="line">		<span class="keyword">new</span> CleanWebpackPlugin([<span class="string">'dist'</span>])</span><br><span class="line">	]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>这样每次执行我们命令的时候就会先删除dist目录在创建</p>
<h3 id="copy-webpack-plugin"><a href="#copy-webpack-plugin" class="headerlink" title="copy-webpack-plugin"></a>copy-webpack-plugin</h3><p>小知识，针对于一些我们不想修改的静态资源文件，我们可以通过copy-webpack-plugin处理这些静态资源文件</p>
<p>我们在src目录下新建一个asset目录，放置一个1.txt文件，内容为：此例子没有什么大的实际意义╭(╯^╰)╮</p>
<p>插件我们还是需要执行两个步骤的，先安装，在配置</p>
<p>1、安装copy-webpack-plugin</p>
<p>npm install copy-webpack-plugin –save</p>
<p>2、配置webpack.config.js规则</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 处理静态资源,静态资源输出</span></span><br><span class="line"><span class="keyword">const</span> CopyWebpackPlugin = <span class="built_in">require</span>(<span class="string">'copy-webpack-plugin'</span>)</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">	plugins:[</span><br><span class="line">		<span class="comment">// 静态资源输出</span></span><br><span class="line">		<span class="keyword">new</span> CopyWebpackPlugin([&#123;</span><br><span class="line">			<span class="comment">// 初始文件夹</span></span><br><span class="line">			<span class="keyword">from</span>:path.resolve(__dirname,<span class="string">'src/asset'</span>),</span><br><span class="line">			<span class="comment">// 目标文件夹</span></span><br><span class="line">			to:<span class="string">'./public'</span></span><br><span class="line">		&#125;])</span><br><span class="line">	]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h2 id="服务器运行"><a href="#服务器运行" class="headerlink" title="服务器运行"></a>服务器运行</h2><p>到目前为止，我们已经怎么通过模板自动生成页面，自动生成js，可是我们还是发现了一些问题，就是每次更改代码后都需要webpack重新去编译，并且我们的文件还是以文件系统在浏览器打开的，很显然，这不是webpack的正确姿势。</p>
<p>因此，我们考虑怎么让我们的项目运行在服务器端。</p>
<h3 id="DIY一个临时的静态服务器"><a href="#DIY一个临时的静态服务器" class="headerlink" title="DIY一个临时的静态服务器"></a>DIY一个临时的静态服务器</h3><p>既然我们知道了我们最终生成的文件在dist文件夹，那么我们好像只要将dist文件夹的文件在服务器端跑起来不就好了吗？仔细一想，好像很有道理，那么我们尝试一下吧。</p>
<blockquote>
<p>这里我们用express搭建一个静态的服务器</p>
</blockquote>
<p>1、在根目录下新建一个app.js文件，并安装express</p>
<p>npm install express –save</p>
<p>2、在app.js中，我们利用express写一个简单的服务器</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// app.js</span></span><br><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>)</span><br><span class="line"><span class="keyword">const</span> app = express()</span><br><span class="line">app.use(<span class="string">"/"</span>, express.static(__dirname + <span class="string">"/dist"</span>))</span><br><span class="line">app.listen(<span class="number">3000</span>)</span><br></pre></td></tr></table></figure></div>

<p>3、配置下我们package.json的script字段</p>
<p>为了统一下我们的命令，不在命令行执行node app.js，我们统一用npm执行我们的命令</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang"></div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight"><table><tr><td class="code"><pre><span class="line">"scripts": &#123;</span><br><span class="line">	"server": "node app.js",</span><br><span class="line">	"build": "webpack --mode development"</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>然后我们可以在控制台执行：npm run server</p>
<p>接下来我们在浏览器输入localhost:3000，是不是可以看到我们打包后的文件了？</p>
<blockquote>
<p>ps:如果控制台输出Error: listen EADDRINUSE :::3000，说明你的端口被占用，修改下app.js的端口号就行</p>
</blockquote>
<h3 id="DIY服务器存在的问题"><a href="#DIY服务器存在的问题" class="headerlink" title="DIY服务器存在的问题"></a>DIY服务器存在的问题</h3><p>写完这个，虽然他可以在服务器端运行我们的代码，但是我们还是要重新通过webpack编译，而且还不能实现热更新和自动从浏览器中打开，当然我们也可以通过引入node的child_process模块中的exec来自动打开我们的文件，因为本篇不是node的教程就不拓展了。</p>
<h3 id="devServer"><a href="#devServer" class="headerlink" title="devServer"></a>devServer</h3><p>其实对于这个问题，webpack也早已经想到了，所以他就提供了一个devServer的配置字段，可以配置我们的本地服务器，解决热更新问题。</p>
<p>1、安装webpack-dev-server</p>
<p>npm install webpack-dev-server –save</p>
<p>2、配置webpack.config.js规则</p>
<p>增加一个devServer字段</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">	<span class="comment">// 开发服务器</span></span><br><span class="line">	devServer:&#123;</span><br><span class="line">		<span class="comment">// 设置服务器访问的基本目录</span></span><br><span class="line">		contentBase:path.resolve(__dirname,<span class="string">'dist'</span>),</span><br><span class="line">		<span class="comment">// 设置开发服务器的地址</span></span><br><span class="line">		host:<span class="string">'localhost'</span>,</span><br><span class="line">		<span class="comment">// 设置开发服务器的端口</span></span><br><span class="line">		port:<span class="number">8080</span>,</span><br><span class="line">		<span class="comment">// 自动打开浏览器</span></span><br><span class="line">		open:<span class="literal">true</span>,</span><br><span class="line">		<span class="comment">// 配置热更新</span></span><br><span class="line">		hot:<span class="literal">true</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>3、配置package.json的script字段</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang"></div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight"><table><tr><td class="code"><pre><span class="line">"scripts": &#123;</span><br><span class="line">	"server": "node app.js",</span><br><span class="line">	"build": "webpack --mode development",</span><br><span class="line">	"dev": "webpack-dev-server --mode development"</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>然后控制台输入：npm run dev的命令后，激动的心扑通扑通的跳，打开浏览器一看，wtf，报了个Uncaught Error: [HMR] Hot Module Replacement is disabled.错误，原来是我们光是在devServer配置hot还不行，需要在plugins调用一下webpack提供的热更新模块</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>)</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">	plugins: [</span><br><span class="line">		<span class="comment">// 使用热更新</span></span><br><span class="line">    	<span class="keyword">new</span> webpack.HotModuleReplacementPlugin()</span><br><span class="line">	]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>这样我们就可以实现热更新啦，热更新的好处不知道发现没有，<font color="#f60">他只会替换更新的部分,而不会把整个页面给刷新。</font>我们可以尝试修改下index.css，把body的背景修改成红色就可以发现效果了,然后在尝试把hot去掉，在修改body背景色看看，会发现整个页面都刷新了。</p>
<h2 id="打包优化"><a href="#打包优化" class="headerlink" title="打包优化"></a>打包优化</h2><p>在服务器看到我们的页面没什么问题了之后，我们就可以打包我们的文件啦，打包过后其实我们会发现我们的文件好像有点大，知识在控制台输出一个helloworld还有创建了一个img标签，居然要50kb的代码，简直太大了吧。</p>
<p>接下来我们就要压缩我们的js，其实也很简单，webpack4提供了mode的production属性就是压缩js的，我们通过命令行开启，修改webpack.config.js或者package.json的script就可以了，这里我采用package.json的方式</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang"></div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight"><table><tr><td class="code"><pre><span class="line">"scripts": &#123;</span><br><span class="line">	"build": "webpack --mode production"</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>这样之后，是不是发现小了很多啊，或许你还会问了，那css不是还在js里面吗，我们能不能单独提取出css呢？答案是肯定的</p>
<h3 id="提取css"><a href="#提取css" class="headerlink" title="提取css"></a>提取css</h3><p>提取css官方提供了两个方式，一个是extract-text-webpack-plugin，另一个是mini-css-extract-plugin，这里我们采用extract-text-webpack-plugin，原因是extract-text-webpack-plugin提供更多的操作api，相比mini-css-extract-plugin更为的好用。想要使用，我们就需要安装，操作步骤我想大家都已经很清楚了</p>
<p>1、安装extract-text-webpack-plugin</p>
<p>npm install extract-text-webpack-plugin@next –save</p>
<blockquote>
<p>ps: 这里提个醒，一定要安装extract-text-webpack-plugin@next,因为 extract-text-webpack-plugin 最新版本为 3.0.2，这个版本还没有适应 webpack 4 的版本</p>
</blockquote>
<p>2、配置webpack.config.js规则</p>
<p>这里，loader的配置也需要修改一下</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 提取css</span></span><br><span class="line"><span class="keyword">const</span> ExtractTextPlugin = <span class="built_in">require</span>(<span class="string">'extract-text-webpack-plugin'</span>)</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">	<span class="built_in">module</span>: &#123;</span><br><span class="line">		rules: [</span><br><span class="line">			&#123;</span><br><span class="line">				test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">				<span class="comment">// 从右向左(从下向上)开始执行</span></span><br><span class="line">				<span class="comment">// 提取css</span></span><br><span class="line">				use: ExtractTextPlugin.extract(&#123;</span><br><span class="line">					<span class="comment">// 只在开发环境使用</span></span><br><span class="line">					<span class="comment">// use style-loader in development</span></span><br><span class="line">					fallback: <span class="string">'style-loader'</span>,</span><br><span class="line">					use: [<span class="string">'css-loader'</span>]</span><br><span class="line">				&#125;)</span><br><span class="line">			&#125;</span><br><span class="line">       ]</span><br><span class="line">	&#125;,</span><br><span class="line">	plugins: [</span><br><span class="line">		<span class="comment">// 提取css</span></span><br><span class="line">		<span class="keyword">new</span> ExtractTextPlugin(&#123;</span><br><span class="line">			filename: <span class="string">'css/[name].css'</span>,</span><br><span class="line">			<span class="comment">// 根据不同环境走不同的配置（在开发环境下不使用）</span></span><br><span class="line">			disable: process.env.NODE_ENV === <span class="string">"development"</span></span><br><span class="line">		&#125;)</span><br><span class="line">	]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>这样不仅css提取出来了，连js也变的小了许多，然后打开css文件发现css文件居然没有压缩- -，然后我们接着配置一下我们的loader，实现对css的压缩，或许你之前听过一个叫cssnano的神器，想用他来压缩，不用担心css-loader是默认把cssnano封装进去了</p>
<p>实际上webpack对于loader的use写法有很多种，我们之前用的是比较简单的一种，不使用任何的配置项，接下来我们配置一下压缩的配置项</p>
<blockquote>
<p>打开webpack.config.js，修改下loader的代码</p>
</blockquote>
<p><font color="#f60">注意：新版的css-loader已经把minimize参数删除掉，下面请不要使用</font></p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">	<span class="built_in">module</span>: &#123;</span><br><span class="line">		rules: [</span><br><span class="line">			&#123;</span><br><span class="line">				test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">				<span class="comment">// 从右向左(从下向上)开始执行</span></span><br><span class="line">				<span class="comment">// 提取css</span></span><br><span class="line">				use: ExtractTextPlugin.extract(&#123;</span><br><span class="line">					<span class="comment">// 只在开发环境使用</span></span><br><span class="line">					<span class="comment">// use style-loader in development</span></span><br><span class="line">					fallback: <span class="string">'style-loader'</span>,</span><br><span class="line">					use: &#123;</span><br><span class="line">						loader:<span class="string">'css-loader'</span>,</span><br><span class="line">						options: &#123;</span><br><span class="line">                        	minimize: <span class="literal">true</span> <span class="comment">//css压缩  </span></span><br><span class="line">                    	&#125;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;)</span><br><span class="line">			&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>在引申一个问题，我如果想给我的页面加个背景图片也很正常吧，我们尝试着在我们的index.css修改以下代码</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">css</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">'../img/img.jpg'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>在打包一次，wtf，背景图片怎么不见了，仔细一看css代码，原来是img的路径有问题了，这里我们可以在loader上加多一个配置，解决背景图片的问题</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"> use: ExtractTextPlugin.extract(&#123;</span><br><span class="line">	<span class="comment">// 只在开发环境使用</span></span><br><span class="line">	<span class="comment">// use style-loader in development</span></span><br><span class="line">	fallback: <span class="string">'style-loader'</span>,</span><br><span class="line">	use: &#123;</span><br><span class="line">		loader: <span class="string">'css-loader'</span>,</span><br><span class="line">		options: &#123;</span><br><span class="line">			minimize: <span class="literal">true</span> <span class="comment">//css压缩</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="comment">// 解决css打包背景图的路径问题</span></span><br><span class="line">	publicPath: <span class="string">'../'</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></div>

<p>这样配置完，就没有问题了</p>
<h3 id="暴露第三方库和提取公共js"><a href="#暴露第三方库和提取公共js" class="headerlink" title="暴露第三方库和提取公共js"></a>暴露第三方库和提取公共js</h3><h4 id="暴露第三方库"><a href="#暴露第三方库" class="headerlink" title="暴露第三方库"></a>暴露第三方库</h4><p>很经常的时候，我们的页面不只是只有我们写的js，还可能引入各种各样的库，比如jquery，underscroe这种第三方工具库，我们怎么把它暴露给我们的js呢，其实只需要用到webpack的ProvidePlugin插件</p>
<p>这插件是webpack自带的所以不需要安装，只需要我们修改webpack的配置规则</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 向全局暴露第三方库</span></span><br><span class="line"><span class="keyword">new</span> webpack.ProvidePlugin(&#123;</span><br><span class="line">  $: <span class="string">'jquery'</span>,</span><br><span class="line">  jQuery: <span class="string">'jquery'</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></div>

<h4 id="提取公共js"><a href="#提取公共js" class="headerlink" title="提取公共js"></a>提取公共js</h4><p>Webpack3的commonschunk hash问题非常的不雅，使用复杂, Webpack 4 直接将CommonsChunkPlugin 插件直接改为 optimization.splitChunks 和 optimization.runtimeChunk 两个配置</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">	optimization: &#123;</span><br><span class="line">		splitChunks: &#123;</span><br><span class="line">			cacheGroups: &#123;</span><br><span class="line">				<span class="comment">// 这会创建一个vendor代码块，这个代码块包含所有被其他入口(entrypoints)共享的代码。</span></span><br><span class="line">				vendor: &#123;</span><br><span class="line">					test: <span class="regexp">/node_modules/</span>,</span><br><span class="line">					chunks: <span class="string">'initial'</span>,</span><br><span class="line">					name: <span class="string">'vendor'</span>,</span><br><span class="line">					priority: <span class="number">10</span>,</span><br><span class="line">					enforce: <span class="literal">true</span>,</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;,</span><br><span class="line">		<span class="comment">// 为每一个入口默认添加一个只包含 runtime 的 chunk</span></span><br><span class="line">		runtimeChunk: &#123;</span><br><span class="line">			name: <span class="string">'runtime'</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h3 id="img压缩和css优化"><a href="#img压缩和css优化" class="headerlink" title="img压缩和css优化"></a>img压缩和css优化</h3><p>目前为止，我们的webpack-demo已经相对完善了，然后其实还有一些优化空间的，比如css能不能自动增加前缀啊，比如我们的img大小好像都没有压缩啊，能不能压缩啊什么的</p>
<h4 id="image-webpack-loader"><a href="#image-webpack-loader" class="headerlink" title="image-webpack-loader"></a>image-webpack-loader</h4><p>这里我们使用image-webpack-loader进行img的压缩处理</p>
<p>1、安装image-webpack-loader</p>
<p>npm install image-webpack-loader –save</p>
<p>2、修改下loader配置</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">	<span class="built_in">module</span>: &#123;</span><br><span class="line">		rules: [&#123;</span><br><span class="line">			test: <span class="regexp">/\.(png|jpg|gif)$/</span>,</span><br><span class="line">			use: [&#123;</span><br><span class="line">				loader: <span class="string">'url-loader'</span>,</span><br><span class="line">				options: &#123;</span><br><span class="line">					<span class="comment">// 小于10kb转成base64</span></span><br><span class="line">					limit: <span class="number">10240</span>,</span><br><span class="line">					<span class="comment">// 打包后的文件夹</span></span><br><span class="line">					outputPath: <span class="string">'img'</span></span><br><span class="line">				&#125;</span><br><span class="line">			&#125;, &#123;</span><br><span class="line">			loader: <span class="string">'image-webpack-loader'</span>,</span><br><span class="line">			options: &#123;</span><br><span class="line">				<span class="comment">// 设置对jpg格式的图片压缩的程度设置</span></span><br><span class="line">				mozjpeg: &#123;</span><br><span class="line">					progressive: <span class="literal">true</span>,</span><br><span class="line">					quality: <span class="number">65</span></span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;]</span><br><span class="line">	&#125;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>这样就可以压缩我们的img了</p>
<h4 id="css优化篇——css自动增加前缀"><a href="#css优化篇——css自动增加前缀" class="headerlink" title="css优化篇——css自动增加前缀"></a>css优化篇——css自动增加前缀</h4><p>我们知道在写css的时候由于要兼容不同厂商浏览器，一些比较新的属性需要给它们添加厂商前缀来兼容，移动端还好，一般只需要兼容webkit，pc接很苦逼啦，谷歌、火狐、欧朋、ie每个都不一样，可以说泯灭人性啊。</p>
<p>针对于这个，我们就可以通过webpack来实现帮我们自动给css增加前缀，这里采用最常用的postcss中的Autoprefixer插件来给我们自动增加前缀</p>
<h5 id="题外话，为什么需要浏览器引擎前缀？"><a href="#题外话，为什么需要浏览器引擎前缀？" class="headerlink" title="题外话，为什么需要浏览器引擎前缀？"></a>题外话，为什么需要浏览器引擎前缀？</h5><p>1、试验一些还未成为标准的的CSS属性——也许永远不会成为标准</p>
<p>2、对新出现的标准的CSS3属性特征做实验性的实现</p>
<p>3、对CSS3中一些新属性做等效语义的个性实现</p>
<h5 id="postcss-loader"><a href="#postcss-loader" class="headerlink" title="postcss-loader"></a>postcss-loader</h5><p>聊完了题外话，我开始配置我们的webpack啦。</p>
<p>1、安装postcss-loader和autoprefixer</p>
<p>npm install postcss-loader autoprefixer –save</p>
<p>2、新建postcss.config.js文件</p>
<p>代码如下：</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    plugins: [</span><br><span class="line">        <span class="comment">// browsers模式选择：</span></span><br><span class="line">        <span class="comment">// 主流浏览器最近2个版本用 last 2 versions </span></span><br><span class="line">        <span class="comment">// 全球统计有超过1 % 的使用率使用 &gt; 1%</span></span><br><span class="line">        <span class="comment">// 仅新版本用 ff &gt; 20 或 ff&gt;=20 .</span></span><br><span class="line">        <span class="comment">// cascade 是否美化属性值(默认为true)</span></span><br><span class="line">        <span class="built_in">require</span>(<span class="string">'autoprefixer'</span>)(&#123;</span><br><span class="line">            browsers: [<span class="string">'last 4 versions'</span>, <span class="string">'IE 10'</span>, <span class="string">'ff &gt; 10'</span>],</span><br><span class="line">            cascade: <span class="literal">true</span></span><br><span class="line">        &#125;)</span><br><span class="line">    ]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div>

<p>3、配置webpack.config.js的规则</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">	 <span class="built_in">module</span>: &#123;</span><br><span class="line">        rules: [&#123;</span><br><span class="line">            test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">            <span class="comment">// 从右向左(从下向上)开始执行</span></span><br><span class="line">            <span class="comment">// 提取css</span></span><br><span class="line">            use: ExtractTextPlugin.extract(&#123;</span><br><span class="line">                <span class="comment">// 只在开发环境使用</span></span><br><span class="line">                <span class="comment">// use style-loader in development</span></span><br><span class="line">                fallback: <span class="string">'style-loader'</span>,</span><br><span class="line">                use: [&#123;</span><br><span class="line">                    loader: <span class="string">'css-loader'</span>,</span><br><span class="line">                    options: &#123;</span><br><span class="line">                        minimize: <span class="literal">true</span> <span class="comment">//css压缩</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;, &#123;</span><br><span class="line">                    loader: <span class="string">'postcss-loader'</span></span><br><span class="line">                &#125;],</span><br><span class="line">                <span class="comment">// 解决css打包背景图的路径问题</span></span><br><span class="line">                publicPath: <span class="string">'../'</span></span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>我们修改下index.css的代码，做个body的背景颜色由深到浅的悬浮过度动画</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">css</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: blue;</span><br><span class="line">    <span class="attribute">transition</span>: all <span class="number">1s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">body</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: skyblue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>运行npm run dev，就可以看到我们的效果啦，并且该加上的前缀也加上了</p>
<blockquote>
<p>总结：懒人绝对是推动世界发展的主要动力啊</p>
</blockquote>
<h4 id="css优化篇——去除冗余css代码"><a href="#css优化篇——去除冗余css代码" class="headerlink" title="css优化篇——去除冗余css代码"></a>css优化篇——去除冗余css代码</h4><p>1、安装purify-css、purifycss-webpack和glob</p>
<p>npm install purifycss-webpack purify-css glob –save</p>
<p>2、配置webpack.config.js的规则</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 删除冗余css代码</span></span><br><span class="line"><span class="keyword">const</span> PurifyCssWebpack = <span class="built_in">require</span>(<span class="string">'purifycss-webpack'</span>)</span><br><span class="line"><span class="comment">// 用于获取指定文件夹下的文件</span></span><br><span class="line"><span class="keyword">const</span> glob = <span class="built_in">require</span>(<span class="string">'glob'</span>)</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">	plugins: [</span><br><span class="line">		<span class="comment">// 删除冗余css代码</span></span><br><span class="line">		<span class="keyword">new</span> PurifyCssWebpack(&#123;</span><br><span class="line">			<span class="comment">// purifycss会根据配置的路劲遍历你的HTML文件，查找你使用的CSS</span></span><br><span class="line">			paths: glob.sync(path.join(__dirname, <span class="string">'src/*.html'</span>)),</span><br><span class="line">			<span class="comment">// 压缩css</span></span><br><span class="line">            minimize: <span class="literal">true</span>			</span><br><span class="line">		&#125;)</span><br><span class="line">	]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>测试一波，我们在index.css增加一些无用代码,比如</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">css</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.a</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#000</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.b</span>&#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">30px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>运行npm run build，再看看打包后的index.css是不没有这两个样式</p>
<h3 id="使用less"><a href="#使用less" class="headerlink" title="使用less"></a>使用less</h3><p>作为一个称职的前端，怎么能不使用css预编译呢，这里我们使用less，然后通过webpack添加对less的支持</p>
<p>前文已经说了，webpack天生只对js支持，所以我们需要安装loader才能添加对于less的支持</p>
<p>1、安装less-loader</p>
<p>npm install less-loader –save</p>
<p>2、配置webpack.config.js的规则</p>
<p>其实和配置css-loader就类似了，这里就不详细说明了</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand code-closed" aria-hidden="true"></i><div class="code_lang">javascript</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">	<span class="built_in">module</span>: &#123;</span><br><span class="line">        rules: [&#123;</span><br><span class="line">            test: <span class="regexp">/\.less$/</span>,</span><br><span class="line">            <span class="comment">// use:['style-loader','css-loader','less-loader']</span></span><br><span class="line">            <span class="comment">// 如果想分离less</span></span><br><span class="line">            use: ExtractTextPlugin.extract(&#123;</span><br><span class="line">                <span class="comment">// 只在开发环境使用</span></span><br><span class="line">                <span class="comment">// use style-loader in development</span></span><br><span class="line">                fallback: <span class="string">'style-loader'</span>,</span><br><span class="line">                use: [<span class="string">'css-loader'</span>, <span class="string">'postcss-loader'</span>, <span class="string">'less-loader'</span>],</span><br><span class="line">                <span class="comment">// 解决css打包背景图的路径问题</span></span><br><span class="line">                publicPath: <span class="string">'../'</span></span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h1 id="插件传送门"><a href="#插件传送门" class="headerlink" title="插件传送门"></a>插件传送门</h1><p><a href="https://webpack.js.org/" target="_blank" rel="noopener">webpack英文传送门</a> 英文好的可以看这个</p>
<p><a href="https://webpack.docschina.org/" target="_blank" rel="noopener">webpack中文文档传送门</a></p>
<p>1、html-webpack-plugin</p>
<p><a href="https://www.npmjs.com/package/html-webpack-plugin" target="_blank" rel="noopener">npm传送门</a></p>
<p><a href="https://github.com/jantimon/html-webpack-plugin" target="_blank" rel="noopener">github传送门</a></p>
<p>2、clean-webpack-plugin</p>
<p><a href="https://www.npmjs.com/package/clean-webpack-plugin" target="_blank" rel="noopener">npm传送门</a></p>
<p><a href="https://github.com/johnagan/clean-webpack-plugin" target="_blank" rel="noopener">github传送门</a></p>
<p>3、copy-webpack-plugin</p>
<p><a href="https://www.npmjs.com/package/copy-webpack-plugin" target="_blank" rel="noopener">npm传送门</a></p>
<p><a href="https://github.com/webpack-contrib/copy-webpack-plugin" target="_blank" rel="noopener">github传送门</a></p>
<p>4、extract-text-webpack-plugin</p>
<p><a href="https://www.npmjs.com/package/extract-text-webpack-plugin" target="_blank" rel="noopener">npm传送门</a></p>
<p><a href="https://github.com/webpack-contrib/extract-text-webpack-plugin" target="_blank" rel="noopener">github传送门</a></p>
<p>5、purifycss-webpack</p>
<p><a href="https://www.npmjs.com/package/purifycss-webpack" target="_blank" rel="noopener">npm传送门</a></p>
<p><a href="https://github.com/webpack-contrib/purifycss-webpack" target="_blank" rel="noopener">github传送门</a></p>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><blockquote>
<p><a href="https://gitee.com/gating/webpack-demo" target="_blank" rel="noopener">项目传送门</a></p>
</blockquote>
<p>学到这里，我想已经大概已经怎么使用webpack了，也算入了个门，对于一些常见的webpack配置也可以看得懂了，一些常用的插件也知道怎么的使用啦</p>
<p>当然，其实还有好多依然讲的不全，很多地方也没有做详细的解释，但是我相信，一步一步来，欲坑填坑，总会学习到更多东西的。</p>
<p>本篇webpack文章到此结束 O(∩_∩)O~</p>
<p>最后，感谢各位观众老爷观看</p>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">gating</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://gatings.cn/2018-06-15/2018-06-15-webpack%E4%BB%8E%E4%BB%80%E4%B9%88%E9%83%BD%E4%B8%8D%E6%87%82%E5%88%B0%E5%85%A5%E9%97%A8/">https://gatings.cn/2018-06-15/2018-06-15-webpack%E4%BB%8E%E4%BB%80%E4%B9%88%E9%83%BD%E4%B8%8D%E6%87%82%E5%88%B0%E5%85%A5%E9%97%A8/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://gatings.cn">磨蹭先生</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/webpack/">webpack    </a></div><div class="post_share"></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lazyload post-qr-code__img" src="https://cdn.jsdelivr.net/gh/GATING/blog_imgs@master/blog/wechat.jpg" alt="微信"><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="lazyload post-qr-code__img" src="https://cdn.jsdelivr.net/gh/GATING/blog_imgs@master/blog/alipay.jpg" alt="支付宝"><div class="post-qr-code__desc">支付宝</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2018-08-22/2018-08-22-webpack%E4%BB%8E%E5%8D%95%E9%A1%B5%E9%9D%A2%E5%88%B0%E5%A4%9A%E9%A1%B5%E9%9D%A2/"><img class="prev_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">上一篇</div><div class="prev_info"><span>webpack从单页面到多页面</span></div></a></div><div class="next-post pull_right"><a href="/2018-06-14/2018-06-14-%E7%94%A8jq%E5%AE%9E%E7%8E%B0%E7%9A%84%E5%8D%95%E4%B8%AAspan%E4%B8%BA%E5%8D%95%E4%B8%AA%E7%9A%84%E6%95%B0%E5%AD%97%E5%8A%A8%E7%94%BB/"><img class="next_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">下一篇</div><div class="next_info"><span>用jq实现的单个span为单个的数字动画</span></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2018-08-22/2018-08-22-webpack从单页面到多页面/" title="webpack从单页面到多页面"><img class="relatedPosts_cover lazyload"data-src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2018-08-22</div><div class="relatedPosts_title">webpack从单页面到多页面</div></div></a></div></div><div class="clear_both"></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> 评论</span></div><div id="lv-container" data-id="city" data-uid="MTAyMC8zNTA5MC8xMTYyNQ=="><script>(function(d, s) {
    var j, e = d.getElementsByTagName(s)[0];
    if (typeof LivereTower === 'function') { return; }
    j = d.createElement(s);
    j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
    j.async = true;
    e.parentNode.insertBefore(j, e);
})(document, 'script');</script></div></div></div></main><footer id="footer" style="background-image: url(https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/default.png)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2018 - 2020 By gating</div><div class="footer_custom_text">由<b>&nbsp;磨蹭&nbsp;</b>倾力打造&nbsp;|&nbsp;<b>女王大人</b>&nbsp;-&nbsp;热情赞助</div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async=""></script><script src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/js/click_heart.js"></script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>